var Nb=(r,s)=>()=>(s||r((s={exports:{}}).exports,s),s.exports);var k6=Nb((oT,Ql)=>{function Rb(r,s){for(var l=0;l<s.length;l++){const f=s[l];if(typeof f!="string"&&!Array.isArray(f)){for(const m in f)if(m!=="default"&&!(m in r)){const x=Object.getOwnPropertyDescriptor(f,m);x&&Object.defineProperty(r,m,x.get?x:{enumerable:!0,get:()=>f[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const b of x.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function l(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function f(m){if(m.ep)return;m.ep=!0;const x=l(m);fetch(m.href,x)}})();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var H0={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Ob(){if(_g)return wl;_g=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(f,m,x){var b=null;if(x!==void 0&&(b=""+x),m.key!==void 0&&(b=""+m.key),"key"in m){x={};for(var T in m)T!=="key"&&(x[T]=m[T])}else x=m;return m=x.ref,{$$typeof:r,type:f,key:b,ref:m!==void 0?m:null,props:x}}return wl.Fragment=s,wl.jsx=l,wl.jsxs=l,wl}var Ig;function Mb(){return Ig||(Ig=1,H0.exports=Ob()),H0.exports}var A=Mb(),G0={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function Db(){if(Bg)return mt;Bg=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=N&&B[N]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function V(B,F,de){this.props=B,this.context=F,this.refs=H,this.updater=de||P}V.prototype.isReactComponent={},V.prototype.setState=function(B,F){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,F,"setState")},V.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function Q(B,F,de){this.props=B,this.context=F,this.refs=H,this.updater=de||P}var G=Q.prototype=new Y;G.constructor=Q,L(G,V.prototype),G.isPureReactComponent=!0;var oe=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function ae(B,F,de,me,Ee,De){return de=De.ref,{$$typeof:r,type:B,key:F,ref:de!==void 0?de:null,props:De}}function ve(B,F){return ae(B.type,F,void 0,void 0,void 0,B.props)}function ue(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function Je(B){var F={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return F[de]})}var Ye=/\/+/g;function Be(B,F){return typeof B=="object"&&B!==null&&B.key!=null?Je(""+B.key):F.toString(36)}function _e(){}function Fe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(_e,_e):(B.status="pending",B.then(function(F){B.status==="pending"&&(B.status="fulfilled",B.value=F)},function(F){B.status==="pending"&&(B.status="rejected",B.reason=F)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function K(B,F,de,me,Ee){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var ge=!1;if(B===null)ge=!0;else switch(De){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(B.$$typeof){case r:case s:ge=!0;break;case C:return ge=B._init,K(ge(B._payload),F,de,me,Ee)}}if(ge)return Ee=Ee(B),ge=me===""?"."+Be(B,0):me,oe(Ee)?(de="",ge!=null&&(de=ge.replace(Ye,"$&/")+"/"),K(Ee,F,de,"",function(at){return at})):Ee!=null&&(ue(Ee)&&(Ee=ve(Ee,de+(Ee.key==null||B&&B.key===Ee.key?"":(""+Ee.key).replace(Ye,"$&/")+"/")+ge)),F.push(Ee)),1;ge=0;var Ue=me===""?".":me+":";if(oe(B))for(var Ie=0;Ie<B.length;Ie++)me=B[Ie],De=Ue+Be(me,Ie),ge+=K(me,F,de,De,Ee);else if(Ie=_(B),typeof Ie=="function")for(B=Ie.call(B),Ie=0;!(me=B.next()).done;)me=me.value,De=Ue+Be(me,Ie++),ge+=K(me,F,de,De,Ee);else if(De==="object"){if(typeof B.then=="function")return K(Fe(B),F,de,me,Ee);throw F=String(B),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ee(B,F,de){if(B==null)return B;var me=[],Ee=0;return K(B,me,"","",function(De){return F.call(de,De,Ee++)}),me}function ie(B){if(B._status===-1){var F=B._result;F=F(),F.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=F)}if(B._status===1)return B._result.default;throw B._result}var Me=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function je(){}return mt.Children={map:ee,forEach:function(B,F,de){ee(B,function(){F.apply(this,arguments)},de)},count:function(B){var F=0;return ee(B,function(){F++}),F},toArray:function(B){return ee(B,function(F){return F})||[]},only:function(B){if(!ue(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},mt.Component=V,mt.Fragment=l,mt.Profiler=m,mt.PureComponent=Q,mt.StrictMode=f,mt.Suspense=v,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,mt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},mt.cache=function(B){return function(){return B.apply(null,arguments)}},mt.cloneElement=function(B,F,de){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=L({},B.props),Ee=B.key,De=void 0;if(F!=null)for(ge in F.ref!==void 0&&(De=void 0),F.key!==void 0&&(Ee=""+F.key),F)!pe.call(F,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&F.ref===void 0||(me[ge]=F[ge]);var ge=arguments.length-2;if(ge===1)me.children=de;else if(1<ge){for(var Ue=Array(ge),Ie=0;Ie<ge;Ie++)Ue[Ie]=arguments[Ie+2];me.children=Ue}return ae(B.type,Ee,void 0,void 0,De,me)},mt.createContext=function(B){return B={$$typeof:b,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:x,_context:B},B},mt.createElement=function(B,F,de){var me,Ee={},De=null;if(F!=null)for(me in F.key!==void 0&&(De=""+F.key),F)pe.call(F,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=F[me]);var ge=arguments.length-2;if(ge===1)Ee.children=de;else if(1<ge){for(var Ue=Array(ge),Ie=0;Ie<ge;Ie++)Ue[Ie]=arguments[Ie+2];Ee.children=Ue}if(B&&B.defaultProps)for(me in ge=B.defaultProps,ge)Ee[me]===void 0&&(Ee[me]=ge[me]);return ae(B,De,void 0,void 0,null,Ee)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(B){return{$$typeof:T,render:B}},mt.isValidElement=ue,mt.lazy=function(B){return{$$typeof:C,_payload:{_status:-1,_result:B},_init:ie}},mt.memo=function(B,F){return{$$typeof:y,type:B,compare:F===void 0?null:F}},mt.startTransition=function(B){var F=$.T,de={};$.T=de;try{var me=B(),Ee=$.S;Ee!==null&&Ee(de,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(je,Me)}catch(De){Me(De)}finally{$.T=F}},mt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},mt.use=function(B){return $.H.use(B)},mt.useActionState=function(B,F,de){return $.H.useActionState(B,F,de)},mt.useCallback=function(B,F){return $.H.useCallback(B,F)},mt.useContext=function(B){return $.H.useContext(B)},mt.useDebugValue=function(){},mt.useDeferredValue=function(B,F){return $.H.useDeferredValue(B,F)},mt.useEffect=function(B,F,de){var me=$.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(B,F)},mt.useId=function(){return $.H.useId()},mt.useImperativeHandle=function(B,F,de){return $.H.useImperativeHandle(B,F,de)},mt.useInsertionEffect=function(B,F){return $.H.useInsertionEffect(B,F)},mt.useLayoutEffect=function(B,F){return $.H.useLayoutEffect(B,F)},mt.useMemo=function(B,F){return $.H.useMemo(B,F)},mt.useOptimistic=function(B,F){return $.H.useOptimistic(B,F)},mt.useReducer=function(B,F,de){return $.H.useReducer(B,F,de)},mt.useRef=function(B){return $.H.useRef(B)},mt.useState=function(B){return $.H.useState(B)},mt.useSyncExternalStore=function(B,F,de){return $.H.useSyncExternalStore(B,F,de)},mt.useTransition=function(){return $.H.useTransition()},mt.version="19.1.0",mt}var Lg;function Wd(){return Lg||(Lg=1,G0.exports=Db()),G0.exports}var U=Wd();const Bn=qd(U);var X0={exports:{}},bl={},Y0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function _b(){return jg||(jg=1,function(r){function s(ee,ie){var Me=ee.length;ee.push(ie);e:for(;0<Me;){var je=Me-1>>>1,B=ee[je];if(0<m(B,ie))ee[je]=ie,ee[Me]=B,Me=je;else break e}}function l(ee){return ee.length===0?null:ee[0]}function f(ee){if(ee.length===0)return null;var ie=ee[0],Me=ee.pop();if(Me!==ie){ee[0]=Me;e:for(var je=0,B=ee.length,F=B>>>1;je<F;){var de=2*(je+1)-1,me=ee[de],Ee=de+1,De=ee[Ee];if(0>m(me,Me))Ee<B&&0>m(De,me)?(ee[je]=De,ee[Ee]=Me,je=Ee):(ee[je]=me,ee[de]=Me,je=de);else if(Ee<B&&0>m(De,Me))ee[je]=De,ee[Ee]=Me,je=Ee;else break e}}return ie}function m(ee,ie){var Me=ee.sortIndex-ie.sortIndex;return Me!==0?Me:ee.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var b=Date,T=b.now();r.unstable_now=function(){return b.now()-T}}var v=[],y=[],C=1,N=null,_=3,P=!1,L=!1,H=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function oe(ee){for(var ie=l(y);ie!==null;){if(ie.callback===null)f(y);else if(ie.startTime<=ee)f(y),ie.sortIndex=ie.expirationTime,s(v,ie);else break;ie=l(y)}}function $(ee){if(H=!1,oe(ee),!L)if(l(v)!==null)L=!0,pe||(pe=!0,Be());else{var ie=l(y);ie!==null&&K($,ie.startTime-ee)}}var pe=!1,ae=-1,ve=5,ue=-1;function Je(){return V?!0:!(r.unstable_now()-ue<ve)}function Ye(){if(V=!1,pe){var ee=r.unstable_now();ue=ee;var ie=!0;try{e:{L=!1,H&&(H=!1,Q(ae),ae=-1),P=!0;var Me=_;try{t:{for(oe(ee),N=l(v);N!==null&&!(N.expirationTime>ee&&Je());){var je=N.callback;if(typeof je=="function"){N.callback=null,_=N.priorityLevel;var B=je(N.expirationTime<=ee);if(ee=r.unstable_now(),typeof B=="function"){N.callback=B,oe(ee),ie=!0;break t}N===l(v)&&f(v),oe(ee)}else f(v);N=l(v)}if(N!==null)ie=!0;else{var F=l(y);F!==null&&K($,F.startTime-ee),ie=!1}}break e}finally{N=null,_=Me,P=!1}ie=void 0}}finally{ie?Be():pe=!1}}}var Be;if(typeof G=="function")Be=function(){G(Ye)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Fe=_e.port2;_e.port1.onmessage=Ye,Be=function(){Fe.postMessage(null)}}else Be=function(){Y(Ye,0)};function K(ee,ie){ae=Y(function(){ee(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var Me=_;_=ie;try{return ee()}finally{_=Me}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Me=_;_=ee;try{return ie()}finally{_=Me}},r.unstable_scheduleCallback=function(ee,ie,Me){var je=r.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?je+Me:je):Me=je,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Me+B,ee={id:C++,callback:ie,priorityLevel:ee,startTime:Me,expirationTime:B,sortIndex:-1},Me>je?(ee.sortIndex=Me,s(y,ee),l(v)===null&&ee===l(y)&&(H?(Q(ae),ae=-1):H=!0,K($,Me-je))):(ee.sortIndex=B,s(v,ee),L||P||(L=!0,pe||(pe=!0,Be()))),ee},r.unstable_shouldYield=Je,r.unstable_wrapCallback=function(ee){var ie=_;return function(){var Me=_;_=ie;try{return ee.apply(this,arguments)}finally{_=Me}}}}(q0)),q0}var Pg;function Ib(){return Pg||(Pg=1,Y0.exports=_b()),Y0.exports}var W0={exports:{}},ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function Bb(){if(kg)return ar;kg=1;var r=Wd();function s(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},m=Symbol.for("react.portal");function x(v,y,C){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:v,containerInfo:y,implementation:C}}var b=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,ar.createPortal=function(v,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(s(299));return x(v,y,null,C)},ar.flushSync=function(v){var y=b.T,C=f.p;try{if(b.T=null,f.p=2,v)return v()}finally{b.T=y,f.p=C,f.d.f()}},ar.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,f.d.C(v,y))},ar.prefetchDNS=function(v){typeof v=="string"&&f.d.D(v)},ar.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var C=y.as,N=T(C,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?f.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:_,fetchPriority:P}):C==="script"&&f.d.X(v,{crossOrigin:N,integrity:_,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ar.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=T(y.as,y.crossOrigin);f.d.M(v,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&f.d.M(v)},ar.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,N=T(C,y.crossOrigin);f.d.L(v,C,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ar.preloadModule=function(v,y){if(typeof v=="string")if(y){var C=T(y.as,y.crossOrigin);f.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else f.d.m(v)},ar.requestFormReset=function(v){f.d.r(v)},ar.unstable_batchedUpdates=function(v,y){return v(y)},ar.useFormState=function(v,y,C){return b.H.useFormState(v,y,C)},ar.useFormStatus=function(){return b.H.useHostTransitionStatus()},ar.version="19.1.0",ar}var Fg;function Lb(){if(Fg)return W0.exports;Fg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),W0.exports=Bb(),W0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function jb(){if(Ug)return bl;Ug=1;var r=Ib(),s=Wd(),l=Lb();function f(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function b(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T(e){if(x(e)!==e)throw Error(f(188))}function v(e){var n=e.alternate;if(!n){if(n=x(e),n===null)throw Error(f(188));return n!==e?null:e}for(var o=e,d=n;;){var p=o.return;if(p===null)break;var E=p.alternate;if(E===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===E.child){for(E=p.child;E;){if(E===o)return T(p),e;if(E===d)return T(p),n;E=E.sibling}throw Error(f(188))}if(o.return!==d.return)o=p,d=E;else{for(var O=!1,j=p.child;j;){if(j===o){O=!0,o=p,d=E;break}if(j===d){O=!0,d=p,o=E;break}j=j.sibling}if(!O){for(j=E.child;j;){if(j===o){O=!0,o=E,d=p;break}if(j===d){O=!0,d=E,o=p;break}j=j.sibling}if(!O)throw Error(f(189))}}if(o.alternate!==d)throw Error(f(190))}if(o.tag!==3)throw Error(f(188));return o.stateNode.current===o?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,N=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Ye=Symbol.iterator;function Be(e){return e===null||typeof e!="object"?null:(e=Ye&&e[Ye]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case $:return"Suspense";case pe:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case G:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:Fe(e.type)||"Memo";case ve:n=e._payload,e=e._init;try{return Fe(e(n))}catch{}}return null}var K=Array.isArray,ee=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},je=[],B=-1;function F(e){return{current:e}}function de(e){0>B||(e.current=je[B],je[B]=null,B--)}function me(e,n){B++,je[B]=e.current,e.current=n}var Ee=F(null),De=F(null),ge=F(null),Ue=F(null);function Ie(e,n){switch(me(ge,n),me(De,e),me(Ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ag(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ag(n),e=og(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Ee),me(Ee,e)}function at(){de(Ee),de(De),de(ge)}function dt(e){e.memoizedState!==null&&me(Ue,e);var n=Ee.current,o=og(n,e.type);n!==o&&(me(De,e),me(Ee,o))}function Ke(e){De.current===e&&(de(Ee),de(De)),Ue.current===e&&(de(Ue),ml._currentValue=Me)}var Ct=Object.prototype.hasOwnProperty,Xe=r.unstable_scheduleCallback,rt=r.unstable_cancelCallback,xt=r.unstable_shouldYield,ye=r.unstable_requestPaint,Pe=r.unstable_now,Le=r.unstable_getCurrentPriorityLevel,qe=r.unstable_ImmediatePriority,Jt=r.unstable_UserBlockingPriority,ke=r.unstable_NormalPriority,si=r.unstable_LowPriority,ai=r.unstable_IdlePriority,Nn=r.log,oi=r.unstable_setDisableYieldValue,an=null,Rn=null;function wn(e){if(typeof Nn=="function"&&oi(e),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(an,e)}catch{}}var Tt=Math.clz32?Math.clz32:is,_i=Math.log,Br=Math.LN2;function is(e){return e>>>=0,e===0?32:31-(_i(e)/Br|0)|0}var Pt=256,Oe=4194304;function kt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rt(e,n,o){var d=e.pendingLanes;if(d===0)return 0;var p=0,E=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var j=d&134217727;return j!==0?(d=j&~E,d!==0?p=kt(d):(O&=j,O!==0?p=kt(O):o||(o=j&~e,o!==0&&(p=kt(o))))):(j=d&~E,j!==0?p=kt(j):O!==0?p=kt(O):o||(o=d&~e,o!==0&&(p=kt(o)))),p===0?0:n!==0&&n!==p&&(n&E)===0&&(E=p&-p,o=n&-n,E>=o||E===32&&(o&4194048)!==0)?n:p}function It(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function li(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var e=Pt;return Pt<<=1,(Pt&4194048)===0&&(Pt=256),e}function lt(){var e=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),e}function Qe(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Zt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function On(e,n,o,d,p,E){var O=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var j=e.entanglements,X=e.expirationTimes,se=e.hiddenUpdates;for(o=O&~o;0<o;){var we=31-Tt(o),Ae=1<<we;j[we]=0,X[we]=-1;var le=se[we];if(le!==null)for(se[we]=null,we=0;we<le.length;we++){var fe=le[we];fe!==null&&(fe.lane&=-536870913)}o&=~Ae}d!==0&&Wr(e,d,0),E!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=E&~(O&~n))}function Wr(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var d=31-Tt(n);e.entangledLanes|=n,e.entanglements[d]=e.entanglements[d]|1073741824|o&4194090}function mr(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var d=31-Tt(o),p=1<<d;p&n|e[d]&n&&(e[d]|=n),o&=~p}}function zs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ii(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Tg(e.type))}function Ca(e,n){var o=ie.p;try{return ie.p=e,n()}finally{ie.p=o}}var Ln=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ln,fn="__reactProps$"+Ln,ci="__reactContainer$"+Ln,Gn="__reactEvents$"+Ln,Bi="__reactListeners$"+Ln,gr="__reactHandles$"+Ln,Ve="__reactResources$"+Ln,Lr="__reactMarker$"+Ln;function Hs(e){delete e[Hn],delete e[fn],delete e[Gn],delete e[Bi],delete e[gr]}function bn(e){var n=e[Hn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[ci]||o[Hn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=fg(e);e!==null;){if(o=e[Hn])return o;e=fg(e)}return n}e=o,o=e.parentNode}return null}function Ar(e){if(e=e[Hn]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(f(33))}function Zr(e){var n=e[Ve];return n||(n=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ft(e){e[Lr]=!0}var Jl=new Set,$l={};function Xn(e,n){dn(e,n),dn(e+"Capture",n)}function dn(e,n){for($l[e]=n,e=0;e<n.length;e++)Jl.add(n[e])}var Kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Kr={};function Ro(e){return Ct.call(Kr,e)?!0:Ct.call(No,e)?!1:Kt.test(e)?Kr[e]=!0:(No[e]=!0,!1)}function Ce(e,n,o){if(Ro(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var d=n.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Sa(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Dt(e,n,o,d){if(d===null)e.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+d)}}var fi,ec;function bt(e){if(fi===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);fi=n&&n[1]||"",ec=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+e+ec}var Nt=!1;function pt(e,n){if(!e||Nt)return"";Nt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(n){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(fe){var le=fe}Reflect.construct(e,[],Ae)}else{try{Ae.call()}catch(fe){le=fe}e.call(Ae.prototype)}}else{try{throw Error()}catch(fe){le=fe}(Ae=e())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(fe){if(fe&&le&&typeof fe.stack=="string")return[fe.stack,le.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=d.DetermineComponentFrameRoot(),O=E[0],j=E[1];if(O&&j){var X=O.split(`
`),se=j.split(`
`);for(p=d=0;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(d===X.length||p===se.length)for(d=X.length-1,p=se.length-1;1<=d&&0<=p&&X[d]!==se[p];)p--;for(;1<=d&&0<=p;d--,p--)if(X[d]!==se[p]){if(d!==1||p!==1)do if(d--,p--,0>p||X[d]!==se[p]){var we=`
`+X[d].replace(" at new "," at ");return e.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",e.displayName)),we}while(1<=d&&0<=p);break}}}finally{Nt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?bt(o):""}function Oo(e){switch(e.tag){case 26:case 27:case 5:return bt(e.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return bt("Activity");default:return""}}function Ta(e){try{var n="";do n+=Oo(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function er(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function di(e){var n=hn(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,E=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(O){d=""+O,E.call(this,O)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Na(e){e._valueTracker||(e._valueTracker=di(e))}function tn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),d="";return e&&(d=hn(e)?e.checked?"true":"false":e.value),e=d,e!==o?(n.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wu=/[\n"\\]/g;function jn(e){return e.replace(Wu,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Lt(e,n,o,d,p,E,O,j){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),n!=null?O==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+er(n)):e.value!==""+er(n)&&(e.value=""+er(n)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),n!=null?ne(e,O,er(n)):o!=null?ne(e,O,er(o)):d!=null&&e.removeAttribute("value"),p==null&&E!=null&&(e.defaultChecked=!!E),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+er(j):e.removeAttribute("name")}function Pn(e,n,o,d,p,E,O,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.type=E),n!=null||o!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;o=o!=null?""+er(o):"",n=n!=null?""+er(n):o,j||n===e.value||(e.value=n),e.defaultValue=n}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,e.checked=j?e.checked:!!d,e.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O)}function ne(e,n,o){n==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function k(e,n,o,d){if(e=e.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=n.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&d&&(e[o].defaultSelected=!0)}else{for(o=""+er(o),n=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,d&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ge(e,n,o){if(n!=null&&(n=""+er(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+er(o):""}function vn(e,n,o,d){if(n==null){if(d!=null){if(o!=null)throw Error(f(92));if(K(d)){if(1<d.length)throw Error(f(93));d=d[0]}o=d}o==null&&(o=""),n=o}o=er(n),e.defaultValue=o,d=e.textContent,d===o&&d!==""&&d!==null&&(e.value=d)}function kn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ra(e,n,o){var d=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":d?e.setProperty(n,o):typeof o!="number"||o===0||Zu.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function ur(e,n,o){if(n!=null&&typeof n!="object")throw Error(f(62));if(e=e.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||n!=null&&n.hasOwnProperty(d)||(d.indexOf("--")===0?e.setProperty(d,""):d==="float"?e.cssFloat="":e[d]="");for(var p in n)d=n[p],n.hasOwnProperty(p)&&o[p]!==d&&Ra(e,p,d)}else for(var E in n)n.hasOwnProperty(E)&&Ra(e,E,n[E])}function We(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(e){return tc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gs=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hi=null,as=null;function En(e){var n=Ar(e);if(n&&(e=n.stateNode)){var o=e[fn]||null;e:switch(e=n.stateNode,n.type){case"input":if(Lt(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var d=o[n];if(d!==e&&d.form===e.form){var p=d[fn]||null;if(!p)throw Error(f(90));Lt(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<o.length;n++)d=o[n],d.form===e.form&&tn(d)}break e;case"textarea":Ge(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&k(e,!!o.multiple,n,!1)}}}var Li=!1;function Qr(e,n,o){if(Li)return e(n,o);Li=!0;try{var d=e(n);return d}finally{if(Li=!1,(hi!==null||as!==null)&&(Uc(),hi&&(n=hi,e=as,as=hi=null,En(n),e)))for(n=0;n<e.length;n++)En(e[n])}}function $e(e,n){var o=e.stateNode;if(o===null)return null;var d=o[fn]||null;if(d===null)return null;o=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(f(231,n,typeof o));return o}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ct=!1;if(Jr)try{var on={};Object.defineProperty(on,"passive",{get:function(){ct=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{ct=!1}var mi=null,Xs=null,Ys=null;function gi(){if(Ys)return Ys;var e,n=Xs,o=n.length,d,p="value"in mi?mi.value:mi.textContent,E=p.length;for(e=0;e<o&&n[e]===p[e];e++);var O=o-e;for(d=1;d<=O&&n[o-d]===p[E-d];d++);return Ys=p.slice(e,1<d?1-d:void 0)}function Ma(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function os(){return!1}function Dn(e){function n(o,d,p,E,O){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(o=e[j],this[j]=o?o(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xi:os,this.isPropagationStopped=os,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Dn(pi),$r=C({},pi,{view:0,detail:0}),tr=Dn($r),Da,_a,ls,Ia=C({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Da=e.screenX-ls.screenX,_a=e.screenY-ls.screenY):_a=Da=0,ls=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),nc=Dn(Ia),Ku=C({},Ia,{dataTransfer:0}),jt=Dn(Ku),rc=C({},$r,{relatedTarget:0}),cs=Dn(rc),wi=C({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Dn(wi),he=C({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ht=Dn(he),Fn=C({},pi,{data:0}),qs=Dn(Fn),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$u[e])?!!n[e]:!1}function Ws(){return ef}var An=C({},$r,{key:function(e){if(e.key){var n=ic[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mo=Dn(An),nn=C({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Dn(nn),ji=C({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Ut=Dn(ji),et=C({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=Dn(et),qt=C({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=Dn(qt),us=C({},pi,{newState:0,oldState:0}),nf=Dn(us),jr=[9,13,27,32],Ks=Jr&&"CompositionEvent"in window,fs=null;Jr&&"documentMode"in document&&(fs=document.documentMode);var Do=Jr&&"TextEvent"in window&&!fs,_o=Jr&&(!Ks||fs&&8<fs&&11>=fs),Io=" ",sc=!1;function ki(e,n){switch(e){case"keyup":return jr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Qs(e,n){switch(e){case"compositionend":return Ba(n);case"keypress":return n.which!==32?null:(sc=!0,Io);case"textInput":return e=n.data,e===Io&&sc?null:e;default:return null}}function rf(e,n){if(ds)return e==="compositionend"||!Ks&&ki(e,n)?(e=gi(),Ys=Xs=mi=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _o&&n.locale!=="ko"?null:n.data;default:return null}}var bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Js(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bi[e.type]:n==="textarea"}function fr(e,n,o,d){hi?as?as.push(d):as=[d]:hi=d,n=Yc(n,"onChange"),0<n.length&&(o=new yi("onChange","change",null,o,d),e.push({event:o,listeners:n}))}var hs=null,nr=null;function sf(e){tg(e,0)}function ms(e){var n=ui(e);if(tn(n))return e}function ac(e,n){if(e==="change")return n}var Bo=!1;if(Jr){var xr;if(Jr){var Lo="oninput"in document;if(!Lo){var La=document.createElement("div");La.setAttribute("oninput","return;"),Lo=typeof La.oninput=="function"}xr=Lo}else xr=!1;Bo=xr&&(!document.documentMode||9<document.documentMode)}function gs(){hs&&(hs.detachEvent("onpropertychange",St),nr=hs=null)}function St(e){if(e.propertyName==="value"&&ms(nr)){var n=[];fr(n,nr,e,ss(e)),Qr(sf,n)}}function ja(e,n,o){e==="focusin"?(gs(),hs=n,nr=o,hs.attachEvent("onpropertychange",St)):e==="focusout"&&gs()}function M(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(nr)}function t(e,n){if(e==="click")return ms(n)}function i(e,n){if(e==="input"||e==="change")return ms(n)}function a(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:a;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!Ct.call(n,p)||!c(e[p],n[p]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var o=h(e);e=0;for(var d;o;){if(o.nodeType===3){if(d=e+o.textContent.length,e<=n&&d>=n)return{node:o,offset:n-e};e=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=h(o)}}function w(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?w(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cr(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Cr(e.document)}return n}function R(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D=Jr&&"documentMode"in document&&11>=document.documentMode,I=null,z=null,q=null,W=!1;function te(e,n,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;W||I==null||I!==Cr(d)||(d=I,"selectionStart"in d&&R(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),q&&u(q,d)||(q=d,d=Yc(z,"onSelect"),0<d.length&&(n=new yi("onSelect","select",null,n,o),e.push({event:n,listeners:d}),n.target=I)))}function ce(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Te={animationend:ce("Animation","AnimationEnd"),animationiteration:ce("Animation","AnimationIteration"),animationstart:ce("Animation","AnimationStart"),transitionrun:ce("Transition","TransitionRun"),transitionstart:ce("Transition","TransitionStart"),transitioncancel:ce("Transition","TransitionCancel"),transitionend:ce("Transition","TransitionEnd")},Ne={},Se={};Jr&&(Se=document.createElement("div").style,"AnimationEvent"in window||(delete Te.animationend.animation,delete Te.animationiteration.animation,delete Te.animationstart.animation),"TransitionEvent"in window||delete Te.transitionend.transition);function ut(e){if(Ne[e])return Ne[e];if(!Te[e])return e;var n=Te[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Se)return Ne[e]=n[o];return e}var ot=ut("animationend"),Zn=ut("animationiteration"),pr=ut("animationstart"),rr=ut("transitionrun"),Vt=ut("transitionstart"),Un=ut("transitioncancel"),ir=ut("transitionend"),Fi=new Map,vi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vi.push("scrollEnd");function Sr(e,n){Fi.set(e,n),Xn(n,[e])}var oc=new WeakMap;function Pr(e,n){if(typeof e=="object"&&e!==null){var o=oc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ta(n)},oc.set(e,n),n)}return{value:e,source:n,stack:Ta(n)}}var kr=[],Pa=0,af=0;function lc(){for(var e=Pa,n=af=Pa=0;n<e;){var o=kr[n];kr[n++]=null;var d=kr[n];kr[n++]=null;var p=kr[n];kr[n++]=null;var E=kr[n];if(kr[n++]=null,d!==null&&p!==null){var O=d.pending;O===null?p.next=p:(p.next=O.next,O.next=p),d.pending=p}E!==0&&Fh(o,p,E)}}function cc(e,n,o,d){kr[Pa++]=e,kr[Pa++]=n,kr[Pa++]=o,kr[Pa++]=d,af|=d,e.lanes|=d,e=e.alternate,e!==null&&(e.lanes|=d)}function of(e,n,o,d){return cc(e,n,o,d),uc(e)}function ka(e,n){return cc(e,null,null,n),uc(e)}function Fh(e,n,o){e.lanes|=o;var d=e.alternate;d!==null&&(d.lanes|=o);for(var p=!1,E=e.return;E!==null;)E.childLanes|=o,d=E.alternate,d!==null&&(d.childLanes|=o),E.tag===22&&(e=E.stateNode,e===null||e._visibility&1||(p=!0)),e=E,E=E.return;return e.tag===3?(E=e.stateNode,p&&n!==null&&(p=31-Tt(o),e=E.hiddenUpdates,d=e[p],d===null?e[p]=[n]:d.push(n),n.lane=o|536870912),E):null}function uc(e){if(50<al)throw al=0,h0=null,Error(f(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fa={};function dw(e,n,o,d){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,n,o,d){return new dw(e,n,o,d)}function lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var o=e.alternate;return o===null?(o=Tr(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Uh(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function fc(e,n,o,d,p,E){var O=0;if(d=e,typeof e=="function")lf(e)&&(O=1);else if(typeof e=="string")O=mb(e,o,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Tr(31,o,n,p),e.elementType=ue,e.lanes=E,e;case L:return $s(o.children,p,E,n);case H:O=8,p|=24;break;case V:return e=Tr(12,o,n,p|2),e.elementType=V,e.lanes=E,e;case $:return e=Tr(13,o,n,p),e.elementType=$,e.lanes=E,e;case pe:return e=Tr(19,o,n,p),e.elementType=pe,e.lanes=E,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case G:O=10;break e;case Q:O=9;break e;case oe:O=11;break e;case ae:O=14;break e;case ve:O=16,d=null;break e}O=29,o=Error(f(130,e===null?"null":typeof e,"")),d=null}return n=Tr(O,o,n,p),n.elementType=e,n.type=d,n.lanes=E,n}function $s(e,n,o,d){return e=Tr(7,e,d,n),e.lanes=o,e}function cf(e,n,o){return e=Tr(6,e,null,n),e.lanes=o,e}function uf(e,n,o){return n=Tr(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ua=[],Va=0,dc=null,hc=0,Fr=[],Ur=0,ea=null,Vi=1,zi="";function ta(e,n){Ua[Va++]=hc,Ua[Va++]=dc,dc=e,hc=n}function Vh(e,n,o){Fr[Ur++]=Vi,Fr[Ur++]=zi,Fr[Ur++]=ea,ea=e;var d=Vi;e=zi;var p=32-Tt(d)-1;d&=~(1<<p),o+=1;var E=32-Tt(n)+p;if(30<E){var O=p-p%5;E=(d&(1<<O)-1).toString(32),d>>=O,p-=O,Vi=1<<32-Tt(n)+p|o<<p|d,zi=E+e}else Vi=1<<E|o<<p|d,zi=e}function ff(e){e.return!==null&&(ta(e,1),Vh(e,1,0))}function df(e){for(;e===dc;)dc=Ua[--Va],Ua[Va]=null,hc=Ua[--Va],Ua[Va]=null;for(;e===ea;)ea=Fr[--Ur],Fr[Ur]=null,zi=Fr[--Ur],Fr[Ur]=null,Vi=Fr[--Ur],Fr[Ur]=null}var dr=null,mn=null,Bt=!1,na=null,Ei=!1,hf=Error(f(519));function ra(e){var n=Error(f(418,""));throw ko(Pr(n,e)),hf}function zh(e){var n=e.stateNode,o=e.type,d=e.memoizedProps;switch(n[Hn]=e,n[fn]=d,o){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(o=0;o<ll.length;o++)Et(ll[o],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":Et("invalid",n),Pn(n,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Na(n);break;case"select":Et("invalid",n);break;case"textarea":Et("invalid",n),vn(n,d.value,d.defaultValue,d.children),Na(n)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||d.suppressHydrationWarning===!0||sg(n.textContent,o)?(d.popover!=null&&(Et("beforetoggle",n),Et("toggle",n)),d.onScroll!=null&&Et("scroll",n),d.onScrollEnd!=null&&Et("scrollend",n),d.onClick!=null&&(n.onclick=qc),n=!0):n=!1,n||ra(e)}function Hh(e){for(dr=e.return;dr;)switch(dr.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:dr=dr.return}}function jo(e){if(e!==dr)return!1;if(!Bt)return Hh(e),Bt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||O0(e.type,e.memoizedProps)),o=!o),o&&mn&&ra(e),Hh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){mn=ti(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}mn=null}}else n===27?(n=mn,Ds(e.type)?(e=I0,I0=null,mn=e):mn=n):mn=dr?ti(e.stateNode.nextSibling):null;return!0}function Po(){mn=dr=null,Bt=!1}function Gh(){var e=na;return e!==null&&(br===null?br=e:br.push.apply(br,e),na=null),e}function ko(e){na===null?na=[e]:na.push(e)}var mf=F(null),ia=null,Hi=null;function xs(e,n,o){me(mf,n._currentValue),n._currentValue=o}function Gi(e){e._currentValue=mf.current,de(mf)}function gf(e,n,o){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===o)break;e=e.return}}function xf(e,n,o,d){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var E=p.dependencies;if(E!==null){var O=p.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=p;for(var X=0;X<n.length;X++)if(j.context===n[X]){E.lanes|=o,j=E.alternate,j!==null&&(j.lanes|=o),gf(E.return,o,e),d||(O=null);break e}E=j.next}}else if(p.tag===18){if(O=p.return,O===null)throw Error(f(341));O.lanes|=o,E=O.alternate,E!==null&&(E.lanes|=o),gf(O,o,e),O=null}else O=p.child;if(O!==null)O.return=p;else for(O=p;O!==null;){if(O===e){O=null;break}if(p=O.sibling,p!==null){p.return=O.return,O=p;break}O=O.return}p=O}}function Fo(e,n,o,d){e=null;for(var p=n,E=!1;p!==null;){if(!E){if((p.flags&524288)!==0)E=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var O=p.alternate;if(O===null)throw Error(f(387));if(O=O.memoizedProps,O!==null){var j=p.type;c(p.pendingProps.value,O.value)||(e!==null?e.push(j):e=[j])}}else if(p===Ue.current){if(O=p.alternate,O===null)throw Error(f(387));O.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}p=p.return}e!==null&&xf(n,e,o,d),n.flags|=262144}function mc(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){ia=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sr(e){return Xh(ia,e)}function gc(e,n){return ia===null&&sa(e),Xh(e,n)}function Xh(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Hi===null){if(e===null)throw Error(f(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return o}var hw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,d){e.push(d)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},mw=r.unstable_scheduleCallback,gw=r.unstable_NormalPriority,Vn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new hw,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&mw(gw,function(){e.controller.abort()})}var Vo=null,yf=0,za=0,Ha=null;function xw(e,n){if(Vo===null){var o=Vo=[];yf=0,za=b0(),Ha={status:"pending",value:void 0,then:function(d){o.push(d)}}}return yf++,n.then(Yh,Yh),n}function Yh(){if(--yf===0&&Vo!==null){Ha!==null&&(Ha.status="fulfilled");var e=Vo;Vo=null,za=0,Ha=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pw(e,n){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){d.status="fulfilled",d.value=n;for(var p=0;p<o.length;p++)(0,o[p])(n)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var qh=ee.S;ee.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xw(e,n),qh!==null&&qh(e,n)};var aa=F(null);function wf(){var e=aa.current;return e!==null?e:Qt.pooledCache}function xc(e,n){n===null?me(aa,aa.current):me(aa,n.pool)}function Wh(){var e=wf();return e===null?null:{parent:Vn._currentValue,pool:e}}var zo=Error(f(460)),Zh=Error(f(474)),pc=Error(f(542)),bf={then:function(){}};function Kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yc(){}function Qh(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(yc,yc),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$h(e),e;default:if(typeof n.status=="string")n.then(yc,yc);else{if(e=Qt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=n,e.status="pending",e.then(function(d){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=d}},function(d){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=d}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$h(e),e}throw Ho=n,zo}}var Ho=null;function Jh(){if(Ho===null)throw Error(f(459));var e=Ho;return Ho=null,e}function $h(e){if(e===zo||e===pc)throw Error(f(483))}var ps=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,o){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(zt&2)!==0){var p=d.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),d.pending=n,n=uc(e),Fh(e,null,o),n}return cc(e,d,n,o),uc(e)}function Go(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,mr(e,o)}}function Af(e,n){var o=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var O={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};E===null?p=E=O:E=E.next=O,o=o.next}while(o!==null);E===null?p=E=n:E=E.next=n}else p=E=n;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:E,shared:d.shared,callbacks:d.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Cf=!1;function Xo(){if(Cf){var e=Ha;if(e!==null)throw e}}function Yo(e,n,o,d){Cf=!1;var p=e.updateQueue;ps=!1;var E=p.firstBaseUpdate,O=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var X=j,se=X.next;X.next=null,O===null?E=se:O.next=se,O=X;var we=e.alternate;we!==null&&(we=we.updateQueue,j=we.lastBaseUpdate,j!==O&&(j===null?we.firstBaseUpdate=se:j.next=se,we.lastBaseUpdate=X))}if(E!==null){var Ae=p.baseState;O=0,we=se=X=null,j=E;do{var le=j.lane&-536870913,fe=le!==j.lane;if(fe?(Ot&le)===le:(d&le)===le){le!==0&&le===za&&(Cf=!0),we!==null&&(we=we.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var it=e,tt=j;le=n;var Yt=o;switch(tt.tag){case 1:if(it=tt.payload,typeof it=="function"){Ae=it.call(Yt,Ae,le);break e}Ae=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=tt.payload,le=typeof it=="function"?it.call(Yt,Ae,le):it,le==null)break e;Ae=C({},Ae,le);break e;case 2:ps=!0}}le=j.callback,le!==null&&(e.flags|=64,fe&&(e.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[le]:fe.push(le))}else fe={lane:le,tag:j.tag,payload:j.payload,callback:j.callback,next:null},we===null?(se=we=fe,X=Ae):we=we.next=fe,O|=le;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;fe=j,j=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);we===null&&(X=Ae),p.baseState=X,p.firstBaseUpdate=se,p.lastBaseUpdate=we,E===null&&(p.shared.lanes=0),Ns|=O,e.lanes=O,e.memoizedState=Ae}}function e1(e,n){if(typeof e!="function")throw Error(f(191,e));e.call(n)}function t1(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)e1(o[e],n)}var Ga=F(null),wc=F(0);function n1(e,n){e=Qi,me(wc,e),me(Ga,n),Qi=e|n.baseLanes}function Sf(){me(wc,Qi),me(Ga,Ga.current)}function Tf(){Qi=wc.current,de(Ga),de(wc)}var bs=0,yt=null,Gt=null,_n=null,bc=!1,Xa=!1,oa=!1,vc=0,qo=0,Ya=null,yw=0;function Cn(){throw Error(f(321))}function Nf(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!c(e[o],n[o]))return!1;return!0}function Rf(e,n,o,d,p,E){return bs=E,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ee.H=e===null||e.memoizedState===null?F1:U1,oa=!1,E=o(d,p),oa=!1,Xa&&(E=i1(n,o,d,p)),r1(e),E}function r1(e){ee.H=Nc;var n=Gt!==null&&Gt.next!==null;if(bs=0,_n=Gt=yt=null,bc=!1,qo=0,Ya=null,n)throw Error(f(300));e===null||Yn||(e=e.dependencies,e!==null&&mc(e)&&(Yn=!0))}function i1(e,n,o,d){yt=e;var p=0;do{if(Xa&&(Ya=null),qo=0,Xa=!1,25<=p)throw Error(f(301));if(p+=1,_n=Gt=null,e.updateQueue!=null){var E=e.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ee.H=Sw,E=n(o,d)}while(Xa);return E}function ww(){var e=ee.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Gt!==null?Gt.memoizedState:null)!==e&&(yt.flags|=1024),n}function Of(){var e=vc!==0;return vc=0,e}function Mf(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Df(e){if(bc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bc=!1}bs=0,_n=Gt=yt=null,Xa=!1,qo=vc=0,Ya=null}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?yt.memoizedState=_n=e:_n=_n.next=e,_n}function In(){if(Gt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var n=_n===null?yt.memoizedState:_n.next;if(n!==null)_n=n,Gt=e;else{if(e===null)throw yt.alternate===null?Error(f(467)):Error(f(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},_n===null?yt.memoizedState=_n=e:_n=_n.next=e}return _n}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=qo;return qo+=1,Ya===null&&(Ya=[]),e=Qh(Ya,e,n),n=yt,(_n===null?n.memoizedState:_n.next)===null&&(n=n.alternate,ee.H=n===null||n.memoizedState===null?F1:U1),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===G)return sr(e)}throw Error(f(438,String(e)))}function If(e){var n=null,o=yt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var d=yt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(n={data:d.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=_f(),yt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),d=0;d<e;d++)o[d]=Je;return n.index++,o}function Xi(e,n){return typeof n=="function"?n(e):n}function Ac(e){var n=In();return Bf(n,Gt,e)}function Bf(e,n,o){var d=e.queue;if(d===null)throw Error(f(311));d.lastRenderedReducer=o;var p=e.baseQueue,E=d.pending;if(E!==null){if(p!==null){var O=p.next;p.next=E.next,E.next=O}n.baseQueue=p=E,d.pending=null}if(E=e.baseState,p===null)e.memoizedState=E;else{n=p.next;var j=O=null,X=null,se=n,we=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(Ot&Ae)===Ae:(bs&Ae)===Ae){var le=se.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===za&&(we=!0);else if((bs&le)===le){se=se.next,le===za&&(we=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(j=X=Ae,O=E):X=X.next=Ae,yt.lanes|=le,Ns|=le;Ae=se.action,oa&&o(E,Ae),E=se.hasEagerState?se.eagerState:o(E,Ae)}else le={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(j=X=le,O=E):X=X.next=le,yt.lanes|=Ae,Ns|=Ae;se=se.next}while(se!==null&&se!==n);if(X===null?O=E:X.next=j,!c(E,e.memoizedState)&&(Yn=!0,we&&(o=Ha,o!==null)))throw o;e.memoizedState=E,e.baseState=O,e.baseQueue=X,d.lastRenderedState=E}return p===null&&(d.lanes=0),[e.memoizedState,d.dispatch]}function Lf(e){var n=In(),o=n.queue;if(o===null)throw Error(f(311));o.lastRenderedReducer=e;var d=o.dispatch,p=o.pending,E=n.memoizedState;if(p!==null){o.pending=null;var O=p=p.next;do E=e(E,O.action),O=O.next;while(O!==p);c(E,n.memoizedState)||(Yn=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),o.lastRenderedState=E}return[E,d]}function s1(e,n,o){var d=yt,p=In(),E=Bt;if(E){if(o===void 0)throw Error(f(407));o=o()}else o=n();var O=!c((Gt||p).memoizedState,o);O&&(p.memoizedState=o,Yn=!0),p=p.queue;var j=l1.bind(null,d,p,e);if(Zo(2048,8,j,[e]),p.getSnapshot!==n||O||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,qa(9,Cc(),o1.bind(null,d,p,o,n),null),Qt===null)throw Error(f(349));E||(bs&124)!==0||a1(d,n,o)}return o}function a1(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=yt.updateQueue,n===null?(n=_f(),yt.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function o1(e,n,o,d){n.value=o,n.getSnapshot=d,c1(n)&&u1(e)}function l1(e,n,o){return o(function(){c1(n)&&u1(e)})}function c1(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!c(e,o)}catch{return!0}}function u1(e){var n=ka(e,2);n!==null&&Dr(n,e,2)}function jf(e){var n=yr();if(typeof e=="function"){var o=e;if(e=o(),oa){wn(!0);try{o()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},n}function f1(e,n,o,d){return e.baseState=o,Bf(e,Gt,typeof d=="function"?d:Xi)}function bw(e,n,o,d,p){if(Tc(e))throw Error(f(485));if(e=n.action,e!==null){var E={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};ee.T!==null?o(!0):E.isTransition=!1,d(E),o=n.pending,o===null?(E.next=n.pending=E,d1(n,E)):(E.next=o.next,n.pending=o.next=E)}}function d1(e,n){var o=n.action,d=n.payload,p=e.state;if(n.isTransition){var E=ee.T,O={};ee.T=O;try{var j=o(p,d),X=ee.S;X!==null&&X(O,j),h1(e,n,j)}catch(se){Pf(e,n,se)}finally{ee.T=E}}else try{E=o(p,d),h1(e,n,E)}catch(se){Pf(e,n,se)}}function h1(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){m1(e,n,d)},function(d){return Pf(e,n,d)}):m1(e,n,o)}function m1(e,n,o){n.status="fulfilled",n.value=o,g1(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,d1(e,o)))}function Pf(e,n,o){var d=e.pending;if(e.pending=null,d!==null){d=d.next;do n.status="rejected",n.reason=o,g1(n),n=n.next;while(n!==d)}e.action=null}function g1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function x1(e,n){return n}function p1(e,n){if(Bt){var o=Qt.formState;if(o!==null){e:{var d=yt;if(Bt){if(mn){t:{for(var p=mn,E=Ei;p.nodeType!==8;){if(!E){p=null;break t}if(p=ti(p.nextSibling),p===null){p=null;break t}}E=p.data,p=E==="F!"||E==="F"?p:null}if(p){mn=ti(p.nextSibling),d=p.data==="F!";break e}}ra(d)}d=!1}d&&(n=o[0])}}return o=yr(),o.memoizedState=o.baseState=n,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x1,lastRenderedState:n},o.queue=d,o=j1.bind(null,yt,d),d.dispatch=o,d=jf(!1),E=zf.bind(null,yt,!1,d.queue),d=yr(),p={state:n,dispatch:null,action:e,pending:null},d.queue=p,o=bw.bind(null,yt,p,E,o),p.dispatch=o,d.memoizedState=e,[n,o,!1]}function y1(e){var n=In();return w1(n,Gt,e)}function w1(e,n,o){if(n=Bf(e,n,x1)[0],e=Ac(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var d=Wo(n)}catch(O){throw O===zo?pc:O}else d=n;n=In();var p=n.queue,E=p.dispatch;return o!==n.memoizedState&&(yt.flags|=2048,qa(9,Cc(),vw.bind(null,p,o),null)),[d,E,e]}function vw(e,n){e.action=n}function b1(e){var n=In(),o=Gt;if(o!==null)return w1(n,o,e);In(),n=n.memoizedState,o=In();var d=o.queue.dispatch;return o.memoizedState=e,[n,d,!1]}function qa(e,n,o,d){return e={tag:e,create:o,deps:d,inst:n,next:null},n=yt.updateQueue,n===null&&(n=_f(),yt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(d=o.next,o.next=e,e.next=d,n.lastEffect=e),e}function Cc(){return{destroy:void 0,resource:void 0}}function v1(){return In().memoizedState}function Sc(e,n,o,d){var p=yr();d=d===void 0?null:d,yt.flags|=e,p.memoizedState=qa(1|n,Cc(),o,d)}function Zo(e,n,o,d){var p=In();d=d===void 0?null:d;var E=p.memoizedState.inst;Gt!==null&&d!==null&&Nf(d,Gt.memoizedState.deps)?p.memoizedState=qa(n,E,o,d):(yt.flags|=e,p.memoizedState=qa(1|n,E,o,d))}function E1(e,n){Sc(8390656,8,e,n)}function A1(e,n){Zo(2048,8,e,n)}function C1(e,n){return Zo(4,2,e,n)}function S1(e,n){return Zo(4,4,e,n)}function T1(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function N1(e,n,o){o=o!=null?o.concat([e]):null,Zo(4,4,T1.bind(null,n,e),o)}function kf(){}function R1(e,n){var o=In();n=n===void 0?null:n;var d=o.memoizedState;return n!==null&&Nf(n,d[1])?d[0]:(o.memoizedState=[e,n],e)}function O1(e,n){var o=In();n=n===void 0?null:n;var d=o.memoizedState;if(n!==null&&Nf(n,d[1]))return d[0];if(d=e(),oa){wn(!0);try{e()}finally{wn(!1)}}return o.memoizedState=[d,n],d}function Ff(e,n,o){return o===void 0||(bs&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=_m(),yt.lanes|=e,Ns|=e,o)}function M1(e,n,o,d){return c(o,n)?o:Ga.current!==null?(e=Ff(e,o,d),c(e,n)||(Yn=!0),e):(bs&42)===0?(Yn=!0,e.memoizedState=o):(e=_m(),yt.lanes|=e,Ns|=e,n)}function D1(e,n,o,d,p){var E=ie.p;ie.p=E!==0&&8>E?E:8;var O=ee.T,j={};ee.T=j,zf(e,!1,n,o);try{var X=p(),se=ee.S;if(se!==null&&se(j,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var we=pw(X,d);Ko(e,n,we,Mr(e))}else Ko(e,n,d,Mr(e))}catch(Ae){Ko(e,n,{then:function(){},status:"rejected",reason:Ae},Mr())}finally{ie.p=E,ee.T=O}}function Ew(){}function Uf(e,n,o,d){if(e.tag!==5)throw Error(f(476));var p=_1(e).queue;D1(e,p,n,Me,o===null?Ew:function(){return I1(e),o(d)})}function _1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:Me},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function I1(e){var n=_1(e).next.queue;Ko(e,n,{},Mr())}function Vf(){return sr(ml)}function B1(){return In().memoizedState}function L1(){return In().memoizedState}function Aw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Mr();e=ys(o);var d=ws(n,e,o);d!==null&&(Dr(d,n,o),Go(d,n,o)),n={cache:pf()},e.payload=n;return}n=n.return}}function Cw(e,n,o){var d=Mr();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Tc(e)?P1(n,o):(o=of(e,n,o,d),o!==null&&(Dr(o,e,d),k1(o,n,d)))}function j1(e,n,o){var d=Mr();Ko(e,n,o,d)}function Ko(e,n,o,d){var p={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))P1(n,p);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var O=n.lastRenderedState,j=E(O,o);if(p.hasEagerState=!0,p.eagerState=j,c(j,O))return cc(e,n,p,0),Qt===null&&lc(),!1}catch{}finally{}if(o=of(e,n,p,d),o!==null)return Dr(o,e,d),k1(o,n,d),!0}return!1}function zf(e,n,o,d){if(d={lane:2,revertLane:b0(),action:d,hasEagerState:!1,eagerState:null,next:null},Tc(e)){if(n)throw Error(f(479))}else n=of(e,o,d,2),n!==null&&Dr(n,e,2)}function Tc(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function P1(e,n){Xa=bc=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function k1(e,n,o){if((o&4194048)!==0){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,mr(e,o)}}var Nc={readContext:sr,use:Ec,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn},F1={readContext:sr,use:Ec,useCallback:function(e,n){return yr().memoizedState=[e,n===void 0?null:n],e},useContext:sr,useEffect:E1,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Sc(4194308,4,T1.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Sc(4194308,4,e,n)},useInsertionEffect:function(e,n){Sc(4,2,e,n)},useMemo:function(e,n){var o=yr();n=n===void 0?null:n;var d=e();if(oa){wn(!0);try{e()}finally{wn(!1)}}return o.memoizedState=[d,n],d},useReducer:function(e,n,o){var d=yr();if(o!==void 0){var p=o(n);if(oa){wn(!0);try{o(n)}finally{wn(!1)}}}else p=n;return d.memoizedState=d.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},d.queue=e,e=e.dispatch=Cw.bind(null,yt,e),[d.memoizedState,e]},useRef:function(e){var n=yr();return e={current:e},n.memoizedState=e},useState:function(e){e=jf(e);var n=e.queue,o=j1.bind(null,yt,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:kf,useDeferredValue:function(e,n){var o=yr();return Ff(o,e,n)},useTransition:function(){var e=jf(!1);return e=D1.bind(null,yt,e.queue,!0,!1),yr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var d=yt,p=yr();if(Bt){if(o===void 0)throw Error(f(407));o=o()}else{if(o=n(),Qt===null)throw Error(f(349));(Ot&124)!==0||a1(d,n,o)}p.memoizedState=o;var E={value:o,getSnapshot:n};return p.queue=E,E1(l1.bind(null,d,E,e),[e]),d.flags|=2048,qa(9,Cc(),o1.bind(null,d,E,o,n),null),o},useId:function(){var e=yr(),n=Qt.identifierPrefix;if(Bt){var o=zi,d=Vi;o=(d&~(1<<32-Tt(d)-1)).toString(32)+o,n="«"+n+"R"+o,o=vc++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=yw++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Vf,useFormState:p1,useActionState:p1,useOptimistic:function(e){var n=yr();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=zf.bind(null,yt,!0,o),o.dispatch=n,[e,n]},useMemoCache:If,useCacheRefresh:function(){return yr().memoizedState=Aw.bind(null,yt)}},U1={readContext:sr,use:Ec,useCallback:R1,useContext:sr,useEffect:A1,useImperativeHandle:N1,useInsertionEffect:C1,useLayoutEffect:S1,useMemo:O1,useReducer:Ac,useRef:v1,useState:function(){return Ac(Xi)},useDebugValue:kf,useDeferredValue:function(e,n){var o=In();return M1(o,Gt.memoizedState,e,n)},useTransition:function(){var e=Ac(Xi)[0],n=In().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:s1,useId:B1,useHostTransitionStatus:Vf,useFormState:y1,useActionState:y1,useOptimistic:function(e,n){var o=In();return f1(o,Gt,e,n)},useMemoCache:If,useCacheRefresh:L1},Sw={readContext:sr,use:Ec,useCallback:R1,useContext:sr,useEffect:A1,useImperativeHandle:N1,useInsertionEffect:C1,useLayoutEffect:S1,useMemo:O1,useReducer:Lf,useRef:v1,useState:function(){return Lf(Xi)},useDebugValue:kf,useDeferredValue:function(e,n){var o=In();return Gt===null?Ff(o,e,n):M1(o,Gt.memoizedState,e,n)},useTransition:function(){var e=Lf(Xi)[0],n=In().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:s1,useId:B1,useHostTransitionStatus:Vf,useFormState:b1,useActionState:b1,useOptimistic:function(e,n){var o=In();return Gt!==null?f1(o,Gt,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:If,useCacheRefresh:L1},Wa=null,Qo=0;function Rc(e){var n=Qo;return Qo+=1,Wa===null&&(Wa=[]),Qh(Wa,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Oc(e,n){throw n.$$typeof===N?Error(f(525)):(e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function V1(e){var n=e._init;return n(e._payload)}function z1(e){function n(J,Z){if(e){var re=J.deletions;re===null?(J.deletions=[Z],J.flags|=16):re.push(Z)}}function o(J,Z){if(!e)return null;for(;Z!==null;)n(J,Z),Z=Z.sibling;return null}function d(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function p(J,Z){return J=Ui(J,Z),J.index=0,J.sibling=null,J}function E(J,Z,re){return J.index=re,e?(re=J.alternate,re!==null?(re=re.index,re<Z?(J.flags|=67108866,Z):re):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function O(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function j(J,Z,re,be){return Z===null||Z.tag!==6?(Z=cf(re,J.mode,be),Z.return=J,Z):(Z=p(Z,re),Z.return=J,Z)}function X(J,Z,re,be){var He=re.type;return He===L?we(J,Z,re.props.children,be,re.key):Z!==null&&(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ve&&V1(He)===Z.type)?(Z=p(Z,re.props),Jo(Z,re),Z.return=J,Z):(Z=fc(re.type,re.key,re.props,null,J.mode,be),Jo(Z,re),Z.return=J,Z)}function se(J,Z,re,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=uf(re,J.mode,be),Z.return=J,Z):(Z=p(Z,re.children||[]),Z.return=J,Z)}function we(J,Z,re,be,He){return Z===null||Z.tag!==7?(Z=$s(re,J.mode,be,He),Z.return=J,Z):(Z=p(Z,re),Z.return=J,Z)}function Ae(J,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=cf(""+Z,J.mode,re),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return re=fc(Z.type,Z.key,Z.props,null,J.mode,re),Jo(re,Z),re.return=J,re;case P:return Z=uf(Z,J.mode,re),Z.return=J,Z;case ve:var be=Z._init;return Z=be(Z._payload),Ae(J,Z,re)}if(K(Z)||Be(Z))return Z=$s(Z,J.mode,re,null),Z.return=J,Z;if(typeof Z.then=="function")return Ae(J,Rc(Z),re);if(Z.$$typeof===G)return Ae(J,gc(J,Z),re);Oc(J,Z)}return null}function le(J,Z,re,be){var He=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return He!==null?null:j(J,Z,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===He?X(J,Z,re,be):null;case P:return re.key===He?se(J,Z,re,be):null;case ve:return He=re._init,re=He(re._payload),le(J,Z,re,be)}if(K(re)||Be(re))return He!==null?null:we(J,Z,re,be,null);if(typeof re.then=="function")return le(J,Z,Rc(re),be);if(re.$$typeof===G)return le(J,Z,gc(J,re),be);Oc(J,re)}return null}function fe(J,Z,re,be,He){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return J=J.get(re)||null,j(Z,J,""+be,He);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case _:return J=J.get(be.key===null?re:be.key)||null,X(Z,J,be,He);case P:return J=J.get(be.key===null?re:be.key)||null,se(Z,J,be,He);case ve:var wt=be._init;return be=wt(be._payload),fe(J,Z,re,be,He)}if(K(be)||Be(be))return J=J.get(re)||null,we(Z,J,be,He,null);if(typeof be.then=="function")return fe(J,Z,re,Rc(be),He);if(be.$$typeof===G)return fe(J,Z,re,gc(Z,be),He);Oc(Z,be)}return null}function it(J,Z,re,be){for(var He=null,wt=null,Ze=Z,nt=Z=0,Wn=null;Ze!==null&&nt<re.length;nt++){Ze.index>nt?(Wn=Ze,Ze=null):Wn=Ze.sibling;var _t=le(J,Ze,re[nt],be);if(_t===null){Ze===null&&(Ze=Wn);break}e&&Ze&&_t.alternate===null&&n(J,Ze),Z=E(_t,Z,nt),wt===null?He=_t:wt.sibling=_t,wt=_t,Ze=Wn}if(nt===re.length)return o(J,Ze),Bt&&ta(J,nt),He;if(Ze===null){for(;nt<re.length;nt++)Ze=Ae(J,re[nt],be),Ze!==null&&(Z=E(Ze,Z,nt),wt===null?He=Ze:wt.sibling=Ze,wt=Ze);return Bt&&ta(J,nt),He}for(Ze=d(Ze);nt<re.length;nt++)Wn=fe(Ze,J,nt,re[nt],be),Wn!==null&&(e&&Wn.alternate!==null&&Ze.delete(Wn.key===null?nt:Wn.key),Z=E(Wn,Z,nt),wt===null?He=Wn:wt.sibling=Wn,wt=Wn);return e&&Ze.forEach(function(js){return n(J,js)}),Bt&&ta(J,nt),He}function tt(J,Z,re,be){if(re==null)throw Error(f(151));for(var He=null,wt=null,Ze=Z,nt=Z=0,Wn=null,_t=re.next();Ze!==null&&!_t.done;nt++,_t=re.next()){Ze.index>nt?(Wn=Ze,Ze=null):Wn=Ze.sibling;var js=le(J,Ze,_t.value,be);if(js===null){Ze===null&&(Ze=Wn);break}e&&Ze&&js.alternate===null&&n(J,Ze),Z=E(js,Z,nt),wt===null?He=js:wt.sibling=js,wt=js,Ze=Wn}if(_t.done)return o(J,Ze),Bt&&ta(J,nt),He;if(Ze===null){for(;!_t.done;nt++,_t=re.next())_t=Ae(J,_t.value,be),_t!==null&&(Z=E(_t,Z,nt),wt===null?He=_t:wt.sibling=_t,wt=_t);return Bt&&ta(J,nt),He}for(Ze=d(Ze);!_t.done;nt++,_t=re.next())_t=fe(Ze,J,nt,_t.value,be),_t!==null&&(e&&_t.alternate!==null&&Ze.delete(_t.key===null?nt:_t.key),Z=E(_t,Z,nt),wt===null?He=_t:wt.sibling=_t,wt=_t);return e&&Ze.forEach(function(Tb){return n(J,Tb)}),Bt&&ta(J,nt),He}function Yt(J,Z,re,be){if(typeof re=="object"&&re!==null&&re.type===L&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var He=re.key;Z!==null;){if(Z.key===He){if(He=re.type,He===L){if(Z.tag===7){o(J,Z.sibling),be=p(Z,re.props.children),be.return=J,J=be;break e}}else if(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ve&&V1(He)===Z.type){o(J,Z.sibling),be=p(Z,re.props),Jo(be,re),be.return=J,J=be;break e}o(J,Z);break}else n(J,Z);Z=Z.sibling}re.type===L?(be=$s(re.props.children,J.mode,be,re.key),be.return=J,J=be):(be=fc(re.type,re.key,re.props,null,J.mode,be),Jo(be,re),be.return=J,J=be)}return O(J);case P:e:{for(He=re.key;Z!==null;){if(Z.key===He)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){o(J,Z.sibling),be=p(Z,re.children||[]),be.return=J,J=be;break e}else{o(J,Z);break}else n(J,Z);Z=Z.sibling}be=uf(re,J.mode,be),be.return=J,J=be}return O(J);case ve:return He=re._init,re=He(re._payload),Yt(J,Z,re,be)}if(K(re))return it(J,Z,re,be);if(Be(re)){if(He=Be(re),typeof He!="function")throw Error(f(150));return re=He.call(re),tt(J,Z,re,be)}if(typeof re.then=="function")return Yt(J,Z,Rc(re),be);if(re.$$typeof===G)return Yt(J,Z,gc(J,re),be);Oc(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Z!==null&&Z.tag===6?(o(J,Z.sibling),be=p(Z,re),be.return=J,J=be):(o(J,Z),be=cf(re,J.mode,be),be.return=J,J=be),O(J)):o(J,Z)}return function(J,Z,re,be){try{Qo=0;var He=Yt(J,Z,re,be);return Wa=null,He}catch(Ze){if(Ze===zo||Ze===pc)throw Ze;var wt=Tr(29,Ze,null,J.mode);return wt.lanes=be,wt.return=J,wt}finally{}}}var Za=z1(!0),H1=z1(!1),Vr=F(null),Ai=null;function vs(e){var n=e.alternate;me(zn,zn.current&1),me(Vr,e),Ai===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Ai=e)}function G1(e){if(e.tag===22){if(me(zn,zn.current),me(Vr,e),Ai===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ai=e)}}else Es()}function Es(){me(zn,zn.current),me(Vr,Vr.current)}function Yi(e){de(Vr),Ai===e&&(Ai=null),de(zn)}var zn=F(0);function Mc(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_0(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hf(e,n,o,d){n=e.memoizedState,o=o(d,n),o=o==null?n:C({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Gf={enqueueSetState:function(e,n,o){e=e._reactInternals;var d=Mr(),p=ys(d);p.payload=n,o!=null&&(p.callback=o),n=ws(e,p,d),n!==null&&(Dr(n,e,d),Go(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var d=Mr(),p=ys(d);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=ws(e,p,d),n!==null&&(Dr(n,e,d),Go(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Mr(),d=ys(o);d.tag=2,n!=null&&(d.callback=n),n=ws(e,d,o),n!==null&&(Dr(n,e,o),Go(n,e,o))}};function X1(e,n,o,d,p,E,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,E,O):n.prototype&&n.prototype.isPureReactComponent?!u(o,d)||!u(p,E):!0}function Y1(e,n,o,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,d),n.state!==e&&Gf.enqueueReplaceState(n,n.state,null)}function la(e,n){var o=n;if("ref"in n){o={};for(var d in n)d!=="ref"&&(o[d]=n[d])}if(e=e.defaultProps){o===n&&(o=C({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}var Dc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function q1(e){Dc(e)}function W1(e){console.error(e)}function Z1(e){Dc(e)}function _c(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(d){setTimeout(function(){throw d})}}function K1(e,n,o){try{var d=e.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xf(e,n,o){return o=ys(o),o.tag=3,o.payload={element:null},o.callback=function(){_c(e,n)},o}function Q1(e){return e=ys(e),e.tag=3,e}function J1(e,n,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var E=d.value;e.payload=function(){return p(E)},e.callback=function(){K1(n,o,d)}}var O=o.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){K1(n,o,d),typeof p!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function Tw(e,n,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(n=o.alternate,n!==null&&Fo(n,o,p,!0),o=Vr.current,o!==null){switch(o.tag){case 13:return Ai===null?g0():o.alternate===null&&gn===0&&(gn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===bf?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([d]):n.add(d),p0(e,d,p)),!1;case 22:return o.flags|=65536,d===bf?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([d]):o.add(d)),p0(e,d,p)),!1}throw Error(f(435,o.tag))}return p0(e,d,p),g0(),!1}if(Bt)return n=Vr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,d!==hf&&(e=Error(f(422),{cause:d}),ko(Pr(e,o)))):(d!==hf&&(n=Error(f(423),{cause:d}),ko(Pr(n,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,d=Pr(d,o),p=Xf(e.stateNode,d,p),Af(e,p),gn!==4&&(gn=2)),!1;var E=Error(f(520),{cause:d});if(E=Pr(E,o),sl===null?sl=[E]:sl.push(E),gn!==4&&(gn=2),n===null)return!0;d=Pr(d,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Xf(o.stateNode,d,e),Af(o,e),!1;case 1:if(n=o.type,E=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Rs===null||!Rs.has(E))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Q1(p),J1(p,e,o,d),Af(o,p),!1}o=o.return}while(o!==null);return!1}var $1=Error(f(461)),Yn=!1;function Kn(e,n,o,d){n.child=e===null?H1(n,null,o,d):Za(n,e.child,o,d)}function em(e,n,o,d,p){o=o.render;var E=n.ref;if("ref"in d){var O={};for(var j in d)j!=="ref"&&(O[j]=d[j])}else O=d;return sa(n),d=Rf(e,n,o,O,E,p),j=Of(),e!==null&&!Yn?(Mf(e,n,p),qi(e,n,p)):(Bt&&j&&ff(n),n.flags|=1,Kn(e,n,d,p),n.child)}function tm(e,n,o,d,p){if(e===null){var E=o.type;return typeof E=="function"&&!lf(E)&&E.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=E,nm(e,n,E,d,p)):(e=fc(o.type,null,d,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,!$f(e,p)){var O=E.memoizedProps;if(o=o.compare,o=o!==null?o:u,o(O,d)&&e.ref===n.ref)return qi(e,n,p)}return n.flags|=1,e=Ui(E,d),e.ref=n.ref,e.return=n,n.child=e}function nm(e,n,o,d,p){if(e!==null){var E=e.memoizedProps;if(u(E,d)&&e.ref===n.ref)if(Yn=!1,n.pendingProps=d=E,$f(e,p))(e.flags&131072)!==0&&(Yn=!0);else return n.lanes=e.lanes,qi(e,n,p)}return Yf(e,n,o,d,p)}function rm(e,n,o){var d=n.pendingProps,p=d.children,E=e!==null?e.memoizedState:null;if(d.mode==="hidden"){if((n.flags&128)!==0){if(d=E!==null?E.baseLanes|o:o,e!==null){for(p=n.child=e.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;n.childLanes=E&~d}else n.childLanes=0,n.child=null;return im(e,n,d,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xc(n,E!==null?E.cachePool:null),E!==null?n1(n,E):Sf(),G1(n);else return n.lanes=n.childLanes=536870912,im(e,n,E!==null?E.baseLanes|o:o,o)}else E!==null?(xc(n,E.cachePool),n1(n,E),Es(),n.memoizedState=null):(e!==null&&xc(n,null),Sf(),Es());return Kn(e,n,p,o),n.child}function im(e,n,o,d){var p=wf();return p=p===null?null:{parent:Vn._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&xc(n,null),Sf(),G1(n),e!==null&&Fo(e,n,d,!0),null}function Ic(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(f(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Yf(e,n,o,d,p){return sa(n),o=Rf(e,n,o,d,void 0,p),d=Of(),e!==null&&!Yn?(Mf(e,n,p),qi(e,n,p)):(Bt&&d&&ff(n),n.flags|=1,Kn(e,n,o,p),n.child)}function sm(e,n,o,d,p,E){return sa(n),n.updateQueue=null,o=i1(n,d,o,p),r1(e),d=Of(),e!==null&&!Yn?(Mf(e,n,E),qi(e,n,E)):(Bt&&d&&ff(n),n.flags|=1,Kn(e,n,o,E),n.child)}function am(e,n,o,d,p){if(sa(n),n.stateNode===null){var E=Fa,O=o.contextType;typeof O=="object"&&O!==null&&(E=sr(O)),E=new o(d,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Gf,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=d,E.state=n.memoizedState,E.refs={},vf(n),O=o.contextType,E.context=typeof O=="object"&&O!==null?sr(O):Fa,E.state=n.memoizedState,O=o.getDerivedStateFromProps,typeof O=="function"&&(Hf(n,o,O,d),E.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&Gf.enqueueReplaceState(E,E.state,null),Yo(n,d,E,p),Xo(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),d=!0}else if(e===null){E=n.stateNode;var j=n.memoizedProps,X=la(o,j);E.props=X;var se=E.context,we=o.contextType;O=Fa,typeof we=="object"&&we!==null&&(O=sr(we));var Ae=o.getDerivedStateFromProps;we=typeof Ae=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,we||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||se!==O)&&Y1(n,E,d,O),ps=!1;var le=n.memoizedState;E.state=le,Yo(n,d,E,p),Xo(),se=n.memoizedState,j||le!==se||ps?(typeof Ae=="function"&&(Hf(n,o,Ae,d),se=n.memoizedState),(X=ps||X1(n,o,X,d,le,se,O))?(we||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=se),E.props=d,E.state=se,E.context=O,d=X):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{E=n.stateNode,Ef(e,n),O=n.memoizedProps,we=la(o,O),E.props=we,Ae=n.pendingProps,le=E.context,se=o.contextType,X=Fa,typeof se=="object"&&se!==null&&(X=sr(se)),j=o.getDerivedStateFromProps,(se=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==Ae||le!==X)&&Y1(n,E,d,X),ps=!1,le=n.memoizedState,E.state=le,Yo(n,d,E,p),Xo();var fe=n.memoizedState;O!==Ae||le!==fe||ps||e!==null&&e.dependencies!==null&&mc(e.dependencies)?(typeof j=="function"&&(Hf(n,o,j,d),fe=n.memoizedState),(we=ps||X1(n,o,we,d,le,fe,X)||e!==null&&e.dependencies!==null&&mc(e.dependencies))?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,fe,X),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,fe,X)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=fe),E.props=d,E.state=fe,E.context=X,d=we):(typeof E.componentDidUpdate!="function"||O===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),d=!1)}return E=d,Ic(e,n),d=(n.flags&128)!==0,E||d?(E=n.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,e!==null&&d?(n.child=Za(n,e.child,null,p),n.child=Za(n,null,o,p)):Kn(e,n,o,p),n.memoizedState=E.state,e=n.child):e=qi(e,n,p),e}function om(e,n,o,d){return Po(),n.flags|=256,Kn(e,n,o,d),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:Wh()}}function Zf(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=zr),e}function lm(e,n,o){var d=n.pendingProps,p=!1,E=(n.flags&128)!==0,O;if((O=E)||(O=e!==null&&e.memoizedState===null?!1:(zn.current&2)!==0),O&&(p=!0,n.flags&=-129),O=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(p?vs(n):Es(),Bt){var j=mn,X;if(X=j){e:{for(X=j,j=Ei;X.nodeType!==8;){if(!j){j=null;break e}if(X=ti(X.nextSibling),X===null){j=null;break e}}j=X}j!==null?(n.memoizedState={dehydrated:j,treeContext:ea!==null?{id:Vi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},X=Tr(18,null,null,0),X.stateNode=j,X.return=n,n.child=X,dr=n,mn=null,X=!0):X=!1}X||ra(n)}if(j=n.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return _0(j)?n.lanes=32:n.lanes=536870912,null;Yi(n)}return j=d.children,d=d.fallback,p?(Es(),p=n.mode,j=Bc({mode:"hidden",children:j},p),d=$s(d,p,o,null),j.return=n,d.return=n,j.sibling=d,n.child=j,p=n.child,p.memoizedState=Wf(o),p.childLanes=Zf(e,O,o),n.memoizedState=qf,d):(vs(n),Kf(n,j))}if(X=e.memoizedState,X!==null&&(j=X.dehydrated,j!==null)){if(E)n.flags&256?(vs(n),n.flags&=-257,n=Qf(e,n,o)):n.memoizedState!==null?(Es(),n.child=e.child,n.flags|=128,n=null):(Es(),p=d.fallback,j=n.mode,d=Bc({mode:"visible",children:d.children},j),p=$s(p,j,o,null),p.flags|=2,d.return=n,p.return=n,d.sibling=p,n.child=d,Za(n,e.child,null,o),d=n.child,d.memoizedState=Wf(o),d.childLanes=Zf(e,O,o),n.memoizedState=qf,n=p);else if(vs(n),_0(j)){if(O=j.nextSibling&&j.nextSibling.dataset,O)var se=O.dgst;O=se,d=Error(f(419)),d.stack="",d.digest=O,ko({value:d,source:null,stack:null}),n=Qf(e,n,o)}else if(Yn||Fo(e,n,o,!1),O=(o&e.childLanes)!==0,Yn||O){if(O=Qt,O!==null&&(d=o&-o,d=(d&42)!==0?1:zs(d),d=(d&(O.suspendedLanes|o))!==0?0:d,d!==0&&d!==X.retryLane))throw X.retryLane=d,ka(e,d),Dr(O,e,d),$1;j.data==="$?"||g0(),n=Qf(e,n,o)}else j.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=X.treeContext,mn=ti(j.nextSibling),dr=n,Bt=!0,na=null,Ei=!1,e!==null&&(Fr[Ur++]=Vi,Fr[Ur++]=zi,Fr[Ur++]=ea,Vi=e.id,zi=e.overflow,ea=n),n=Kf(n,d.children),n.flags|=4096);return n}return p?(Es(),p=d.fallback,j=n.mode,X=e.child,se=X.sibling,d=Ui(X,{mode:"hidden",children:d.children}),d.subtreeFlags=X.subtreeFlags&65011712,se!==null?p=Ui(se,p):(p=$s(p,j,o,null),p.flags|=2),p.return=n,d.return=n,d.sibling=p,n.child=d,d=p,p=n.child,j=e.child.memoizedState,j===null?j=Wf(o):(X=j.cachePool,X!==null?(se=Vn._currentValue,X=X.parent!==se?{parent:se,pool:se}:X):X=Wh(),j={baseLanes:j.baseLanes|o,cachePool:X}),p.memoizedState=j,p.childLanes=Zf(e,O,o),n.memoizedState=qf,d):(vs(n),o=e.child,e=o.sibling,o=Ui(o,{mode:"visible",children:d.children}),o.return=n,o.sibling=null,e!==null&&(O=n.deletions,O===null?(n.deletions=[e],n.flags|=16):O.push(e)),n.child=o,n.memoizedState=null,o)}function Kf(e,n){return n=Bc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bc(e,n){return e=Tr(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qf(e,n,o){return Za(n,e.child,null,o),e=Kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cm(e,n,o){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),gf(e.return,n,o)}function Jf(e,n,o,d,p){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=o,E.tailMode=p)}function um(e,n,o){var d=n.pendingProps,p=d.revealOrder,E=d.tail;if(Kn(e,n,d.children,o),d=zn.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cm(e,o,n);else if(e.tag===19)cm(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}switch(me(zn,d),p){case"forwards":for(o=n.child,p=null;o!==null;)e=o.alternate,e!==null&&Mc(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),Jf(n,!1,p,o,E);break;case"backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Mc(e)===null){n.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}Jf(n,!0,o,null,E);break;case"together":Jf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Fo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,o=Ui(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Ui(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function $f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mc(e)))}function Nw(e,n,o){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),xs(n,Vn,e.memoizedState.cache),Po();break;case 27:case 5:dt(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 13:var d=n.memoizedState;if(d!==null)return d.dehydrated!==null?(vs(n),n.flags|=128,null):(o&n.child.childLanes)!==0?lm(e,n,o):(vs(n),e=qi(e,n,o),e!==null?e.sibling:null);vs(n);break;case 19:var p=(e.flags&128)!==0;if(d=(o&n.childLanes)!==0,d||(Fo(e,n,o,!1),d=(o&n.childLanes)!==0),p){if(d)return um(e,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),me(zn,zn.current),d)break;return null;case 22:case 23:return n.lanes=0,rm(e,n,o);case 24:xs(n,Vn,e.memoizedState.cache)}return qi(e,n,o)}function fm(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Yn=!0;else{if(!$f(e,o)&&(n.flags&128)===0)return Yn=!1,Nw(e,n,o);Yn=(e.flags&131072)!==0}else Yn=!1,Bt&&(n.flags&1048576)!==0&&Vh(n,hc,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var d=n.elementType,p=d._init;if(d=p(d._payload),n.type=d,typeof d=="function")lf(d)?(e=la(d,e),n.tag=1,n=am(null,n,d,e,o)):(n.tag=0,n=Yf(null,n,d,e,o));else{if(d!=null){if(p=d.$$typeof,p===oe){n.tag=11,n=em(null,n,d,e,o);break e}else if(p===ae){n.tag=14,n=tm(null,n,d,e,o);break e}}throw n=Fe(d)||d,Error(f(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,o);case 1:return d=n.type,p=la(d,n.pendingProps),am(e,n,d,p,o);case 3:e:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(f(387));d=n.pendingProps;var E=n.memoizedState;p=E.element,Ef(e,n),Yo(n,d,null,o);var O=n.memoizedState;if(d=O.cache,xs(n,Vn,d),d!==E.cache&&xf(n,[Vn],o,!0),Xo(),d=O.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:O.cache},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){n=om(e,n,d,o);break e}else if(d!==p){p=Pr(Error(f(424)),n),ko(p),n=om(e,n,d,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mn=ti(e.firstChild),dr=n,Bt=!0,na=null,Ei=!0,o=H1(n,null,d,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Po(),d===p){n=qi(e,n,o);break e}Kn(e,n,d,o)}n=n.child}return n;case 26:return Ic(e,n),e===null?(o=gg(n.type,null,n.pendingProps,null))?n.memoizedState=o:Bt||(o=n.type,e=n.pendingProps,d=Wc(ge.current).createElement(o),d[Hn]=n,d[fn]=e,Jn(d,o,e),Ft(d),n.stateNode=d):n.memoizedState=gg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return dt(n),e===null&&Bt&&(d=n.stateNode=dg(n.type,n.pendingProps,ge.current),dr=n,Ei=!0,p=mn,Ds(n.type)?(I0=p,mn=ti(d.firstChild)):mn=p),Kn(e,n,n.pendingProps.children,o),Ic(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((p=d=mn)&&(d=tb(d,n.type,n.pendingProps,Ei),d!==null?(n.stateNode=d,dr=n,mn=ti(d.firstChild),Ei=!1,p=!0):p=!1),p||ra(n)),dt(n),p=n.type,E=n.pendingProps,O=e!==null?e.memoizedProps:null,d=E.children,O0(p,E)?d=null:O!==null&&O0(p,O)&&(n.flags|=32),n.memoizedState!==null&&(p=Rf(e,n,ww,null,null,o),ml._currentValue=p),Ic(e,n),Kn(e,n,d,o),n.child;case 6:return e===null&&Bt&&((e=o=mn)&&(o=nb(o,n.pendingProps,Ei),o!==null?(n.stateNode=o,dr=n,mn=null,e=!0):e=!1),e||ra(n)),null;case 13:return lm(e,n,o);case 4:return Ie(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Za(n,null,d,o):Kn(e,n,d,o),n.child;case 11:return em(e,n,n.type,n.pendingProps,o);case 7:return Kn(e,n,n.pendingProps,o),n.child;case 8:return Kn(e,n,n.pendingProps.children,o),n.child;case 12:return Kn(e,n,n.pendingProps.children,o),n.child;case 10:return d=n.pendingProps,xs(n,n.type,d.value),Kn(e,n,d.children,o),n.child;case 9:return p=n.type._context,d=n.pendingProps.children,sa(n),p=sr(p),d=d(p),n.flags|=1,Kn(e,n,d,o),n.child;case 14:return tm(e,n,n.type,n.pendingProps,o);case 15:return nm(e,n,n.type,n.pendingProps,o);case 19:return um(e,n,o);case 31:return d=n.pendingProps,o=n.mode,d={mode:d.mode,children:d.children},e===null?(o=Bc(d,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Ui(e.child,d),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return rm(e,n,o);case 24:return sa(n),d=sr(Vn),e===null?(p=wf(),p===null&&(p=Qt,E=pf(),p.pooledCache=E,E.refCount++,E!==null&&(p.pooledCacheLanes|=o),p=E),n.memoizedState={parent:d,cache:p},vf(n),xs(n,Vn,p)):((e.lanes&o)!==0&&(Ef(e,n),Yo(n,null,null,o),Xo()),p=e.memoizedState,E=n.memoizedState,p.parent!==d?(p={parent:d,cache:d},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),xs(n,Vn,d)):(d=E.cache,xs(n,Vn,d),d!==p.cache&&xf(n,[Vn],o,!0))),Kn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(f(156,n.tag))}function Wi(e){e.flags|=4}function dm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bg(n)){if(n=Vr.current,n!==null&&((Ot&4194048)===Ot?Ai!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Ai))throw Ho=bf,Zh;e.flags|=8192}}function Lc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lt():536870912,e.lanes|=n,$a|=n)}function $o(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function ln(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,d=0;if(n)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=d,e.childLanes=o,n}function Rw(e,n,o){var d=n.pendingProps;switch(df(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(n),null;case 1:return ln(n),null;case 3:return o=n.stateNode,d=null,e!==null&&(d=e.memoizedState.cache),n.memoizedState.cache!==d&&(n.flags|=2048),Gi(Vn),at(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(jo(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ln(n),null;case 26:return o=n.memoizedState,e===null?(Wi(n),o!==null?(ln(n),dm(n,o)):(ln(n),n.flags&=-16777217)):o?o!==e.memoizedState?(Wi(n),ln(n),dm(n,o)):(ln(n),n.flags&=-16777217):(e.memoizedProps!==d&&Wi(n),ln(n),n.flags&=-16777217),null;case 27:Ke(n),o=ge.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==d&&Wi(n);else{if(!d){if(n.stateNode===null)throw Error(f(166));return ln(n),null}e=Ee.current,jo(n)?zh(n):(e=dg(p,d,o),n.stateNode=e,Wi(n))}return ln(n),null;case 5:if(Ke(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==d&&Wi(n);else{if(!d){if(n.stateNode===null)throw Error(f(166));return ln(n),null}if(e=Ee.current,jo(n))zh(n);else{switch(p=Wc(ge.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?e.multiple=!0:d.size&&(e.size=d.size);break;default:e=typeof d.is=="string"?p.createElement(o,{is:d.is}):p.createElement(o)}}e[Hn]=n,e[fn]=d;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(Jn(e,o,d),o){case"button":case"input":case"select":case"textarea":e=!!d.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wi(n)}}return ln(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==d&&Wi(n);else{if(typeof d!="string"&&n.stateNode===null)throw Error(f(166));if(e=ge.current,jo(n)){if(e=n.stateNode,o=n.memoizedProps,d=null,p=dr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}e[Hn]=n,e=!!(e.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||sg(e.nodeValue,o)),e||ra(n)}else e=Wc(e).createTextNode(d),e[Hn]=n,n.stateNode=e}return ln(n),null;case 13:if(d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=jo(n),d!==null&&d.dehydrated!==null){if(e===null){if(!p)throw Error(f(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(f(317));p[Hn]=n}else Po(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ln(n),p=!1}else p=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Yi(n),n):(Yi(n),null)}if(Yi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=d!==null,e=e!==null&&e.memoizedState!==null,o){d=n.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var E=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==p&&(d.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),Lc(n,n.updateQueue),ln(n),null;case 4:return at(),e===null&&C0(n.stateNode.containerInfo),ln(n),null;case 10:return Gi(n.type),ln(n),null;case 19:if(de(zn),p=n.memoizedState,p===null)return ln(n),null;if(d=(n.flags&128)!==0,E=p.rendering,E===null)if(d)$o(p,!1);else{if(gn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=Mc(e),E!==null){for(n.flags|=128,$o(p,!1),e=E.updateQueue,n.updateQueue=e,Lc(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Uh(o,e),o=o.sibling;return me(zn,zn.current&1|2),n.child}e=e.sibling}p.tail!==null&&Pe()>kc&&(n.flags|=128,d=!0,$o(p,!1),n.lanes=4194304)}else{if(!d)if(e=Mc(E),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Lc(n,e),$o(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Bt)return ln(n),null}else 2*Pe()-p.renderingStartTime>kc&&o!==536870912&&(n.flags|=128,d=!0,$o(p,!1),n.lanes=4194304);p.isBackwards?(E.sibling=n.child,n.child=E):(e=p.last,e!==null?e.sibling=E:n.child=E,p.last=E)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Pe(),n.sibling=null,e=zn.current,me(zn,d?e&1|2:e&1),n):(ln(n),null);case 22:case 23:return Yi(n),Tf(),d=n.memoizedState!==null,e!==null?e.memoizedState!==null!==d&&(n.flags|=8192):d&&(n.flags|=8192),d?(o&536870912)!==0&&(n.flags&128)===0&&(ln(n),n.subtreeFlags&6&&(n.flags|=8192)):ln(n),o=n.updateQueue,o!==null&&Lc(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048),e!==null&&de(aa),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(Vn),ln(n),null;case 25:return null;case 30:return null}throw Error(f(156,n.tag))}function Ow(e,n){switch(df(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(Vn),at(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ke(n),null;case 13:if(Yi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));Po()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return de(zn),null;case 4:return at(),null;case 10:return Gi(n.type),null;case 22:case 23:return Yi(n),Tf(),e!==null&&de(aa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(Vn),null;case 25:return null;default:return null}}function hm(e,n){switch(df(n),n.tag){case 3:Gi(Vn),at();break;case 26:case 27:case 5:Ke(n);break;case 4:at();break;case 13:Yi(n);break;case 19:de(zn);break;case 10:Gi(n.type);break;case 22:case 23:Yi(n),Tf(),e!==null&&de(aa);break;case 24:Gi(Vn)}}function el(e,n){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&e)===e){d=void 0;var E=o.create,O=o.inst;d=E(),O.destroy=d}o=o.next}while(o!==p)}}catch(j){Wt(n,n.return,j)}}function As(e,n,o){try{var d=n.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var E=p.next;d=E;do{if((d.tag&e)===e){var O=d.inst,j=O.destroy;if(j!==void 0){O.destroy=void 0,p=n;var X=o,se=j;try{se()}catch(we){Wt(p,X,we)}}}d=d.next}while(d!==E)}}catch(we){Wt(n,n.return,we)}}function mm(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{t1(n,o)}catch(d){Wt(e,e.return,d)}}}function gm(e,n,o){o.props=la(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(d){Wt(e,n,d)}}function tl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var d=e.stateNode;break;case 30:d=e.stateNode;break;default:d=e.stateNode}typeof o=="function"?e.refCleanup=o(d):o.current=d}}catch(p){Wt(e,n,p)}}function Ci(e,n){var o=e.ref,d=e.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){Wt(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Wt(e,n,p)}else o.current=null}function xm(e){var n=e.type,o=e.memoizedProps,d=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){Wt(e,e.return,p)}}function e0(e,n,o){try{var d=e.stateNode;Kw(d,e.type,o,n),d[fn]=n}catch(p){Wt(e,e.return,p)}}function pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function t0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n0(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=qc));else if(d!==4&&(d===27&&Ds(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(n0(e,n,o),e=e.sibling;e!==null;)n0(e,n,o),e=e.sibling}function jc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(d!==4&&(d===27&&Ds(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(jc(e,n,o),e=e.sibling;e!==null;)jc(e,n,o),e=e.sibling}function ym(e){var n=e.stateNode,o=e.memoizedProps;try{for(var d=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Jn(n,d,o),n[Hn]=e,n[fn]=o}catch(E){Wt(e,e.return,E)}}var Zi=!1,Sn=!1,r0=!1,wm=typeof WeakSet=="function"?WeakSet:Set,qn=null;function Mw(e,n){if(e=e.containerInfo,N0=eu,e=S(e),R(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var O=0,j=-1,X=-1,se=0,we=0,Ae=e,le=null;t:for(;;){for(var fe;Ae!==o||p!==0&&Ae.nodeType!==3||(j=O+p),Ae!==E||d!==0&&Ae.nodeType!==3||(X=O+d),Ae.nodeType===3&&(O+=Ae.nodeValue.length),(fe=Ae.firstChild)!==null;)le=Ae,Ae=fe;for(;;){if(Ae===e)break t;if(le===o&&++se===p&&(j=O),le===E&&++we===d&&(X=O),(fe=Ae.nextSibling)!==null)break;Ae=le,le=Ae.parentNode}Ae=fe}o=j===-1||X===-1?null:{start:j,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(R0={focusedElem:e,selectionRange:o},eu=!1,qn=n;qn!==null;)if(n=qn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,qn=e;else for(;qn!==null;){switch(n=qn,E=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&E!==null){e=void 0,o=n,p=E.memoizedProps,E=E.memoizedState,d=o.stateNode;try{var it=la(o.type,p,o.elementType===o.type);e=d.getSnapshotBeforeUpdate(it,E),d.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Wt(o,o.return,tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)D0(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":D0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=n.sibling,e!==null){e.return=n.return,qn=e;break}qn=n.return}}function bm(e,n,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Cs(e,o),d&4&&el(5,o);break;case 1:if(Cs(e,o),d&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(O){Wt(o,o.return,O)}else{var p=la(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(O){Wt(o,o.return,O)}}d&64&&mm(o),d&512&&tl(o,o.return);break;case 3:if(Cs(e,o),d&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{t1(e,n)}catch(O){Wt(o,o.return,O)}}break;case 27:n===null&&d&4&&ym(o);case 26:case 5:Cs(e,o),n===null&&d&4&&xm(o),d&512&&tl(o,o.return);break;case 12:Cs(e,o);break;case 13:Cs(e,o),d&4&&Am(e,o),d&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Fw.bind(null,o),rb(e,o))));break;case 22:if(d=o.memoizedState!==null||Zi,!d){n=n!==null&&n.memoizedState!==null||Sn,p=Zi;var E=Sn;Zi=d,(Sn=n)&&!E?Ss(e,o,(o.subtreeFlags&8772)!==0):Cs(e,o),Zi=p,Sn=E}break;case 30:break;default:Cs(e,o)}}function vm(e){var n=e.alternate;n!==null&&(e.alternate=null,vm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Hs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rn=null,wr=!1;function Ki(e,n,o){for(o=o.child;o!==null;)Em(e,n,o),o=o.sibling}function Em(e,n,o){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(an,o)}catch{}switch(o.tag){case 26:Sn||Ci(o,n),Ki(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Sn||Ci(o,n);var d=rn,p=wr;Ds(o.type)&&(rn=o.stateNode,wr=!1),Ki(e,n,o),ul(o.stateNode),rn=d,wr=p;break;case 5:Sn||Ci(o,n);case 6:if(d=rn,p=wr,rn=null,Ki(e,n,o),rn=d,wr=p,rn!==null)if(wr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(o.stateNode)}catch(E){Wt(o,n,E)}else try{rn.removeChild(o.stateNode)}catch(E){Wt(o,n,E)}break;case 18:rn!==null&&(wr?(e=rn,ug(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),yl(e)):ug(rn,o.stateNode));break;case 4:d=rn,p=wr,rn=o.stateNode.containerInfo,wr=!0,Ki(e,n,o),rn=d,wr=p;break;case 0:case 11:case 14:case 15:Sn||As(2,o,n),Sn||As(4,o,n),Ki(e,n,o);break;case 1:Sn||(Ci(o,n),d=o.stateNode,typeof d.componentWillUnmount=="function"&&gm(o,n,d)),Ki(e,n,o);break;case 21:Ki(e,n,o);break;case 22:Sn=(d=Sn)||o.memoizedState!==null,Ki(e,n,o),Sn=d;break;default:Ki(e,n,o)}}function Am(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(o){Wt(n,n.return,o)}}function Dw(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wm),n;default:throw Error(f(435,e.tag))}}function i0(e,n){var o=Dw(e);n.forEach(function(d){var p=Uw.bind(null,e,d);o.has(d)||(o.add(d),d.then(p,p))})}function Nr(e,n){var o=n.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],E=e,O=n,j=O;e:for(;j!==null;){switch(j.tag){case 27:if(Ds(j.type)){rn=j.stateNode,wr=!1;break e}break;case 5:rn=j.stateNode,wr=!1;break e;case 3:case 4:rn=j.stateNode.containerInfo,wr=!0;break e}j=j.return}if(rn===null)throw Error(f(160));Em(E,O,p),rn=null,wr=!1,E=p.alternate,E!==null&&(E.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Cm(n,e),n=n.sibling}var ei=null;function Cm(e,n){var o=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nr(n,e),Rr(e),d&4&&(As(3,e,e.return),el(3,e),As(5,e,e.return));break;case 1:Nr(n,e),Rr(e),d&512&&(Sn||o===null||Ci(o,o.return)),d&64&&Zi&&(e=e.updateQueue,e!==null&&(d=e.callbacks,d!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=ei;if(Nr(n,e),Rr(e),d&512&&(Sn||o===null||Ci(o,o.return)),d&4){var E=o!==null?o.memoizedState:null;if(d=e.memoizedState,o===null)if(d===null)if(e.stateNode===null){e:{d=e.type,o=e.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":E=p.getElementsByTagName("title")[0],(!E||E[Lr]||E[Hn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=p.createElement(d),p.head.insertBefore(E,p.querySelector("head > title"))),Jn(E,d,o),E[Hn]=e,Ft(E),d=E;break e;case"link":var O=yg("link","href",p).get(d+(o.href||""));if(O){for(var j=0;j<O.length;j++)if(E=O[j],E.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&E.getAttribute("rel")===(o.rel==null?null:o.rel)&&E.getAttribute("title")===(o.title==null?null:o.title)&&E.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){O.splice(j,1);break t}}E=p.createElement(d),Jn(E,d,o),p.head.appendChild(E);break;case"meta":if(O=yg("meta","content",p).get(d+(o.content||""))){for(j=0;j<O.length;j++)if(E=O[j],E.getAttribute("content")===(o.content==null?null:""+o.content)&&E.getAttribute("name")===(o.name==null?null:o.name)&&E.getAttribute("property")===(o.property==null?null:o.property)&&E.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&E.getAttribute("charset")===(o.charSet==null?null:o.charSet)){O.splice(j,1);break t}}E=p.createElement(d),Jn(E,d,o),p.head.appendChild(E);break;default:throw Error(f(468,d))}E[Hn]=e,Ft(E),d=E}e.stateNode=d}else wg(p,e.type,e.stateNode);else e.stateNode=pg(p,d,e.memoizedProps);else E!==d?(E===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):E.count--,d===null?wg(p,e.type,e.stateNode):pg(p,d,e.memoizedProps)):d===null&&e.stateNode!==null&&e0(e,e.memoizedProps,o.memoizedProps)}break;case 27:Nr(n,e),Rr(e),d&512&&(Sn||o===null||Ci(o,o.return)),o!==null&&d&4&&e0(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Nr(n,e),Rr(e),d&512&&(Sn||o===null||Ci(o,o.return)),e.flags&32){p=e.stateNode;try{kn(p,"")}catch(fe){Wt(e,e.return,fe)}}d&4&&e.stateNode!=null&&(p=e.memoizedProps,e0(e,p,o!==null?o.memoizedProps:p)),d&1024&&(r0=!0);break;case 6:if(Nr(n,e),Rr(e),d&4){if(e.stateNode===null)throw Error(f(162));d=e.memoizedProps,o=e.stateNode;try{o.nodeValue=d}catch(fe){Wt(e,e.return,fe)}}break;case 3:if(Qc=null,p=ei,ei=Zc(n.containerInfo),Nr(n,e),ei=p,Rr(e),d&4&&o!==null&&o.memoizedState.isDehydrated)try{yl(n.containerInfo)}catch(fe){Wt(e,e.return,fe)}r0&&(r0=!1,Sm(e));break;case 4:d=ei,ei=Zc(e.stateNode.containerInfo),Nr(n,e),Rr(e),ei=d;break;case 12:Nr(n,e),Rr(e);break;case 13:Nr(n,e),Rr(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(u0=Pe()),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,i0(e,d)));break;case 22:p=e.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,se=Zi,we=Sn;if(Zi=se||p,Sn=we||X,Nr(n,e),Sn=we,Zi=se,Rr(e),d&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(o===null||X||Zi||Sn||ca(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){X=o=n;try{if(E=X.stateNode,p)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{j=X.stateNode;var Ae=X.memoizedProps.style,le=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;j.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(fe){Wt(X,X.return,fe)}}}else if(n.tag===6){if(o===null){X=n;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(fe){Wt(X,X.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}d&4&&(d=e.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,i0(e,o))));break;case 19:Nr(n,e),Rr(e),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,i0(e,d)));break;case 30:break;case 21:break;default:Nr(n,e),Rr(e)}}function Rr(e){var n=e.flags;if(n&2){try{for(var o,d=e.return;d!==null;){if(pm(d)){o=d;break}d=d.return}if(o==null)throw Error(f(160));switch(o.tag){case 27:var p=o.stateNode,E=t0(e);jc(e,E,p);break;case 5:var O=o.stateNode;o.flags&32&&(kn(O,""),o.flags&=-33);var j=t0(e);jc(e,j,O);break;case 3:case 4:var X=o.stateNode.containerInfo,se=t0(e);n0(e,se,X);break;default:throw Error(f(161))}}catch(we){Wt(e,e.return,we)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Cs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bm(e,n.alternate,n),n=n.sibling}function ca(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),ca(n);break;case 1:Ci(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&gm(n,n.return,o),ca(n);break;case 27:ul(n.stateNode);case 26:case 5:Ci(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}e=e.sibling}}function Ss(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var d=n.alternate,p=e,E=n,O=E.flags;switch(E.tag){case 0:case 11:case 15:Ss(p,E,o),el(4,E);break;case 1:if(Ss(p,E,o),d=E,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){Wt(d,d.return,se)}if(d=E,p=d.updateQueue,p!==null){var j=d.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)e1(X[p],j)}catch(se){Wt(d,d.return,se)}}o&&O&64&&mm(E),tl(E,E.return);break;case 27:ym(E);case 26:case 5:Ss(p,E,o),o&&d===null&&O&4&&xm(E),tl(E,E.return);break;case 12:Ss(p,E,o);break;case 13:Ss(p,E,o),o&&O&4&&Am(p,E);break;case 22:E.memoizedState===null&&Ss(p,E,o),tl(E,E.return);break;case 30:break;default:Ss(p,E,o)}n=n.sibling}}function s0(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Uo(o))}function a0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Si(e,n,o,d){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tm(e,n,o,d),n=n.sibling}function Tm(e,n,o,d){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n,o,d),p&2048&&el(9,n);break;case 1:Si(e,n,o,d);break;case 3:Si(e,n,o,d),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(p&2048){Si(e,n,o,d),e=n.stateNode;try{var E=n.memoizedProps,O=E.id,j=E.onPostCommit;typeof j=="function"&&j(O,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){Wt(n,n.return,X)}}else Si(e,n,o,d);break;case 13:Si(e,n,o,d);break;case 23:break;case 22:E=n.stateNode,O=n.alternate,n.memoizedState!==null?E._visibility&2?Si(e,n,o,d):nl(e,n):E._visibility&2?Si(e,n,o,d):(E._visibility|=2,Ka(e,n,o,d,(n.subtreeFlags&10256)!==0)),p&2048&&s0(O,n);break;case 24:Si(e,n,o,d),p&2048&&a0(n.alternate,n);break;default:Si(e,n,o,d)}}function Ka(e,n,o,d,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=e,O=n,j=o,X=d,se=O.flags;switch(O.tag){case 0:case 11:case 15:Ka(E,O,j,X,p),el(8,O);break;case 23:break;case 22:var we=O.stateNode;O.memoizedState!==null?we._visibility&2?Ka(E,O,j,X,p):nl(E,O):(we._visibility|=2,Ka(E,O,j,X,p)),p&&se&2048&&s0(O.alternate,O);break;case 24:Ka(E,O,j,X,p),p&&se&2048&&a0(O.alternate,O);break;default:Ka(E,O,j,X,p)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,d=n,p=d.flags;switch(d.tag){case 22:nl(o,d),p&2048&&s0(d.alternate,d);break;case 24:nl(o,d),p&2048&&a0(d.alternate,d);break;default:nl(o,d)}n=n.sibling}}var rl=8192;function Qa(e){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Nm(e),e=e.sibling}function Nm(e){switch(e.tag){case 26:Qa(e),e.flags&rl&&e.memoizedState!==null&&xb(ei,e.memoizedState,e.memoizedProps);break;case 5:Qa(e);break;case 3:case 4:var n=ei;ei=Zc(e.stateNode.containerInfo),Qa(e),ei=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=rl,rl=16777216,Qa(e),rl=n):Qa(e));break;default:Qa(e)}}function Rm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];qn=d,Mm(d,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Om(e),e=e.sibling}function Om(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&As(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pc(e)):il(e);break;default:il(e)}}function Pc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];qn=d,Mm(d,e)}Rm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Pc(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Pc(n));break;default:Pc(n)}e=e.sibling}}function Mm(e,n){for(;qn!==null;){var o=qn;switch(o.tag){case 0:case 11:case 15:As(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Uo(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,qn=d;else e:for(o=e;qn!==null;){d=qn;var p=d.sibling,E=d.return;if(vm(d),d===o){qn=null;break e}if(p!==null){p.return=E,qn=p;break e}qn=E}}}var _w={getCacheForType:function(e){var n=sr(Vn),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},Iw=typeof WeakMap=="function"?WeakMap:Map,zt=0,Qt=null,vt=null,Ot=0,Ht=0,Or=null,Ts=!1,Ja=!1,o0=!1,Qi=0,gn=0,Ns=0,ua=0,l0=0,zr=0,$a=0,sl=null,br=null,c0=!1,u0=0,kc=1/0,Fc=null,Rs=null,Qn=0,Os=null,eo=null,to=0,f0=0,d0=null,Dm=null,al=0,h0=null;function Mr(){if((zt&2)!==0&&Ot!==0)return Ot&-Ot;if(ee.T!==null){var e=za;return e!==0?e:b0()}return Ii()}function _m(){zr===0&&(zr=(Ot&536870912)===0||Bt?Re():536870912);var e=Vr.current;return e!==null&&(e.flags|=32),zr}function Dr(e,n,o){(e===Qt&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(no(e,0),Ms(e,Ot,zr,!1)),Zt(e,o),((zt&2)===0||e!==Qt)&&(e===Qt&&((zt&2)===0&&(ua|=o),gn===4&&Ms(e,Ot,zr,!1)),Ti(e))}function Im(e,n,o){if((zt&6)!==0)throw Error(f(327));var d=!o&&(n&124)===0&&(n&e.expiredLanes)===0||It(e,n),p=d?jw(e,n):x0(e,n,!0),E=d;do{if(p===0){Ja&&!d&&Ms(e,n,0,!1);break}else{if(o=e.current.alternate,E&&!Bw(o)){p=x0(e,n,!1),E=!1;continue}if(p===2){if(E=n,e.errorRecoveryDisabledLanes&E)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){n=O;e:{var j=e;p=sl;var X=j.current.memoizedState.isDehydrated;if(X&&(no(j,O).flags|=256),O=x0(j,O,!1),O!==2){if(o0&&!X){j.errorRecoveryDisabledLanes|=E,ua|=E,p=4;break e}E=br,br=p,E!==null&&(br===null?br=E:br.push.apply(br,E))}p=O}if(E=!1,p!==2)continue}}if(p===1){no(e,0),Ms(e,n,0,!0);break}e:{switch(d=e,E=p,E){case 0:case 1:throw Error(f(345));case 4:if((n&4194048)!==n)break;case 6:Ms(d,n,zr,!Ts);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(f(329))}if((n&62914560)===n&&(p=u0+300-Pe(),10<p)){if(Ms(d,n,zr,!Ts),Rt(d,0,!0)!==0)break e;d.timeoutHandle=lg(Bm.bind(null,d,o,br,Fc,c0,n,zr,ua,$a,Ts,E,2,-0,0),p);break e}Bm(d,o,br,Fc,c0,n,zr,ua,$a,Ts,E,0,-0,0)}}break}while(!0);Ti(e)}function Bm(e,n,o,d,p,E,O,j,X,se,we,Ae,le,fe){if(e.timeoutHandle=-1,Ae=n.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:gb},Nm(n),Ae=pb(),Ae!==null)){e.cancelPendingCommit=Ae(Vm.bind(null,e,n,E,o,d,p,O,j,X,we,1,le,fe)),Ms(e,E,O,!se);return}Vm(e,n,E,o,d,p,O,j,X)}function Bw(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],E=p.getSnapshot;p=p.value;try{if(!c(E(),p))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,o,d){n&=~l0,n&=~ua,e.suspendedLanes|=n,e.pingedLanes&=~n,d&&(e.warmLanes|=n),d=e.expirationTimes;for(var p=n;0<p;){var E=31-Tt(p),O=1<<E;d[E]=-1,p&=~O}o!==0&&Wr(e,o,n)}function Uc(){return(zt&6)===0?(ol(0),!1):!0}function m0(){if(vt!==null){if(Ht===0)var e=vt.return;else e=vt,Hi=ia=null,Df(e),Wa=null,Qo=0,e=vt;for(;e!==null;)hm(e.alternate,e),e=e.return;vt=null}}function no(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Jw(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),m0(),Qt=e,vt=o=Ui(e.current,null),Ot=n,Ht=0,Or=null,Ts=!1,Ja=It(e,n),o0=!1,$a=zr=l0=ua=Ns=gn=0,br=sl=null,c0=!1,(n&8)!==0&&(n|=n&32);var d=e.entangledLanes;if(d!==0)for(e=e.entanglements,d&=n;0<d;){var p=31-Tt(d),E=1<<p;n|=e[p],d&=~E}return Qi=n,lc(),o}function Lm(e,n){yt=null,ee.H=Nc,n===zo||n===pc?(n=Jh(),Ht=3):n===Zh?(n=Jh(),Ht=4):Ht=n===$1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Or=n,vt===null&&(gn=1,_c(e,Pr(n,e.current)))}function jm(){var e=ee.H;return ee.H=Nc,e===null?Nc:e}function Pm(){var e=ee.A;return ee.A=_w,e}function g0(){gn=4,Ts||(Ot&4194048)!==Ot&&Vr.current!==null||(Ja=!0),(Ns&134217727)===0&&(ua&134217727)===0||Qt===null||Ms(Qt,Ot,zr,!1)}function x0(e,n,o){var d=zt;zt|=2;var p=jm(),E=Pm();(Qt!==e||Ot!==n)&&(Fc=null,no(e,n)),n=!1;var O=gn;e:do try{if(Ht!==0&&vt!==null){var j=vt,X=Or;switch(Ht){case 8:m0(),O=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(n=!0);var se=Ht;if(Ht=0,Or=null,ro(e,j,X,se),o&&Ja){O=0;break e}break;default:se=Ht,Ht=0,Or=null,ro(e,j,X,se)}}Lw(),O=gn;break}catch(we){Lm(e,we)}while(!0);return n&&e.shellSuspendCounter++,Hi=ia=null,zt=d,ee.H=p,ee.A=E,vt===null&&(Qt=null,Ot=0,lc()),O}function Lw(){for(;vt!==null;)km(vt)}function jw(e,n){var o=zt;zt|=2;var d=jm(),p=Pm();Qt!==e||Ot!==n?(Fc=null,kc=Pe()+500,no(e,n)):Ja=It(e,n);e:do try{if(Ht!==0&&vt!==null){n=vt;var E=Or;t:switch(Ht){case 1:Ht=0,Or=null,ro(e,n,E,1);break;case 2:case 9:if(Kh(E)){Ht=0,Or=null,Fm(n);break}n=function(){Ht!==2&&Ht!==9||Qt!==e||(Ht=7),Ti(e)},E.then(n,n);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Kh(E)?(Ht=0,Or=null,Fm(n)):(Ht=0,Or=null,ro(e,n,E,7));break;case 5:var O=null;switch(vt.tag){case 26:O=vt.memoizedState;case 5:case 27:var j=vt;if(!O||bg(O)){Ht=0,Or=null;var X=j.sibling;if(X!==null)vt=X;else{var se=j.return;se!==null?(vt=se,Vc(se)):vt=null}break t}}Ht=0,Or=null,ro(e,n,E,5);break;case 6:Ht=0,Or=null,ro(e,n,E,6);break;case 8:m0(),gn=6;break e;default:throw Error(f(462))}}Pw();break}catch(we){Lm(e,we)}while(!0);return Hi=ia=null,ee.H=d,ee.A=p,zt=o,vt!==null?0:(Qt=null,Ot=0,lc(),gn)}function Pw(){for(;vt!==null&&!xt();)km(vt)}function km(e){var n=fm(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?Vc(e):vt=n}function Fm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=sm(o,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=sm(o,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Df(n);default:hm(o,n),n=vt=Uh(n,Qi),n=fm(o,n,Qi)}e.memoizedProps=e.pendingProps,n===null?Vc(e):vt=n}function ro(e,n,o,d){Hi=ia=null,Df(n),Wa=null,Qo=0;var p=n.return;try{if(Tw(e,p,n,o,Ot)){gn=1,_c(e,Pr(o,e.current)),vt=null;return}}catch(E){if(p!==null)throw vt=p,E;gn=1,_c(e,Pr(o,e.current)),vt=null;return}n.flags&32768?(Bt||d===1?e=!0:Ja||(Ot&536870912)!==0?e=!1:(Ts=e=!0,(d===2||d===9||d===3||d===6)&&(d=Vr.current,d!==null&&d.tag===13&&(d.flags|=16384))),Um(n,e)):Vc(n)}function Vc(e){var n=e;do{if((n.flags&32768)!==0){Um(n,Ts);return}e=n.return;var o=Rw(n.alternate,n,Qi);if(o!==null){vt=o;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);gn===0&&(gn=5)}function Um(e,n){do{var o=Ow(e.alternate,e);if(o!==null){o.flags&=32767,vt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=o}while(e!==null);gn=6,vt=null}function Vm(e,n,o,d,p,E,O,j,X){e.cancelPendingCommit=null;do zc();while(Qn!==0);if((zt&6)!==0)throw Error(f(327));if(n!==null){if(n===e.current)throw Error(f(177));if(E=n.lanes|n.childLanes,E|=af,On(e,o,E,O,j,X),e===Qt&&(vt=Qt=null,Ot=0),eo=n,Os=e,to=o,f0=E,d0=p,Dm=d,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vw(ke,function(){return Ym(),null})):(e.callbackNode=null,e.callbackPriority=0),d=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||d){d=ee.T,ee.T=null,p=ie.p,ie.p=2,O=zt,zt|=4;try{Mw(e,n,o)}finally{zt=O,ie.p=p,ee.T=d}}Qn=1,zm(),Hm(),Gm()}}function zm(){if(Qn===1){Qn=0;var e=Os,n=eo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var d=ie.p;ie.p=2;var p=zt;zt|=4;try{Cm(n,e);var E=R0,O=S(e.containerInfo),j=E.focusedElem,X=E.selectionRange;if(O!==j&&j&&j.ownerDocument&&w(j.ownerDocument.documentElement,j)){if(X!==null&&R(j)){var se=X.start,we=X.end;if(we===void 0&&(we=se),"selectionStart"in j)j.selectionStart=se,j.selectionEnd=Math.min(we,j.value.length);else{var Ae=j.ownerDocument||document,le=Ae&&Ae.defaultView||window;if(le.getSelection){var fe=le.getSelection(),it=j.textContent.length,tt=Math.min(X.start,it),Yt=X.end===void 0?tt:Math.min(X.end,it);!fe.extend&&tt>Yt&&(O=Yt,Yt=tt,tt=O);var J=g(j,tt),Z=g(j,Yt);if(J&&Z&&(fe.rangeCount!==1||fe.anchorNode!==J.node||fe.anchorOffset!==J.offset||fe.focusNode!==Z.node||fe.focusOffset!==Z.offset)){var re=Ae.createRange();re.setStart(J.node,J.offset),fe.removeAllRanges(),tt>Yt?(fe.addRange(re),fe.extend(Z.node,Z.offset)):(re.setEnd(Z.node,Z.offset),fe.addRange(re))}}}}for(Ae=[],fe=j;fe=fe.parentNode;)fe.nodeType===1&&Ae.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Ae.length;j++){var be=Ae[j];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}eu=!!N0,R0=N0=null}finally{zt=p,ie.p=d,ee.T=o}}e.current=n,Qn=2}}function Hm(){if(Qn===2){Qn=0;var e=Os,n=eo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var d=ie.p;ie.p=2;var p=zt;zt|=4;try{bm(e,n.alternate,n)}finally{zt=p,ie.p=d,ee.T=o}}Qn=3}}function Gm(){if(Qn===4||Qn===3){Qn=0,ye();var e=Os,n=eo,o=to,d=Dm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qn=5:(Qn=0,eo=Os=null,Xm(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Rs=null),Mn(o),n=n.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(an,n,void 0,(n.current.flags&128)===128)}catch{}if(d!==null){n=ee.T,p=ie.p,ie.p=2,ee.T=null;try{for(var E=e.onRecoverableError,O=0;O<d.length;O++){var j=d[O];E(j.value,{componentStack:j.stack})}}finally{ee.T=n,ie.p=p}}(to&3)!==0&&zc(),Ti(e),p=e.pendingLanes,(o&4194090)!==0&&(p&42)!==0?e===h0?al++:(al=0,h0=e):al=0,ol(0)}}function Xm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function zc(e){return zm(),Hm(),Gm(),Ym()}function Ym(){if(Qn!==5)return!1;var e=Os,n=f0;f0=0;var o=Mn(to),d=ee.T,p=ie.p;try{ie.p=32>o?32:o,ee.T=null,o=d0,d0=null;var E=Os,O=to;if(Qn=0,eo=Os=null,to=0,(zt&6)!==0)throw Error(f(331));var j=zt;if(zt|=4,Om(E.current),Tm(E,E.current,O,o),zt=j,ol(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(an,E)}catch{}return!0}finally{ie.p=p,ee.T=d,Xm(e,n)}}function qm(e,n,o){n=Pr(o,n),n=Xf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(Zt(e,2),Ti(e))}function Wt(e,n,o){if(e.tag===3)qm(e,e,o);else for(;n!==null;){if(n.tag===3){qm(n,e,o);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))){e=Pr(o,e),o=Q1(2),d=ws(n,o,2),d!==null&&(J1(o,d,n,e),Zt(d,2),Ti(d));break}}n=n.return}}function p0(e,n,o){var d=e.pingCache;if(d===null){d=e.pingCache=new Iw;var p=new Set;d.set(n,p)}else p=d.get(n),p===void 0&&(p=new Set,d.set(n,p));p.has(o)||(o0=!0,p.add(o),e=kw.bind(null,e,n,o),n.then(e,e))}function kw(e,n,o){var d=e.pingCache;d!==null&&d.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Qt===e&&(Ot&o)===o&&(gn===4||gn===3&&(Ot&62914560)===Ot&&300>Pe()-u0?(zt&2)===0&&no(e,0):l0|=o,$a===Ot&&($a=0)),Ti(e)}function Wm(e,n){n===0&&(n=lt()),e=ka(e,n),e!==null&&(Zt(e,n),Ti(e))}function Fw(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Wm(e,o)}function Uw(e,n){var o=0;switch(e.tag){case 13:var d=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=e.stateNode;break;case 22:d=e.stateNode._retryCache;break;default:throw Error(f(314))}d!==null&&d.delete(n),Wm(e,o)}function Vw(e,n){return Xe(e,n)}var Hc=null,io=null,y0=!1,Gc=!1,w0=!1,fa=0;function Ti(e){e!==io&&e.next===null&&(io===null?Hc=io=e:io=io.next=e),Gc=!0,y0||(y0=!0,Hw())}function ol(e,n){if(!w0&&Gc){w0=!0;do for(var o=!1,d=Hc;d!==null;){if(e!==0){var p=d.pendingLanes;if(p===0)var E=0;else{var O=d.suspendedLanes,j=d.pingedLanes;E=(1<<31-Tt(42|e)+1)-1,E&=p&~(O&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(o=!0,Jm(d,E))}else E=Ot,E=Rt(d,d===Qt?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(E&3)===0||It(d,E)||(o=!0,Jm(d,E));d=d.next}while(o);w0=!1}}function zw(){Zm()}function Zm(){Gc=y0=!1;var e=0;fa!==0&&(Qw()&&(e=fa),fa=0);for(var n=Pe(),o=null,d=Hc;d!==null;){var p=d.next,E=Km(d,n);E===0?(d.next=null,o===null?Hc=p:o.next=p,p===null&&(io=o)):(o=d,(e!==0||(E&3)!==0)&&(Gc=!0)),d=p}ol(e)}function Km(e,n){for(var o=e.suspendedLanes,d=e.pingedLanes,p=e.expirationTimes,E=e.pendingLanes&-62914561;0<E;){var O=31-Tt(E),j=1<<O,X=p[O];X===-1?((j&o)===0||(j&d)!==0)&&(p[O]=li(j,n)):X<=n&&(e.expiredLanes|=j),E&=~j}if(n=Qt,o=Ot,o=Rt(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d=e.callbackNode,o===0||e===n&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return d!==null&&d!==null&&rt(d),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||It(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(d!==null&&rt(d),Mn(o)){case 2:case 8:o=Jt;break;case 32:o=ke;break;case 268435456:o=ai;break;default:o=ke}return d=Qm.bind(null,e),o=Xe(o,d),e.callbackPriority=n,e.callbackNode=o,n}return d!==null&&d!==null&&rt(d),e.callbackPriority=2,e.callbackNode=null,2}function Qm(e,n){if(Qn!==0&&Qn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(zc()&&e.callbackNode!==o)return null;var d=Ot;return d=Rt(e,e===Qt?d:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d===0?null:(Im(e,d,n),Km(e,Pe()),e.callbackNode!=null&&e.callbackNode===o?Qm.bind(null,e):null)}function Jm(e,n){if(zc())return null;Im(e,n,!0)}function Hw(){$w(function(){(zt&6)!==0?Xe(qe,zw):Zm()})}function b0(){return fa===0&&(fa=Re()),fa}function $m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oa(""+e)}function eg(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Gw(e,n,o,d,p){if(n==="submit"&&o&&o.stateNode===p){var E=$m((p[fn]||null).action),O=d.submitter;O&&(n=(n=O[fn]||null)?$m(n.formAction):O.getAttribute("formAction"),n!==null&&(E=n,O=null));var j=new yi("action","action",null,d,p);e.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(fa!==0){var X=O?eg(p,O):new FormData(p);Uf(o,{pending:!0,data:X,method:p.method,action:E},null,X)}}else typeof E=="function"&&(j.preventDefault(),X=O?eg(p,O):new FormData(p),Uf(o,{pending:!0,data:X,method:p.method,action:E},E,X))},currentTarget:p}]})}}for(var v0=0;v0<vi.length;v0++){var E0=vi[v0],Xw=E0.toLowerCase(),Yw=E0[0].toUpperCase()+E0.slice(1);Sr(Xw,"on"+Yw)}Sr(ot,"onAnimationEnd"),Sr(Zn,"onAnimationIteration"),Sr(pr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(rr,"onTransitionRun"),Sr(Vt,"onTransitionStart"),Sr(Un,"onTransitionCancel"),Sr(ir,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function tg(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var d=e[o],p=d.event;d=d.listeners;e:{var E=void 0;if(n)for(var O=d.length-1;0<=O;O--){var j=d[O],X=j.instance,se=j.currentTarget;if(j=j.listener,X!==E&&p.isPropagationStopped())break e;E=j,p.currentTarget=se;try{E(p)}catch(we){Dc(we)}p.currentTarget=null,E=X}else for(O=0;O<d.length;O++){if(j=d[O],X=j.instance,se=j.currentTarget,j=j.listener,X!==E&&p.isPropagationStopped())break e;E=j,p.currentTarget=se;try{E(p)}catch(we){Dc(we)}p.currentTarget=null,E=X}}}}function Et(e,n){var o=n[Gn];o===void 0&&(o=n[Gn]=new Set);var d=e+"__bubble";o.has(d)||(ng(n,e,2,!1),o.add(d))}function A0(e,n,o){var d=0;n&&(d|=4),ng(o,e,d,n)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function C0(e){if(!e[Xc]){e[Xc]=!0,Jl.forEach(function(o){o!=="selectionchange"&&(qw.has(o)||A0(o,!1,e),A0(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xc]||(n[Xc]=!0,A0("selectionchange",!1,n))}}function ng(e,n,o,d){switch(Tg(n)){case 2:var p=bb;break;case 8:p=vb;break;default:p=k0}o=p.bind(null,n,o,e),p=void 0,!ct||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),d?p!==void 0?e.addEventListener(n,o,{capture:!0,passive:p}):e.addEventListener(n,o,!0):p!==void 0?e.addEventListener(n,o,{passive:p}):e.addEventListener(n,o,!1)}function S0(e,n,o,d,p){var E=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var j=d.stateNode.containerInfo;if(j===p)break;if(O===4)for(O=d.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===p)return;O=O.return}for(;j!==null;){if(O=bn(j),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){d=E=O;continue e}j=j.parentNode}}d=d.return}Qr(function(){var se=E,we=ss(o),Ae=[];e:{var le=Fi.get(e);if(le!==void 0){var fe=yi,it=e;switch(e){case"keypress":if(Ma(o)===0)break e;case"keydown":case"keyup":fe=Mo;break;case"focusin":it="focus",fe=cs;break;case"focusout":it="blur",fe=cs;break;case"beforeblur":case"afterblur":fe=cs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ut;break;case ot:case Zn:case pr:fe=Qu;break;case ir:fe=tf;break;case"scroll":case"scrollend":fe=tr;break;case"wheel":fe=Pi;break;case"copy":case"cut":case"paste":fe=ht;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zs;break;case"toggle":case"beforetoggle":fe=nf}var tt=(n&4)!==0,Yt=!tt&&(e==="scroll"||e==="scrollend"),J=tt?le!==null?le+"Capture":null:le;tt=[];for(var Z=se,re;Z!==null;){var be=Z;if(re=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||re===null||J===null||(be=$e(Z,J),be!=null&&tt.push(cl(Z,be,re))),Yt)break;Z=Z.return}0<tt.length&&(le=new fe(le,it,null,o,we),Ae.push({event:le,listeners:tt}))}}if((n&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",le&&o!==Gs&&(it=o.relatedTarget||o.fromElement)&&(bn(it)||it[ci]))break e;if((fe||le)&&(le=we.window===we?we:(le=we.ownerDocument)?le.defaultView||le.parentWindow:window,fe?(it=o.relatedTarget||o.toElement,fe=se,it=it?bn(it):null,it!==null&&(Yt=x(it),tt=it.tag,it!==Yt||tt!==5&&tt!==27&&tt!==6)&&(it=null)):(fe=null,it=se),fe!==it)){if(tt=nc,be="onMouseLeave",J="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Zs,be="onPointerLeave",J="onPointerEnter",Z="pointer"),Yt=fe==null?le:ui(fe),re=it==null?le:ui(it),le=new tt(be,Z+"leave",fe,o,we),le.target=Yt,le.relatedTarget=re,be=null,bn(we)===se&&(tt=new tt(J,Z+"enter",it,o,we),tt.target=re,tt.relatedTarget=Yt,be=tt),Yt=be,fe&&it)t:{for(tt=fe,J=it,Z=0,re=tt;re;re=so(re))Z++;for(re=0,be=J;be;be=so(be))re++;for(;0<Z-re;)tt=so(tt),Z--;for(;0<re-Z;)J=so(J),re--;for(;Z--;){if(tt===J||J!==null&&tt===J.alternate)break t;tt=so(tt),J=so(J)}tt=null}else tt=null;fe!==null&&rg(Ae,le,fe,tt,!1),it!==null&&Yt!==null&&rg(Ae,Yt,it,tt,!0)}}e:{if(le=se?ui(se):window,fe=le.nodeName&&le.nodeName.toLowerCase(),fe==="select"||fe==="input"&&le.type==="file")var He=ac;else if(Js(le))if(Bo)He=i;else{He=M;var wt=ja}else fe=le.nodeName,!fe||fe.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&We(se.elementType)&&(He=ac):He=t;if(He&&(He=He(e,se))){fr(Ae,He,o,we);break e}wt&&wt(e,le,se),e==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&ne(le,"number",le.value)}switch(wt=se?ui(se):window,e){case"focusin":(Js(wt)||wt.contentEditable==="true")&&(I=wt,z=se,q=null);break;case"focusout":q=z=I=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,te(Ae,o,we);break;case"selectionchange":if(D)break;case"keydown":case"keyup":te(Ae,o,we)}var Ze;if(Ks)e:{switch(e){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else ds?ki(e,o)&&(nt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(nt="onCompositionStart");nt&&(_o&&o.locale!=="ko"&&(ds||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&ds&&(Ze=gi()):(mi=we,Xs="value"in mi?mi.value:mi.textContent,ds=!0)),wt=Yc(se,nt),0<wt.length&&(nt=new qs(nt,e,null,o,we),Ae.push({event:nt,listeners:wt}),Ze?nt.data=Ze:(Ze=Ba(o),Ze!==null&&(nt.data=Ze)))),(Ze=Do?Qs(e,o):rf(e,o))&&(nt=Yc(se,"onBeforeInput"),0<nt.length&&(wt=new qs("onBeforeInput","beforeinput",null,o,we),Ae.push({event:wt,listeners:nt}),wt.data=Ze)),Gw(Ae,e,se,o,we)}tg(Ae,n)})}function cl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Yc(e,n){for(var o=n+"Capture",d=[];e!==null;){var p=e,E=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||E===null||(p=$e(e,o),p!=null&&d.unshift(cl(e,p,E)),p=$e(e,n),p!=null&&d.push(cl(e,p,E))),e.tag===3)return d;e=e.return}return[]}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rg(e,n,o,d,p){for(var E=n._reactName,O=[];o!==null&&o!==d;){var j=o,X=j.alternate,se=j.stateNode;if(j=j.tag,X!==null&&X===d)break;j!==5&&j!==26&&j!==27||se===null||(X=se,p?(se=$e(o,E),se!=null&&O.unshift(cl(o,se,X))):p||(se=$e(o,E),se!=null&&O.push(cl(o,se,X)))),o=o.return}O.length!==0&&e.push({event:n,listeners:O})}var Ww=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function ig(e){return(typeof e=="string"?e:""+e).replace(Ww,`
`).replace(Zw,"")}function sg(e,n){return n=ig(n),ig(e)===n}function qc(){}function Xt(e,n,o,d,p,E){switch(o){case"children":typeof d=="string"?n==="body"||n==="textarea"&&d===""||kn(e,d):(typeof d=="number"||typeof d=="bigint")&&n!=="body"&&kn(e,""+d);break;case"className":Sa(e,"class",d);break;case"tabIndex":Sa(e,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(e,o,d);break;case"style":ur(e,d,E);break;case"data":if(n!=="object"){Sa(e,"data",d);break}case"src":case"href":if(d===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=Oa(""+d),e.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(o==="formAction"?(n!=="input"&&Xt(e,n,"name",p.name,p,null),Xt(e,n,"formEncType",p.formEncType,p,null),Xt(e,n,"formMethod",p.formMethod,p,null),Xt(e,n,"formTarget",p.formTarget,p,null)):(Xt(e,n,"encType",p.encType,p,null),Xt(e,n,"method",p.method,p,null),Xt(e,n,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=Oa(""+d),e.setAttribute(o,d);break;case"onClick":d!=null&&(e.onclick=qc);break;case"onScroll":d!=null&&Et("scroll",e);break;case"onScrollEnd":d!=null&&Et("scrollend",e);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(f(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(f(60));e.innerHTML=o}}break;case"multiple":e.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":e.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){e.removeAttribute("xlink:href");break}o=Oa(""+d),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""+d):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":d===!0?e.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,d):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?e.setAttribute(o,d):e.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?e.removeAttribute(o):e.setAttribute(o,d);break;case"popover":Et("beforetoggle",e),Et("toggle",e),Ce(e,"popover",d);break;case"xlinkActuate":Dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Dt(e,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Dt(e,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Dt(e,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Dt(e,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ce(e,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$t.get(o)||o,Ce(e,o,d))}}function T0(e,n,o,d,p,E){switch(o){case"style":ur(e,d,E);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(f(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(f(60));e.innerHTML=o}}break;case"children":typeof d=="string"?kn(e,d):(typeof d=="number"||typeof d=="bigint")&&kn(e,""+d);break;case"onScroll":d!=null&&Et("scroll",e);break;case"onScrollEnd":d!=null&&Et("scrollend",e);break;case"onClick":d!=null&&(e.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$l.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),n=o.slice(2,p?o.length-7:void 0),E=e[fn]||null,E=E!=null?E[o]:null,typeof E=="function"&&e.removeEventListener(n,E,p),typeof d=="function")){typeof E!="function"&&E!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,d,p);break e}o in e?e[o]=d:d===!0?e.setAttribute(o,""):Ce(e,o,d)}}}function Jn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",e),Et("load",e);var d=!1,p=!1,E;for(E in o)if(o.hasOwnProperty(E)){var O=o[E];if(O!=null)switch(E){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Xt(e,n,E,O,o,null)}}p&&Xt(e,n,"srcSet",o.srcSet,o,null),d&&Xt(e,n,"src",o.src,o,null);return;case"input":Et("invalid",e);var j=E=O=p=null,X=null,se=null;for(d in o)if(o.hasOwnProperty(d)){var we=o[d];if(we!=null)switch(d){case"name":p=we;break;case"type":O=we;break;case"checked":X=we;break;case"defaultChecked":se=we;break;case"value":E=we;break;case"defaultValue":j=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(f(137,n));break;default:Xt(e,n,d,we,o,null)}}Pn(e,E,j,X,se,O,p,!1),Na(e);return;case"select":Et("invalid",e),d=O=E=null;for(p in o)if(o.hasOwnProperty(p)&&(j=o[p],j!=null))switch(p){case"value":E=j;break;case"defaultValue":O=j;break;case"multiple":d=j;default:Xt(e,n,p,j,o,null)}n=E,o=O,e.multiple=!!d,n!=null?k(e,!!d,n,!1):o!=null&&k(e,!!d,o,!0);return;case"textarea":Et("invalid",e),E=p=d=null;for(O in o)if(o.hasOwnProperty(O)&&(j=o[O],j!=null))switch(O){case"value":d=j;break;case"defaultValue":p=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(f(91));break;default:Xt(e,n,O,j,o,null)}vn(e,d,p,E),Na(e);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(d=o[X],d!=null))switch(X){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Xt(e,n,X,d,o,null)}return;case"dialog":Et("beforetoggle",e),Et("toggle",e),Et("cancel",e),Et("close",e);break;case"iframe":case"object":Et("load",e);break;case"video":case"audio":for(d=0;d<ll.length;d++)Et(ll[d],e);break;case"image":Et("error",e),Et("load",e);break;case"details":Et("toggle",e);break;case"embed":case"source":case"link":Et("error",e),Et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(d=o[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:Xt(e,n,se,d,o,null)}return;default:if(We(n)){for(we in o)o.hasOwnProperty(we)&&(d=o[we],d!==void 0&&T0(e,n,we,d,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(d=o[j],d!=null&&Xt(e,n,j,d,o,null))}function Kw(e,n,o,d){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,E=null,O=null,j=null,X=null,se=null,we=null;for(fe in o){var Ae=o[fe];if(o.hasOwnProperty(fe)&&Ae!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":X=Ae;default:d.hasOwnProperty(fe)||Xt(e,n,fe,null,d,Ae)}}for(var le in d){var fe=d[le];if(Ae=o[le],d.hasOwnProperty(le)&&(fe!=null||Ae!=null))switch(le){case"type":E=fe;break;case"name":p=fe;break;case"checked":se=fe;break;case"defaultChecked":we=fe;break;case"value":O=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(f(137,n));break;default:fe!==Ae&&Xt(e,n,le,fe,d,Ae)}}Lt(e,O,j,X,se,we,E,p);return;case"select":fe=O=j=le=null;for(E in o)if(X=o[E],o.hasOwnProperty(E)&&X!=null)switch(E){case"value":break;case"multiple":fe=X;default:d.hasOwnProperty(E)||Xt(e,n,E,null,d,X)}for(p in d)if(E=d[p],X=o[p],d.hasOwnProperty(p)&&(E!=null||X!=null))switch(p){case"value":le=E;break;case"defaultValue":j=E;break;case"multiple":O=E;default:E!==X&&Xt(e,n,p,E,d,X)}n=j,o=O,d=fe,le!=null?k(e,!!o,le,!1):!!d!=!!o&&(n!=null?k(e,!!o,n,!0):k(e,!!o,o?[]:"",!1));return;case"textarea":fe=le=null;for(j in o)if(p=o[j],o.hasOwnProperty(j)&&p!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Xt(e,n,j,null,d,p)}for(O in d)if(p=d[O],E=o[O],d.hasOwnProperty(O)&&(p!=null||E!=null))switch(O){case"value":le=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(f(91));break;default:p!==E&&Xt(e,n,O,p,d,E)}Ge(e,le,fe);return;case"option":for(var it in o)if(le=o[it],o.hasOwnProperty(it)&&le!=null&&!d.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Xt(e,n,it,null,d,le)}for(X in d)if(le=d[X],fe=o[X],d.hasOwnProperty(X)&&le!==fe&&(le!=null||fe!=null))switch(X){case"selected":e.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Xt(e,n,X,le,d,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)le=o[tt],o.hasOwnProperty(tt)&&le!=null&&!d.hasOwnProperty(tt)&&Xt(e,n,tt,null,d,le);for(se in d)if(le=d[se],fe=o[se],d.hasOwnProperty(se)&&le!==fe&&(le!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(f(137,n));break;default:Xt(e,n,se,le,d,fe)}return;default:if(We(n)){for(var Yt in o)le=o[Yt],o.hasOwnProperty(Yt)&&le!==void 0&&!d.hasOwnProperty(Yt)&&T0(e,n,Yt,void 0,d,le);for(we in d)le=d[we],fe=o[we],!d.hasOwnProperty(we)||le===fe||le===void 0&&fe===void 0||T0(e,n,we,le,d,fe);return}}for(var J in o)le=o[J],o.hasOwnProperty(J)&&le!=null&&!d.hasOwnProperty(J)&&Xt(e,n,J,null,d,le);for(Ae in d)le=d[Ae],fe=o[Ae],!d.hasOwnProperty(Ae)||le===fe||le==null&&fe==null||Xt(e,n,Ae,le,d,fe)}var N0=null,R0=null;function Wc(e){return e.nodeType===9?e:e.ownerDocument}function ag(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function og(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function O0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var M0=null;function Qw(){var e=window.event;return e&&e.type==="popstate"?e===M0?!1:(M0=e,!0):(M0=null,!1)}var lg=typeof setTimeout=="function"?setTimeout:void 0,Jw=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(e){return cg.resolve(null).then(e).catch(eb)}:lg;function eb(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function ug(e,n){var o=n,d=0,p=0;do{var E=o.nextSibling;if(e.removeChild(o),E&&E.nodeType===8)if(o=E.data,o==="/$"){if(0<d&&8>d){o=d;var O=e.ownerDocument;if(o&1&&ul(O.documentElement),o&2&&ul(O.body),o&4)for(o=O.head,ul(o),O=o.firstChild;O;){var j=O.nextSibling,X=O.nodeName;O[Lr]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&O.rel.toLowerCase()==="stylesheet"||o.removeChild(O),O=j}}if(p===0){e.removeChild(E),yl(n);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:d=o.charCodeAt(0)-48;else d=0;o=E}while(o);yl(n)}function D0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":D0(o),Hs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function tb(e,n,o,d){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!d&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(d){if(!e[Lr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(E=e.getAttribute("rel"),E==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(E!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(E=e.getAttribute("src"),(E!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&E&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var E=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===E)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function nb(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ti(e.nextSibling),e===null))return null;return e}function _0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function rb(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var d=function(){n(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),e._reactRetry=d}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var I0=null;function fg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function dg(e,n,o){switch(n=Wc(o),e){case"html":if(e=n.documentElement,!e)throw Error(f(452));return e;case"head":if(e=n.head,!e)throw Error(f(453));return e;case"body":if(e=n.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Hs(e)}var Hr=new Map,hg=new Set;function Zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=ie.d;ie.d={f:ib,r:sb,D:ab,C:ob,L:lb,m:cb,X:fb,S:ub,M:db};function ib(){var e=Ji.f(),n=Uc();return e||n}function sb(e){var n=Ar(e);n!==null&&n.tag===5&&n.type==="form"?I1(n):Ji.r(e)}var ao=typeof document>"u"?null:document;function mg(e,n,o){var d=ao;if(d&&typeof n=="string"&&n){var p=jn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),hg.has(p)||(hg.add(p),e={rel:e,crossOrigin:o,href:n},d.querySelector(p)===null&&(n=d.createElement("link"),Jn(n,"link",e),Ft(n),d.head.appendChild(n)))}}function ab(e){Ji.D(e),mg("dns-prefetch",e,null)}function ob(e,n){Ji.C(e,n),mg("preconnect",e,n)}function lb(e,n,o){Ji.L(e,n,o);var d=ao;if(d&&e&&n){var p='link[rel="preload"][as="'+jn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+jn(o.imageSizes)+'"]')):p+='[href="'+jn(e)+'"]';var E=p;switch(n){case"style":E=oo(e);break;case"script":E=lo(e)}Hr.has(E)||(e=C({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Hr.set(E,e),d.querySelector(p)!==null||n==="style"&&d.querySelector(fl(E))||n==="script"&&d.querySelector(dl(E))||(n=d.createElement("link"),Jn(n,"link",e),Ft(n),d.head.appendChild(n)))}}function cb(e,n){Ji.m(e,n);var o=ao;if(o&&e){var d=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+jn(d)+'"][href="'+jn(e)+'"]',E=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=lo(e)}if(!Hr.has(E)&&(e=C({rel:"modulepreload",href:e},n),Hr.set(E,e),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(dl(E)))return}d=o.createElement("link"),Jn(d,"link",e),Ft(d),o.head.appendChild(d)}}}function ub(e,n,o){Ji.S(e,n,o);var d=ao;if(d&&e){var p=Zr(d).hoistableStyles,E=oo(e);n=n||"default";var O=p.get(E);if(!O){var j={loading:0,preload:null};if(O=d.querySelector(fl(E)))j.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Hr.get(E))&&B0(e,o);var X=O=d.createElement("link");Ft(X),Jn(X,"link",e),X._p=new Promise(function(se,we){X.onload=se,X.onerror=we}),X.addEventListener("load",function(){j.loading|=1}),X.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Kc(O,n,d)}O={type:"stylesheet",instance:O,count:1,state:j},p.set(E,O)}}}function fb(e,n){Ji.X(e,n);var o=ao;if(o&&e){var d=Zr(o).hoistableScripts,p=lo(e),E=d.get(p);E||(E=o.querySelector(dl(p)),E||(e=C({src:e,async:!0},n),(n=Hr.get(p))&&L0(e,n),E=o.createElement("script"),Ft(E),Jn(E,"link",e),o.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(p,E))}}function db(e,n){Ji.M(e,n);var o=ao;if(o&&e){var d=Zr(o).hoistableScripts,p=lo(e),E=d.get(p);E||(E=o.querySelector(dl(p)),E||(e=C({src:e,async:!0,type:"module"},n),(n=Hr.get(p))&&L0(e,n),E=o.createElement("script"),Ft(E),Jn(E,"link",e),o.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(p,E))}}function gg(e,n,o,d){var p=(p=ge.current)?Zc(p):null;if(!p)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=oo(o.href),o=Zr(p).hoistableStyles,d=o.get(n),d||(d={type:"style",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=oo(o.href);var E=Zr(p).hoistableStyles,O=E.get(e);if(O||(p=p.ownerDocument||p,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(e,O),(E=p.querySelector(fl(e)))&&!E._p&&(O.instance=E,O.state.loading=5),Hr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hr.set(e,o),E||hb(p,e,o,O.state))),n&&d===null)throw Error(f(528,""));return O}if(n&&d!==null)throw Error(f(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lo(o),o=Zr(p).hoistableScripts,d=o.get(n),d||(d={type:"script",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function oo(e){return'href="'+jn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,n,o,d){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?d.loading=1:(n=e.createElement("link"),d.preload=n,n.addEventListener("load",function(){return d.loading|=1}),n.addEventListener("error",function(){return d.loading|=2}),Jn(n,"link",o),Ft(n),e.head.appendChild(n))}function lo(e){return'[src="'+jn(e)+'"]'}function dl(e){return"script[async]"+e}function pg(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var d=e.querySelector('style[data-href~="'+jn(o.href)+'"]');if(d)return n.instance=d,Ft(d),d;var p=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(e.ownerDocument||e).createElement("style"),Ft(d),Jn(d,"style",p),Kc(d,o.precedence,e),n.instance=d;case"stylesheet":p=oo(o.href);var E=e.querySelector(fl(p));if(E)return n.state.loading|=4,n.instance=E,Ft(E),E;d=xg(o),(p=Hr.get(p))&&B0(d,p),E=(e.ownerDocument||e).createElement("link"),Ft(E);var O=E;return O._p=new Promise(function(j,X){O.onload=j,O.onerror=X}),Jn(E,"link",d),n.state.loading|=4,Kc(E,o.precedence,e),n.instance=E;case"script":return E=lo(o.src),(p=e.querySelector(dl(E)))?(n.instance=p,Ft(p),p):(d=o,(p=Hr.get(E))&&(d=C({},o),L0(d,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ft(p),Jn(p,"link",d),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(f(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(d=n.instance,n.state.loading|=4,Kc(d,o.precedence,e));return n.instance}function Kc(e,n,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,E=p,O=0;O<d.length;O++){var j=d[O];if(j.dataset.precedence===n)E=j;else if(E!==p)break}E?E.parentNode.insertBefore(e,E.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function B0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function L0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qc=null;function yg(e,n,o){if(Qc===null){var d=new Map,p=Qc=new Map;p.set(o,d)}else p=Qc,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(e))return d;for(d.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var E=o[p];if(!(E[Lr]||E[Hn]||e==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(n)||"";O=e+O;var j=d.get(O);j?j.push(E):d.set(O,[E])}}return d}function wg(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var hl=null;function gb(){}function xb(e,n,o){if(hl===null)throw Error(f(475));var d=hl;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=oo(o.href),E=e.querySelector(fl(p));if(E){e=E._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(d.count++,d=Jc.bind(d),e.then(d,d)),n.state.loading|=4,n.instance=E,Ft(E);return}E=e.ownerDocument||e,o=xg(o),(p=Hr.get(p))&&B0(o,p),E=E.createElement("link"),Ft(E);var O=E;O._p=new Promise(function(j,X){O.onload=j,O.onerror=X}),Jn(E,"link",o),n.instance=E}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(d.count++,n=Jc.bind(d),e.addEventListener("load",n),e.addEventListener("error",n))}}function pb(){if(hl===null)throw Error(f(475));var e=hl;return e.stylesheets&&e.count===0&&j0(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&j0(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)j0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function j0(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,n.forEach(yb,e),$c=null,Jc.call(e))}function yb(e,n){if(!(n.state.loading&4)){var o=$c.get(e);if(o)var d=o.get(null);else{o=new Map,$c.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<p.length;E++){var O=p[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(o.set(O.dataset.precedence,O),d=O)}d&&o.set(null,d)}p=n.instance,O=p.getAttribute("data-precedence"),E=o.get(O)||d,E===d&&o.set(null,p),o.set(O,p),this.count++,d=Jc.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),E?E.parentNode.insertBefore(p,E.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:G,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function wb(e,n,o,d,p,E,O,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function vg(e,n,o,d,p,E,O,j,X,se,we,Ae){return e=new wb(e,n,o,O,j,X,se,Ae),n=1,E===!0&&(n|=24),E=Tr(3,null,null,n),e.current=E,E.stateNode=e,n=pf(),n.refCount++,e.pooledCache=n,n.refCount++,E.memoizedState={element:d,isDehydrated:o,cache:n},vf(E),e}function Eg(e){return e?(e=Fa,e):Fa}function Ag(e,n,o,d,p,E){p=Eg(p),d.context===null?d.context=p:d.pendingContext=p,d=ys(n),d.payload={element:o},E=E===void 0?null:E,E!==null&&(d.callback=E),o=ws(e,d,n),o!==null&&(Dr(o,e,n),Go(o,e,n))}function Cg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function P0(e,n){Cg(e,n),(e=e.alternate)&&Cg(e,n)}function Sg(e){if(e.tag===13){var n=ka(e,67108864);n!==null&&Dr(n,e,67108864),P0(e,67108864)}}var eu=!0;function bb(e,n,o,d){var p=ee.T;ee.T=null;var E=ie.p;try{ie.p=2,k0(e,n,o,d)}finally{ie.p=E,ee.T=p}}function vb(e,n,o,d){var p=ee.T;ee.T=null;var E=ie.p;try{ie.p=8,k0(e,n,o,d)}finally{ie.p=E,ee.T=p}}function k0(e,n,o,d){if(eu){var p=F0(d);if(p===null)S0(e,n,d,tu,o),Ng(e,d);else if(Ab(p,e,n,o,d))d.stopPropagation();else if(Ng(e,d),n&4&&-1<Eb.indexOf(e)){for(;p!==null;){var E=Ar(p);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=kt(E.pendingLanes);if(O!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;O;){var X=1<<31-Tt(O);j.entanglements[1]|=X,O&=~X}Ti(E),(zt&6)===0&&(kc=Pe()+500,ol(0))}}break;case 13:j=ka(E,2),j!==null&&Dr(j,E,2),Uc(),P0(E,2)}if(E=F0(d),E===null&&S0(e,n,d,tu,o),E===p)break;p=E}p!==null&&d.stopPropagation()}else S0(e,n,d,null,o)}}function F0(e){return e=ss(e),U0(e)}var tu=null;function U0(e){if(tu=null,e=bn(e),e!==null){var n=x(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=b(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tu=e,null}function Tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case qe:return 2;case Jt:return 8;case ke:case si:return 32;case ai:return 268435456;default:return 32}default:return 32}}var V0=!1,_s=null,Is=null,Bs=null,gl=new Map,xl=new Map,Ls=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(e,n){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function pl(e,n,o,d,p,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:o,eventSystemFlags:d,nativeEvent:E,targetContainers:[p]},n!==null&&(n=Ar(n),n!==null&&Sg(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Ab(e,n,o,d,p){switch(n){case"focusin":return _s=pl(_s,e,n,o,d,p),!0;case"dragenter":return Is=pl(Is,e,n,o,d,p),!0;case"mouseover":return Bs=pl(Bs,e,n,o,d,p),!0;case"pointerover":var E=p.pointerId;return gl.set(E,pl(gl.get(E)||null,e,n,o,d,p)),!0;case"gotpointercapture":return E=p.pointerId,xl.set(E,pl(xl.get(E)||null,e,n,o,d,p)),!0}return!1}function Rg(e){var n=bn(e.target);if(n!==null){var o=x(n);if(o!==null){if(n=o.tag,n===13){if(n=b(o),n!==null){e.blockedOn=n,Ca(e.priority,function(){if(o.tag===13){var d=Mr();d=zs(d);var p=ka(o,d);p!==null&&Dr(p,o,d),P0(o,d)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=F0(e.nativeEvent);if(o===null){o=e.nativeEvent;var d=new o.constructor(o.type,o);Gs=d,o.target.dispatchEvent(d),Gs=null}else return n=Ar(o),n!==null&&Sg(n),e.blockedOn=o,!1;n.shift()}return!0}function Og(e,n,o){nu(e)&&o.delete(n)}function Cb(){V0=!1,_s!==null&&nu(_s)&&(_s=null),Is!==null&&nu(Is)&&(Is=null),Bs!==null&&nu(Bs)&&(Bs=null),gl.forEach(Og),xl.forEach(Og)}function ru(e,n){e.blockedOn===n&&(e.blockedOn=null,V0||(V0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var iu=null;function Mg(e){iu!==e&&(iu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){iu===e&&(iu=null);for(var n=0;n<e.length;n+=3){var o=e[n],d=e[n+1],p=e[n+2];if(typeof d!="function"){if(U0(d||o)===null)continue;break}var E=Ar(o);E!==null&&(e.splice(n,3),n-=3,Uf(E,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function yl(e){function n(X){return ru(X,e)}_s!==null&&ru(_s,e),Is!==null&&ru(Is,e),Bs!==null&&ru(Bs,e),gl.forEach(n),xl.forEach(n);for(var o=0;o<Ls.length;o++){var d=Ls[o];d.blockedOn===e&&(d.blockedOn=null)}for(;0<Ls.length&&(o=Ls[0],o.blockedOn===null);)Rg(o),o.blockedOn===null&&Ls.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],E=o[d+1],O=p[fn]||null;if(typeof E=="function")O||Mg(o);else if(O){var j=null;if(E&&E.hasAttribute("formAction")){if(p=E,O=E[fn]||null)j=O.formAction;else if(U0(p)!==null)continue}else j=O.action;typeof j=="function"?o[d+1]=j:(o.splice(d,3),d-=3),Mg(o)}}}function z0(e){this._internalRoot=e}su.prototype.render=z0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));var o=n.current,d=Mr();Ag(o,d,e,n,null,null)},su.prototype.unmount=z0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ag(e.current,2,null,e,null,null),Uc(),n[ci]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ii();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Ls.length&&n!==0&&n<Ls[o].priority;o++);Ls.splice(o,0,e),o===0&&Rg(e)}};var Dg=s.version;if(Dg!=="19.1.0")throw Error(f(527,Dg,"19.1.0"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=v(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{an=au.inject(Sb),Rn=au}catch{}}return bl.createRoot=function(e,n){if(!m(e))throw Error(f(299));var o=!1,d="",p=q1,E=W1,O=Z1,j=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(O=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks)),n=vg(e,1,!1,null,null,o,d,p,E,O,j,null),e[ci]=n.current,C0(e),new z0(n)},bl.hydrateRoot=function(e,n,o){if(!m(e))throw Error(f(299));var d=!1,p="",E=q1,O=W1,j=Z1,X=null,se=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(E=o.onUncaughtError),o.onCaughtError!==void 0&&(O=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(se=o.formState)),n=vg(e,1,!0,n,o??null,d,p,E,O,j,X,se),n.context=Eg(null),o=n.current,d=Mr(),d=zs(d),p=ys(d),p.callback=null,ws(o,p,d),o=d,n.current.lanes=o,Zt(n,o),Ti(n),e[ci]=n.current,C0(e),new su(n)},bl.version="19.1.0",bl}var Vg;function Pb(){if(Vg)return X0.exports;Vg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),X0.exports=jb(),X0.exports}var kb=Pb();const Fb=qd(kb);function L2(r,s){return function(){return r.apply(s,arguments)}}const{toString:Ub}=Object.prototype,{getPrototypeOf:Zd}=Object,Lu=(r=>s=>{const l=Ub.call(s);return r[l]||(r[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ri=r=>(r=r.toLowerCase(),s=>Lu(s)===r),ju=r=>s=>typeof s===r,{isArray:wo}=Array,Il=ju("undefined");function Vb(r){return r!==null&&!Il(r)&&r.constructor!==null&&!Il(r.constructor)&&Ir(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const j2=ri("ArrayBuffer");function zb(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&j2(r.buffer),s}const Hb=ju("string"),Ir=ju("function"),P2=ju("number"),Pu=r=>r!==null&&typeof r=="object",Gb=r=>r===!0||r===!1,gu=r=>{if(Lu(r)!=="object")return!1;const s=Zd(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Xb=ri("Date"),Yb=ri("File"),qb=ri("Blob"),Wb=ri("FileList"),Zb=r=>Pu(r)&&Ir(r.pipe),Kb=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||Ir(r.append)&&((s=Lu(r))==="formdata"||s==="object"&&Ir(r.toString)&&r.toString()==="[object FormData]"))},Qb=ri("URLSearchParams"),[Jb,$b,e3,t3]=["ReadableStream","Request","Response","Headers"].map(ri),n3=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hl(r,s,{allOwnKeys:l=!1}={}){if(r===null||typeof r>"u")return;let f,m;if(typeof r!="object"&&(r=[r]),wo(r))for(f=0,m=r.length;f<m;f++)s.call(null,r[f],f,r);else{const x=l?Object.getOwnPropertyNames(r):Object.keys(r),b=x.length;let T;for(f=0;f<b;f++)T=x[f],s.call(null,r[T],T,r)}}function k2(r,s){s=s.toLowerCase();const l=Object.keys(r);let f=l.length,m;for(;f-- >0;)if(m=l[f],s===m.toLowerCase())return m;return null}const ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F2=r=>!Il(r)&&r!==ga;function gd(){const{caseless:r}=F2(this)&&this||{},s={},l=(f,m)=>{const x=r&&k2(s,m)||m;gu(s[x])&&gu(f)?s[x]=gd(s[x],f):gu(f)?s[x]=gd({},f):wo(f)?s[x]=f.slice():s[x]=f};for(let f=0,m=arguments.length;f<m;f++)arguments[f]&&Hl(arguments[f],l);return s}const r3=(r,s,l,{allOwnKeys:f}={})=>(Hl(s,(m,x)=>{l&&Ir(m)?r[x]=L2(m,l):r[x]=m},{allOwnKeys:f}),r),i3=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),s3=(r,s,l,f)=>{r.prototype=Object.create(s.prototype,f),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),l&&Object.assign(r.prototype,l)},a3=(r,s,l,f)=>{let m,x,b;const T={};if(s=s||{},r==null)return s;do{for(m=Object.getOwnPropertyNames(r),x=m.length;x-- >0;)b=m[x],(!f||f(b,r,s))&&!T[b]&&(s[b]=r[b],T[b]=!0);r=l!==!1&&Zd(r)}while(r&&(!l||l(r,s))&&r!==Object.prototype);return s},o3=(r,s,l)=>{r=String(r),(l===void 0||l>r.length)&&(l=r.length),l-=s.length;const f=r.indexOf(s,l);return f!==-1&&f===l},l3=r=>{if(!r)return null;if(wo(r))return r;let s=r.length;if(!P2(s))return null;const l=new Array(s);for(;s-- >0;)l[s]=r[s];return l},c3=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&Zd(Uint8Array)),u3=(r,s)=>{const f=(r&&r[Symbol.iterator]).call(r);let m;for(;(m=f.next())&&!m.done;){const x=m.value;s.call(r,x[0],x[1])}},f3=(r,s)=>{let l;const f=[];for(;(l=r.exec(s))!==null;)f.push(l);return f},d3=ri("HTMLFormElement"),h3=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,f,m){return f.toUpperCase()+m}),zg=(({hasOwnProperty:r})=>(s,l)=>r.call(s,l))(Object.prototype),m3=ri("RegExp"),U2=(r,s)=>{const l=Object.getOwnPropertyDescriptors(r),f={};Hl(l,(m,x)=>{let b;(b=s(m,x,r))!==!1&&(f[x]=b||m)}),Object.defineProperties(r,f)},g3=r=>{U2(r,(s,l)=>{if(Ir(r)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const f=r[l];if(Ir(f)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},x3=(r,s)=>{const l={},f=m=>{m.forEach(x=>{l[x]=!0})};return wo(r)?f(r):f(String(r).split(s)),l},p3=()=>{},y3=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function w3(r){return!!(r&&Ir(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const b3=r=>{const s=new Array(10),l=(f,m)=>{if(Pu(f)){if(s.indexOf(f)>=0)return;if(!("toJSON"in f)){s[m]=f;const x=wo(f)?[]:{};return Hl(f,(b,T)=>{const v=l(b,m+1);!Il(v)&&(x[T]=v)}),s[m]=void 0,x}}return f};return l(r,0)},v3=ri("AsyncFunction"),E3=r=>r&&(Pu(r)||Ir(r))&&Ir(r.then)&&Ir(r.catch),V2=((r,s)=>r?setImmediate:s?((l,f)=>(ga.addEventListener("message",({source:m,data:x})=>{m===ga&&x===l&&f.length&&f.shift()()},!1),m=>{f.push(m),ga.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Ir(ga.postMessage)),A3=typeof queueMicrotask<"u"?queueMicrotask.bind(ga):typeof process<"u"&&process.nextTick||V2,xe={isArray:wo,isArrayBuffer:j2,isBuffer:Vb,isFormData:Kb,isArrayBufferView:zb,isString:Hb,isNumber:P2,isBoolean:Gb,isObject:Pu,isPlainObject:gu,isReadableStream:Jb,isRequest:$b,isResponse:e3,isHeaders:t3,isUndefined:Il,isDate:Xb,isFile:Yb,isBlob:qb,isRegExp:m3,isFunction:Ir,isStream:Zb,isURLSearchParams:Qb,isTypedArray:c3,isFileList:Wb,forEach:Hl,merge:gd,extend:r3,trim:n3,stripBOM:i3,inherits:s3,toFlatObject:a3,kindOf:Lu,kindOfTest:ri,endsWith:o3,toArray:l3,forEachEntry:u3,matchAll:f3,isHTMLForm:d3,hasOwnProperty:zg,hasOwnProp:zg,reduceDescriptors:U2,freezeMethods:g3,toObjectSet:x3,toCamelCase:h3,noop:p3,toFiniteNumber:y3,findKey:k2,global:ga,isContextDefined:F2,isSpecCompliantForm:w3,toJSONObject:b3,isAsyncFn:v3,isThenable:E3,setImmediate:V2,asap:A3};function ft(r,s,l,f,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),l&&(this.config=l),f&&(this.request=f),m&&(this.response=m,this.status=m.status?m.status:null)}xe.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const z2=ft.prototype,H2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{H2[r]={value:r}});Object.defineProperties(ft,H2);Object.defineProperty(z2,"isAxiosError",{value:!0});ft.from=(r,s,l,f,m,x)=>{const b=Object.create(z2);return xe.toFlatObject(r,b,function(v){return v!==Error.prototype},T=>T!=="isAxiosError"),ft.call(b,r.message,s,l,f,m),b.cause=r,b.name=r.name,x&&Object.assign(b,x),b};const C3=null;function xd(r){return xe.isPlainObject(r)||xe.isArray(r)}function G2(r){return xe.endsWith(r,"[]")?r.slice(0,-2):r}function Hg(r,s,l){return r?r.concat(s).map(function(m,x){return m=G2(m),!l&&x?"["+m+"]":m}).join(l?".":""):s}function S3(r){return xe.isArray(r)&&!r.some(xd)}const T3=xe.toFlatObject(xe,{},null,function(s){return/^is[A-Z]/.test(s)});function ku(r,s,l){if(!xe.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,l=xe.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,V){return!xe.isUndefined(V[H])});const f=l.metaTokens,m=l.visitor||C,x=l.dots,b=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(s);if(!xe.isFunction(m))throw new TypeError("visitor must be a function");function y(L){if(L===null)return"";if(xe.isDate(L))return L.toISOString();if(!v&&xe.isBlob(L))throw new ft("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(L)||xe.isTypedArray(L)?v&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function C(L,H,V){let Y=L;if(L&&!V&&typeof L=="object"){if(xe.endsWith(H,"{}"))H=f?H:H.slice(0,-2),L=JSON.stringify(L);else if(xe.isArray(L)&&S3(L)||(xe.isFileList(L)||xe.endsWith(H,"[]"))&&(Y=xe.toArray(L)))return H=G2(H),Y.forEach(function(G,oe){!(xe.isUndefined(G)||G===null)&&s.append(b===!0?Hg([H],oe,x):b===null?H:H+"[]",y(G))}),!1}return xd(L)?!0:(s.append(Hg(V,H,x),y(L)),!1)}const N=[],_=Object.assign(T3,{defaultVisitor:C,convertValue:y,isVisitable:xd});function P(L,H){if(!xe.isUndefined(L)){if(N.indexOf(L)!==-1)throw Error("Circular reference detected in "+H.join("."));N.push(L),xe.forEach(L,function(Y,Q){(!(xe.isUndefined(Y)||Y===null)&&m.call(s,Y,xe.isString(Q)?Q.trim():Q,H,_))===!0&&P(Y,H?H.concat(Q):[Q])}),N.pop()}}if(!xe.isObject(r))throw new TypeError("data must be an object");return P(r),s}function Gg(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(f){return s[f]})}function Kd(r,s){this._pairs=[],r&&ku(r,this,s)}const X2=Kd.prototype;X2.append=function(s,l){this._pairs.push([s,l])};X2.toString=function(s){const l=s?function(f){return s.call(this,f,Gg)}:Gg;return this._pairs.map(function(m){return l(m[0])+"="+l(m[1])},"").join("&")};function N3(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y2(r,s,l){if(!s)return r;const f=l&&l.encode||N3;xe.isFunction(l)&&(l={serialize:l});const m=l&&l.serialize;let x;if(m?x=m(s,l):x=xe.isURLSearchParams(s)?s.toString():new Kd(s,l).toString(f),x){const b=r.indexOf("#");b!==-1&&(r=r.slice(0,b)),r+=(r.indexOf("?")===-1?"?":"&")+x}return r}class Xg{constructor(){this.handlers=[]}use(s,l,f){return this.handlers.push({fulfilled:s,rejected:l,synchronous:f?f.synchronous:!1,runWhen:f?f.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){xe.forEach(this.handlers,function(f){f!==null&&s(f)})}}const q2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R3=typeof URLSearchParams<"u"?URLSearchParams:Kd,O3=typeof FormData<"u"?FormData:null,M3=typeof Blob<"u"?Blob:null,D3={isBrowser:!0,classes:{URLSearchParams:R3,FormData:O3,Blob:M3},protocols:["http","https","file","blob","url","data"]},Qd=typeof window<"u"&&typeof document<"u",pd=typeof navigator=="object"&&navigator||void 0,_3=Qd&&(!pd||["ReactNative","NativeScript","NS"].indexOf(pd.product)<0),I3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B3=Qd&&window.location.href||"http://localhost",L3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qd,hasStandardBrowserEnv:_3,hasStandardBrowserWebWorkerEnv:I3,navigator:pd,origin:B3},Symbol.toStringTag,{value:"Module"})),lr={...L3,...D3};function j3(r,s){return ku(r,new lr.classes.URLSearchParams,Object.assign({visitor:function(l,f,m,x){return lr.isNode&&xe.isBuffer(l)?(this.append(f,l.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},s))}function P3(r){return xe.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function k3(r){const s={},l=Object.keys(r);let f;const m=l.length;let x;for(f=0;f<m;f++)x=l[f],s[x]=r[x];return s}function W2(r){function s(l,f,m,x){let b=l[x++];if(b==="__proto__")return!0;const T=Number.isFinite(+b),v=x>=l.length;return b=!b&&xe.isArray(m)?m.length:b,v?(xe.hasOwnProp(m,b)?m[b]=[m[b],f]:m[b]=f,!T):((!m[b]||!xe.isObject(m[b]))&&(m[b]=[]),s(l,f,m[b],x)&&xe.isArray(m[b])&&(m[b]=k3(m[b])),!T)}if(xe.isFormData(r)&&xe.isFunction(r.entries)){const l={};return xe.forEachEntry(r,(f,m)=>{s(P3(f),m,l,0)}),l}return null}function F3(r,s,l){if(xe.isString(r))try{return(s||JSON.parse)(r),xe.trim(r)}catch(f){if(f.name!=="SyntaxError")throw f}return(l||JSON.stringify)(r)}const Gl={transitional:q2,adapter:["xhr","http","fetch"],transformRequest:[function(s,l){const f=l.getContentType()||"",m=f.indexOf("application/json")>-1,x=xe.isObject(s);if(x&&xe.isHTMLForm(s)&&(s=new FormData(s)),xe.isFormData(s))return m?JSON.stringify(W2(s)):s;if(xe.isArrayBuffer(s)||xe.isBuffer(s)||xe.isStream(s)||xe.isFile(s)||xe.isBlob(s)||xe.isReadableStream(s))return s;if(xe.isArrayBufferView(s))return s.buffer;if(xe.isURLSearchParams(s))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let T;if(x){if(f.indexOf("application/x-www-form-urlencoded")>-1)return j3(s,this.formSerializer).toString();if((T=xe.isFileList(s))||f.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return ku(T?{"files[]":s}:s,v&&new v,this.formSerializer)}}return x||m?(l.setContentType("application/json",!1),F3(s)):s}],transformResponse:[function(s){const l=this.transitional||Gl.transitional,f=l&&l.forcedJSONParsing,m=this.responseType==="json";if(xe.isResponse(s)||xe.isReadableStream(s))return s;if(s&&xe.isString(s)&&(f&&!this.responseType||m)){const b=!(l&&l.silentJSONParsing)&&m;try{return JSON.parse(s)}catch(T){if(b)throw T.name==="SyntaxError"?ft.from(T,ft.ERR_BAD_RESPONSE,this,null,this.response):T}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lr.classes.FormData,Blob:lr.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],r=>{Gl.headers[r]={}});const U3=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V3=r=>{const s={};let l,f,m;return r&&r.split(`
`).forEach(function(b){m=b.indexOf(":"),l=b.substring(0,m).trim().toLowerCase(),f=b.substring(m+1).trim(),!(!l||s[l]&&U3[l])&&(l==="set-cookie"?s[l]?s[l].push(f):s[l]=[f]:s[l]=s[l]?s[l]+", "+f:f)}),s},Yg=Symbol("internals");function vl(r){return r&&String(r).trim().toLowerCase()}function xu(r){return r===!1||r==null?r:xe.isArray(r)?r.map(xu):String(r)}function z3(r){const s=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let f;for(;f=l.exec(r);)s[f[1]]=f[2];return s}const H3=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Z0(r,s,l,f,m){if(xe.isFunction(f))return f.call(this,s,l);if(m&&(s=l),!!xe.isString(s)){if(xe.isString(f))return s.indexOf(f)!==-1;if(xe.isRegExp(f))return f.test(s)}}function G3(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,l,f)=>l.toUpperCase()+f)}function X3(r,s){const l=xe.toCamelCase(" "+s);["get","set","has"].forEach(f=>{Object.defineProperty(r,f+l,{value:function(m,x,b){return this[f].call(this,s,m,x,b)},configurable:!0})})}let Er=class{constructor(s){s&&this.set(s)}set(s,l,f){const m=this;function x(T,v,y){const C=vl(v);if(!C)throw new Error("header name must be a non-empty string");const N=xe.findKey(m,C);(!N||m[N]===void 0||y===!0||y===void 0&&m[N]!==!1)&&(m[N||v]=xu(T))}const b=(T,v)=>xe.forEach(T,(y,C)=>x(y,C,v));if(xe.isPlainObject(s)||s instanceof this.constructor)b(s,l);else if(xe.isString(s)&&(s=s.trim())&&!H3(s))b(V3(s),l);else if(xe.isHeaders(s))for(const[T,v]of s.entries())x(v,T,f);else s!=null&&x(l,s,f);return this}get(s,l){if(s=vl(s),s){const f=xe.findKey(this,s);if(f){const m=this[f];if(!l)return m;if(l===!0)return z3(m);if(xe.isFunction(l))return l.call(this,m,f);if(xe.isRegExp(l))return l.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,l){if(s=vl(s),s){const f=xe.findKey(this,s);return!!(f&&this[f]!==void 0&&(!l||Z0(this,this[f],f,l)))}return!1}delete(s,l){const f=this;let m=!1;function x(b){if(b=vl(b),b){const T=xe.findKey(f,b);T&&(!l||Z0(f,f[T],T,l))&&(delete f[T],m=!0)}}return xe.isArray(s)?s.forEach(x):x(s),m}clear(s){const l=Object.keys(this);let f=l.length,m=!1;for(;f--;){const x=l[f];(!s||Z0(this,this[x],x,s,!0))&&(delete this[x],m=!0)}return m}normalize(s){const l=this,f={};return xe.forEach(this,(m,x)=>{const b=xe.findKey(f,x);if(b){l[b]=xu(m),delete l[x];return}const T=s?G3(x):String(x).trim();T!==x&&delete l[x],l[T]=xu(m),f[T]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const l=Object.create(null);return xe.forEach(this,(f,m)=>{f!=null&&f!==!1&&(l[m]=s&&xe.isArray(f)?f.join(", "):f)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,l])=>s+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...l){const f=new this(s);return l.forEach(m=>f.set(m)),f}static accessor(s){const f=(this[Yg]=this[Yg]={accessors:{}}).accessors,m=this.prototype;function x(b){const T=vl(b);f[T]||(X3(m,b),f[T]=!0)}return xe.isArray(s)?s.forEach(x):x(s),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Er.prototype,({value:r},s)=>{let l=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(f){this[l]=f}}});xe.freezeMethods(Er);function K0(r,s){const l=this||Gl,f=s||l,m=Er.from(f.headers);let x=f.data;return xe.forEach(r,function(T){x=T.call(l,x,m.normalize(),s?s.status:void 0)}),m.normalize(),x}function Z2(r){return!!(r&&r.__CANCEL__)}function bo(r,s,l){ft.call(this,r??"canceled",ft.ERR_CANCELED,s,l),this.name="CanceledError"}xe.inherits(bo,ft,{__CANCEL__:!0});function K2(r,s,l){const f=l.config.validateStatus;!l.status||!f||f(l.status)?r(l):s(new ft("Request failed with status code "+l.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function Y3(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function q3(r,s){r=r||10;const l=new Array(r),f=new Array(r);let m=0,x=0,b;return s=s!==void 0?s:1e3,function(v){const y=Date.now(),C=f[x];b||(b=y),l[m]=v,f[m]=y;let N=x,_=0;for(;N!==m;)_+=l[N++],N=N%r;if(m=(m+1)%r,m===x&&(x=(x+1)%r),y-b<s)return;const P=C&&y-C;return P?Math.round(_*1e3/P):void 0}}function W3(r,s){let l=0,f=1e3/s,m,x;const b=(y,C=Date.now())=>{l=C,m=null,x&&(clearTimeout(x),x=null),r.apply(null,y)};return[(...y)=>{const C=Date.now(),N=C-l;N>=f?b(y,C):(m=y,x||(x=setTimeout(()=>{x=null,b(m)},f-N)))},()=>m&&b(m)]}const Au=(r,s,l=3)=>{let f=0;const m=q3(50,250);return W3(x=>{const b=x.loaded,T=x.lengthComputable?x.total:void 0,v=b-f,y=m(v),C=b<=T;f=b;const N={loaded:b,total:T,progress:T?b/T:void 0,bytes:v,rate:y||void 0,estimated:y&&T&&C?(T-b)/y:void 0,event:x,lengthComputable:T!=null,[s?"download":"upload"]:!0};r(N)},l)},qg=(r,s)=>{const l=r!=null;return[f=>s[0]({lengthComputable:l,total:r,loaded:f}),s[1]]},Wg=r=>(...s)=>xe.asap(()=>r(...s)),Z3=lr.hasStandardBrowserEnv?((r,s)=>l=>(l=new URL(l,lr.origin),r.protocol===l.protocol&&r.host===l.host&&(s||r.port===l.port)))(new URL(lr.origin),lr.navigator&&/(msie|trident)/i.test(lr.navigator.userAgent)):()=>!0,K3=lr.hasStandardBrowserEnv?{write(r,s,l,f,m,x){const b=[r+"="+encodeURIComponent(s)];xe.isNumber(l)&&b.push("expires="+new Date(l).toGMTString()),xe.isString(f)&&b.push("path="+f),xe.isString(m)&&b.push("domain="+m),x===!0&&b.push("secure"),document.cookie=b.join("; ")},read(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q3(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function J3(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function Q2(r,s,l){let f=!Q3(s);return r&&(f||l==!1)?J3(r,s):s}const Zg=r=>r instanceof Er?{...r}:r;function ba(r,s){s=s||{};const l={};function f(y,C,N,_){return xe.isPlainObject(y)&&xe.isPlainObject(C)?xe.merge.call({caseless:_},y,C):xe.isPlainObject(C)?xe.merge({},C):xe.isArray(C)?C.slice():C}function m(y,C,N,_){if(xe.isUndefined(C)){if(!xe.isUndefined(y))return f(void 0,y,N,_)}else return f(y,C,N,_)}function x(y,C){if(!xe.isUndefined(C))return f(void 0,C)}function b(y,C){if(xe.isUndefined(C)){if(!xe.isUndefined(y))return f(void 0,y)}else return f(void 0,C)}function T(y,C,N){if(N in s)return f(y,C);if(N in r)return f(void 0,y)}const v={url:x,method:x,data:x,baseURL:b,transformRequest:b,transformResponse:b,paramsSerializer:b,timeout:b,timeoutMessage:b,withCredentials:b,withXSRFToken:b,adapter:b,responseType:b,xsrfCookieName:b,xsrfHeaderName:b,onUploadProgress:b,onDownloadProgress:b,decompress:b,maxContentLength:b,maxBodyLength:b,beforeRedirect:b,transport:b,httpAgent:b,httpsAgent:b,cancelToken:b,socketPath:b,responseEncoding:b,validateStatus:T,headers:(y,C,N)=>m(Zg(y),Zg(C),N,!0)};return xe.forEach(Object.keys(Object.assign({},r,s)),function(C){const N=v[C]||m,_=N(r[C],s[C],C);xe.isUndefined(_)&&N!==T||(l[C]=_)}),l}const J2=r=>{const s=ba({},r);let{data:l,withXSRFToken:f,xsrfHeaderName:m,xsrfCookieName:x,headers:b,auth:T}=s;s.headers=b=Er.from(b),s.url=Y2(Q2(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),T&&b.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let v;if(xe.isFormData(l)){if(lr.hasStandardBrowserEnv||lr.hasStandardBrowserWebWorkerEnv)b.setContentType(void 0);else if((v=b.getContentType())!==!1){const[y,...C]=v?v.split(";").map(N=>N.trim()).filter(Boolean):[];b.setContentType([y||"multipart/form-data",...C].join("; "))}}if(lr.hasStandardBrowserEnv&&(f&&xe.isFunction(f)&&(f=f(s)),f||f!==!1&&Z3(s.url))){const y=m&&x&&K3.read(x);y&&b.set(m,y)}return s},$3=typeof XMLHttpRequest<"u",e4=$3&&function(r){return new Promise(function(l,f){const m=J2(r);let x=m.data;const b=Er.from(m.headers).normalize();let{responseType:T,onUploadProgress:v,onDownloadProgress:y}=m,C,N,_,P,L;function H(){P&&P(),L&&L(),m.cancelToken&&m.cancelToken.unsubscribe(C),m.signal&&m.signal.removeEventListener("abort",C)}let V=new XMLHttpRequest;V.open(m.method.toUpperCase(),m.url,!0),V.timeout=m.timeout;function Y(){if(!V)return;const G=Er.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),$={data:!T||T==="text"||T==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:G,config:r,request:V};K2(function(ae){l(ae),H()},function(ae){f(ae),H()},$),V=null}"onloadend"in V?V.onloadend=Y:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(Y)},V.onabort=function(){V&&(f(new ft("Request aborted",ft.ECONNABORTED,r,V)),V=null)},V.onerror=function(){f(new ft("Network Error",ft.ERR_NETWORK,r,V)),V=null},V.ontimeout=function(){let oe=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const $=m.transitional||q2;m.timeoutErrorMessage&&(oe=m.timeoutErrorMessage),f(new ft(oe,$.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,r,V)),V=null},x===void 0&&b.setContentType(null),"setRequestHeader"in V&&xe.forEach(b.toJSON(),function(oe,$){V.setRequestHeader($,oe)}),xe.isUndefined(m.withCredentials)||(V.withCredentials=!!m.withCredentials),T&&T!=="json"&&(V.responseType=m.responseType),y&&([_,L]=Au(y,!0),V.addEventListener("progress",_)),v&&V.upload&&([N,P]=Au(v),V.upload.addEventListener("progress",N),V.upload.addEventListener("loadend",P)),(m.cancelToken||m.signal)&&(C=G=>{V&&(f(!G||G.type?new bo(null,r,V):G),V.abort(),V=null)},m.cancelToken&&m.cancelToken.subscribe(C),m.signal&&(m.signal.aborted?C():m.signal.addEventListener("abort",C)));const Q=Y3(m.url);if(Q&&lr.protocols.indexOf(Q)===-1){f(new ft("Unsupported protocol "+Q+":",ft.ERR_BAD_REQUEST,r));return}V.send(x||null)})},t4=(r,s)=>{const{length:l}=r=r?r.filter(Boolean):[];if(s||l){let f=new AbortController,m;const x=function(y){if(!m){m=!0,T();const C=y instanceof Error?y:this.reason;f.abort(C instanceof ft?C:new bo(C instanceof Error?C.message:C))}};let b=s&&setTimeout(()=>{b=null,x(new ft(`timeout ${s} of ms exceeded`,ft.ETIMEDOUT))},s);const T=()=>{r&&(b&&clearTimeout(b),b=null,r.forEach(y=>{y.unsubscribe?y.unsubscribe(x):y.removeEventListener("abort",x)}),r=null)};r.forEach(y=>y.addEventListener("abort",x));const{signal:v}=f;return v.unsubscribe=()=>xe.asap(T),v}},n4=function*(r,s){let l=r.byteLength;if(l<s){yield r;return}let f=0,m;for(;f<l;)m=f+s,yield r.slice(f,m),f=m},r4=async function*(r,s){for await(const l of i4(r))yield*n4(l,s)},i4=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:l,value:f}=await s.read();if(l)break;yield f}}finally{await s.cancel()}},Kg=(r,s,l,f)=>{const m=r4(r,s);let x=0,b,T=v=>{b||(b=!0,f&&f(v))};return new ReadableStream({async pull(v){try{const{done:y,value:C}=await m.next();if(y){T(),v.close();return}let N=C.byteLength;if(l){let _=x+=N;l(_)}v.enqueue(new Uint8Array(C))}catch(y){throw T(y),y}},cancel(v){return T(v),m.return()}},{highWaterMark:2})},Fu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$2=Fu&&typeof ReadableStream=="function",s4=Fu&&(typeof TextEncoder=="function"?(r=>s=>r.encode(s))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ep=(r,...s)=>{try{return!!r(...s)}catch{return!1}},a4=$2&&ep(()=>{let r=!1;const s=new Request(lr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!s}),Qg=64*1024,yd=$2&&ep(()=>xe.isReadableStream(new Response("").body)),Cu={stream:yd&&(r=>r.body)};Fu&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Cu[s]&&(Cu[s]=xe.isFunction(r[s])?l=>l[s]():(l,f)=>{throw new ft(`Response type '${s}' is not supported`,ft.ERR_NOT_SUPPORT,f)})})})(new Response);const o4=async r=>{if(r==null)return 0;if(xe.isBlob(r))return r.size;if(xe.isSpecCompliantForm(r))return(await new Request(lr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(r)||xe.isArrayBuffer(r))return r.byteLength;if(xe.isURLSearchParams(r)&&(r=r+""),xe.isString(r))return(await s4(r)).byteLength},l4=async(r,s)=>{const l=xe.toFiniteNumber(r.getContentLength());return l??o4(s)},c4=Fu&&(async r=>{let{url:s,method:l,data:f,signal:m,cancelToken:x,timeout:b,onDownloadProgress:T,onUploadProgress:v,responseType:y,headers:C,withCredentials:N="same-origin",fetchOptions:_}=J2(r);y=y?(y+"").toLowerCase():"text";let P=t4([m,x&&x.toAbortSignal()],b),L;const H=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let V;try{if(v&&a4&&l!=="get"&&l!=="head"&&(V=await l4(C,f))!==0){let $=new Request(s,{method:"POST",body:f,duplex:"half"}),pe;if(xe.isFormData(f)&&(pe=$.headers.get("content-type"))&&C.setContentType(pe),$.body){const[ae,ve]=qg(V,Au(Wg(v)));f=Kg($.body,Qg,ae,ve)}}xe.isString(N)||(N=N?"include":"omit");const Y="credentials"in Request.prototype;L=new Request(s,{..._,signal:P,method:l.toUpperCase(),headers:C.normalize().toJSON(),body:f,duplex:"half",credentials:Y?N:void 0});let Q=await fetch(L);const G=yd&&(y==="stream"||y==="response");if(yd&&(T||G&&H)){const $={};["status","statusText","headers"].forEach(ue=>{$[ue]=Q[ue]});const pe=xe.toFiniteNumber(Q.headers.get("content-length")),[ae,ve]=T&&qg(pe,Au(Wg(T),!0))||[];Q=new Response(Kg(Q.body,Qg,ae,()=>{ve&&ve(),H&&H()}),$)}y=y||"text";let oe=await Cu[xe.findKey(Cu,y)||"text"](Q,r);return!G&&H&&H(),await new Promise(($,pe)=>{K2($,pe,{data:oe,headers:Er.from(Q.headers),status:Q.status,statusText:Q.statusText,config:r,request:L})})}catch(Y){throw H&&H(),Y&&Y.name==="TypeError"&&/fetch/i.test(Y.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,r,L),{cause:Y.cause||Y}):ft.from(Y,Y&&Y.code,r,L)}}),wd={http:C3,xhr:e4,fetch:c4};xe.forEach(wd,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const Jg=r=>`- ${r}`,u4=r=>xe.isFunction(r)||r===null||r===!1,tp={getAdapter:r=>{r=xe.isArray(r)?r:[r];const{length:s}=r;let l,f;const m={};for(let x=0;x<s;x++){l=r[x];let b;if(f=l,!u4(l)&&(f=wd[(b=String(l)).toLowerCase()],f===void 0))throw new ft(`Unknown adapter '${b}'`);if(f)break;m[b||"#"+x]=f}if(!f){const x=Object.entries(m).map(([T,v])=>`adapter ${T} `+(v===!1?"is not supported by the environment":"is not available in the build"));let b=s?x.length>1?`since :
`+x.map(Jg).join(`
`):" "+Jg(x[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+b,"ERR_NOT_SUPPORT")}return f},adapters:wd};function Q0(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new bo(null,r)}function $g(r){return Q0(r),r.headers=Er.from(r.headers),r.data=K0.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),tp.getAdapter(r.adapter||Gl.adapter)(r).then(function(f){return Q0(r),f.data=K0.call(r,r.transformResponse,f),f.headers=Er.from(f.headers),f},function(f){return Z2(f)||(Q0(r),f&&f.response&&(f.response.data=K0.call(r,r.transformResponse,f.response),f.response.headers=Er.from(f.response.headers))),Promise.reject(f)})}const np="1.8.4",Uu={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{Uu[r]=function(f){return typeof f===r||"a"+(s<1?"n ":" ")+r}});const ex={};Uu.transitional=function(s,l,f){function m(x,b){return"[Axios v"+np+"] Transitional option '"+x+"'"+b+(f?". "+f:"")}return(x,b,T)=>{if(s===!1)throw new ft(m(b," has been removed"+(l?" in "+l:"")),ft.ERR_DEPRECATED);return l&&!ex[b]&&(ex[b]=!0,console.warn(m(b," has been deprecated since v"+l+" and will be removed in the near future"))),s?s(x,b,T):!0}};Uu.spelling=function(s){return(l,f)=>(console.warn(`${f} is likely a misspelling of ${s}`),!0)};function f4(r,s,l){if(typeof r!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const f=Object.keys(r);let m=f.length;for(;m-- >0;){const x=f[m],b=s[x];if(b){const T=r[x],v=T===void 0||b(T,x,r);if(v!==!0)throw new ft("option "+x+" must be "+v,ft.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new ft("Unknown option "+x,ft.ERR_BAD_OPTION)}}const pu={assertOptions:f4,validators:Uu},Ni=pu.validators;let ya=class{constructor(s){this.defaults=s,this.interceptors={request:new Xg,response:new Xg}}async request(s,l){try{return await this._request(s,l)}catch(f){if(f instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const x=m.stack?m.stack.replace(/^.+\n/,""):"";try{f.stack?x&&!String(f.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(f.stack+=`
`+x):f.stack=x}catch{}}throw f}}_request(s,l){typeof s=="string"?(l=l||{},l.url=s):l=s||{},l=ba(this.defaults,l);const{transitional:f,paramsSerializer:m,headers:x}=l;f!==void 0&&pu.assertOptions(f,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),m!=null&&(xe.isFunction(m)?l.paramsSerializer={serialize:m}:pu.assertOptions(m,{encode:Ni.function,serialize:Ni.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),pu.assertOptions(l,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let b=x&&xe.merge(x.common,x[l.method]);x&&xe.forEach(["delete","get","head","post","put","patch","common"],L=>{delete x[L]}),l.headers=Er.concat(b,x);const T=[];let v=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(l)===!1||(v=v&&H.synchronous,T.unshift(H.fulfilled,H.rejected))});const y=[];this.interceptors.response.forEach(function(H){y.push(H.fulfilled,H.rejected)});let C,N=0,_;if(!v){const L=[$g.bind(this),void 0];for(L.unshift.apply(L,T),L.push.apply(L,y),_=L.length,C=Promise.resolve(l);N<_;)C=C.then(L[N++],L[N++]);return C}_=T.length;let P=l;for(N=0;N<_;){const L=T[N++],H=T[N++];try{P=L(P)}catch(V){H.call(this,V);break}}try{C=$g.call(this,P)}catch(L){return Promise.reject(L)}for(N=0,_=y.length;N<_;)C=C.then(y[N++],y[N++]);return C}getUri(s){s=ba(this.defaults,s);const l=Q2(s.baseURL,s.url,s.allowAbsoluteUrls);return Y2(l,s.params,s.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(s){ya.prototype[s]=function(l,f){return this.request(ba(f||{},{method:s,url:l,data:(f||{}).data}))}});xe.forEach(["post","put","patch"],function(s){function l(f){return function(x,b,T){return this.request(ba(T||{},{method:s,headers:f?{"Content-Type":"multipart/form-data"}:{},url:x,data:b}))}}ya.prototype[s]=l(),ya.prototype[s+"Form"]=l(!0)});let d4=class rp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(x){l=x});const f=this;this.promise.then(m=>{if(!f._listeners)return;let x=f._listeners.length;for(;x-- >0;)f._listeners[x](m);f._listeners=null}),this.promise.then=m=>{let x;const b=new Promise(T=>{f.subscribe(T),x=T}).then(m);return b.cancel=function(){f.unsubscribe(x)},b},s(function(x,b,T){f.reason||(f.reason=new bo(x,b,T),l(f.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const s=new AbortController,l=f=>{s.abort(f)};return this.subscribe(l),s.signal.unsubscribe=()=>this.unsubscribe(l),s.signal}static source(){let s;return{token:new rp(function(m){s=m}),cancel:s}}};function h4(r){return function(l){return r.apply(null,l)}}function m4(r){return xe.isObject(r)&&r.isAxiosError===!0}const bd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bd).forEach(([r,s])=>{bd[s]=r});function ip(r){const s=new ya(r),l=L2(ya.prototype.request,s);return xe.extend(l,ya.prototype,s,{allOwnKeys:!0}),xe.extend(l,s,null,{allOwnKeys:!0}),l.create=function(m){return ip(ba(r,m))},l}const gt=ip(Gl);gt.Axios=ya;gt.CanceledError=bo;gt.CancelToken=d4;gt.isCancel=Z2;gt.VERSION=np;gt.toFormData=ku;gt.AxiosError=ft;gt.Cancel=gt.CanceledError;gt.all=function(s){return Promise.all(s)};gt.spread=h4;gt.isAxiosError=m4;gt.mergeConfig=ba;gt.AxiosHeaders=Er;gt.formToJSON=r=>W2(xe.isHTMLForm(r)?new FormData(r):r);gt.getAdapter=tp.getAdapter;gt.HttpStatusCode=bd;gt.default=gt;const{Axios:z6,AxiosError:H6,CanceledError:G6,isCancel:X6,CancelToken:Y6,VERSION:q6,all:W6,Cancel:Z6,isAxiosError:K6,spread:Q6,toFormData:J6,AxiosHeaders:$6,HttpStatusCode:eT,formToJSON:tT,getAdapter:nT,mergeConfig:rT}=gt,sp=U.createContext(),vo=()=>U.useContext(sp);function g4({children:r}){const[s,l]=U.useState(()=>{const x=localStorage.getItem("cafeteria-user");return x?JSON.parse(x):null});Bn.useEffect(()=>{const x=gt.interceptors.response.use(b=>b,b=>{var T;return((T=b.response)==null?void 0:T.status)===401&&(localStorage.removeItem("cafeteria-user"),l(null),window.location.href="/login"),Promise.reject(b)});return()=>{gt.interceptors.response.eject(x)}},[]);const f=x=>{localStorage.setItem("cafeteria-user",JSON.stringify(x)),l(x)},m=()=>{localStorage.removeItem("cafeteria-user"),l(null)};return A.jsx(sp.Provider,{value:{user:s,login:f,logout:m},children:r})}var El={},tx;function x4(){if(tx)return El;tx=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=b,El.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,f=/^[\u0020-\u003A\u003D-\u007E]*$/,m=Object.prototype.toString,x=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function b(_,P){const L=new x,H=_.length;if(H<2)return L;const V=(P==null?void 0:P.decode)||C;let Y=0;do{const Q=_.indexOf("=",Y);if(Q===-1)break;const G=_.indexOf(";",Y),oe=G===-1?H:G;if(Q>oe){Y=_.lastIndexOf(";",Q-1)+1;continue}const $=T(_,Y,Q),pe=v(_,Q,$),ae=_.slice($,pe);if(L[ae]===void 0){let ve=T(_,Q+1,oe),ue=v(_,oe,ve);const Je=V(_.slice(ve,ue));L[ae]=Je}Y=oe+1}while(Y<H);return L}function T(_,P,L){do{const H=_.charCodeAt(P);if(H!==32&&H!==9)return P}while(++P<L);return L}function v(_,P,L){for(;P>L;){const H=_.charCodeAt(--P);if(H!==32&&H!==9)return P+1}return L}function y(_,P,L){const H=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const V=H(P);if(!s.test(V))throw new TypeError(`argument val is invalid: ${P}`);let Y=_+"="+V;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!l.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!f.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!N(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function C(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function N(_){return m.call(_)==="[object Date]"}return El}x4();var nx="popstate";function p4(r={}){function s(m,x){let{pathname:b="/",search:T="",hash:v=""}=Ea(m.location.hash.substring(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),vd("",{pathname:b,search:T,hash:v},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function l(m,x){let b=m.document.querySelector("base"),T="";if(b&&b.getAttribute("href")){let v=m.location.href,y=v.indexOf("#");T=y===-1?v:v.slice(0,y)}return T+"#"+(typeof x=="string"?x:Bl(x))}function f(m,x){qr(m.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(x)})`)}return w4(s,l,f,r)}function sn(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function qr(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function y4(){return Math.random().toString(36).substring(2,10)}function rx(r,s){return{usr:r.state,key:r.key,idx:s}}function vd(r,s,l=null,f){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof s=="string"?Ea(s):s,state:l,key:s&&s.key||f||y4()}}function Bl({pathname:r="/",search:s="",hash:l=""}){return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Ea(r){let s={};if(r){let l=r.indexOf("#");l>=0&&(s.hash=r.substring(l),r=r.substring(0,l));let f=r.indexOf("?");f>=0&&(s.search=r.substring(f),r=r.substring(0,f)),r&&(s.pathname=r)}return s}function w4(r,s,l,f={}){let{window:m=document.defaultView,v5Compat:x=!1}=f,b=m.history,T="POP",v=null,y=C();y==null&&(y=0,b.replaceState({...b.state,idx:y},""));function C(){return(b.state||{idx:null}).idx}function N(){T="POP";let V=C(),Y=V==null?null:V-y;y=V,v&&v({action:T,location:H.location,delta:Y})}function _(V,Y){T="PUSH";let Q=vd(H.location,V,Y);l&&l(Q,V),y=C()+1;let G=rx(Q,y),oe=H.createHref(Q);try{b.pushState(G,"",oe)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;m.location.assign(oe)}x&&v&&v({action:T,location:H.location,delta:1})}function P(V,Y){T="REPLACE";let Q=vd(H.location,V,Y);l&&l(Q,V),y=C();let G=rx(Q,y),oe=H.createHref(Q);b.replaceState(G,"",oe),x&&v&&v({action:T,location:H.location,delta:0})}function L(V){let Y=m.location.origin!=="null"?m.location.origin:m.location.href,Q=typeof V=="string"?V:Bl(V);return Q=Q.replace(/ $/,"%20"),sn(Y,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,Y)}let H={get action(){return T},get location(){return r(m,b)},listen(V){if(v)throw new Error("A history only accepts one active listener");return m.addEventListener(nx,N),v=V,()=>{m.removeEventListener(nx,N),v=null}},createHref(V){return s(m,V)},createURL:L,encodeLocation(V){let Y=L(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:_,replace:P,go(V){return b.go(V)}};return H}function ap(r,s,l="/"){return b4(r,s,l,!1)}function b4(r,s,l,f){let m=typeof s=="string"?Ea(s):s,x=ts(m.pathname||"/",l);if(x==null)return null;let b=op(r);v4(b);let T=null;for(let v=0;T==null&&v<b.length;++v){let y=_4(x);T=M4(b[v],y,f)}return T}function op(r,s=[],l=[],f=""){let m=(x,b,T)=>{let v={relativePath:T===void 0?x.path||"":T,caseSensitive:x.caseSensitive===!0,childrenIndex:b,route:x};v.relativePath.startsWith("/")&&(sn(v.relativePath.startsWith(f),`Absolute route path "${v.relativePath}" nested under path "${f}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(f.length));let y=es([f,v.relativePath]),C=l.concat(v);x.children&&x.children.length>0&&(sn(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),op(x.children,s,C,y)),!(x.path==null&&!x.index)&&s.push({path:y,score:R4(y,x.index),routesMeta:C})};return r.forEach((x,b)=>{var T;if(x.path===""||!((T=x.path)!=null&&T.includes("?")))m(x,b);else for(let v of lp(x.path))m(x,b,v)}),s}function lp(r){let s=r.split("/");if(s.length===0)return[];let[l,...f]=s,m=l.endsWith("?"),x=l.replace(/\?$/,"");if(f.length===0)return m?[x,""]:[x];let b=lp(f.join("/")),T=[];return T.push(...b.map(v=>v===""?x:[x,v].join("/"))),m&&T.push(...b),T.map(v=>r.startsWith("/")&&v===""?"/":v)}function v4(r){r.sort((s,l)=>s.score!==l.score?l.score-s.score:O4(s.routesMeta.map(f=>f.childrenIndex),l.routesMeta.map(f=>f.childrenIndex)))}var E4=/^:[\w-]+$/,A4=3,C4=2,S4=1,T4=10,N4=-2,ix=r=>r==="*";function R4(r,s){let l=r.split("/"),f=l.length;return l.some(ix)&&(f+=N4),s&&(f+=C4),l.filter(m=>!ix(m)).reduce((m,x)=>m+(E4.test(x)?A4:x===""?S4:T4),f)}function O4(r,s){return r.length===s.length&&r.slice(0,-1).every((f,m)=>f===s[m])?r[r.length-1]-s[s.length-1]:0}function M4(r,s,l=!1){let{routesMeta:f}=r,m={},x="/",b=[];for(let T=0;T<f.length;++T){let v=f[T],y=T===f.length-1,C=x==="/"?s:s.slice(x.length)||"/",N=Su({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},C),_=v.route;if(!N&&y&&l&&!f[f.length-1].route.index&&(N=Su({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},C)),!N)return null;Object.assign(m,N.params),b.push({params:m,pathname:es([x,N.pathname]),pathnameBase:j4(es([x,N.pathnameBase])),route:_}),N.pathnameBase!=="/"&&(x=es([x,N.pathnameBase]))}return b}function Su(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,f]=D4(r.path,r.caseSensitive,r.end),m=s.match(l);if(!m)return null;let x=m[0],b=x.replace(/(.)\/+$/,"$1"),T=m.slice(1);return{params:f.reduce((y,{paramName:C,isOptional:N},_)=>{if(C==="*"){let L=T[_]||"";b=x.slice(0,x.length-L.length).replace(/(.)\/+$/,"$1")}const P=T[_];return N&&!P?y[C]=void 0:y[C]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:x,pathnameBase:b,pattern:r}}function D4(r,s=!1,l=!0){qr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let f=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,T,v)=>(f.push({paramName:T,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(f.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,s?void 0:"i"),f]}function _4(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return qr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),r}}function ts(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,f=r.charAt(l);return f&&f!=="/"?null:r.slice(l)||"/"}function I4(r,s="/"){let{pathname:l,search:f="",hash:m=""}=typeof r=="string"?Ea(r):r;return{pathname:l?l.startsWith("/")?l:B4(l,s):s,search:P4(f),hash:k4(m)}}function B4(r,s){let l=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?l.length>1&&l.pop():m!=="."&&l.push(m)}),l.length>1?l.join("/"):"/"}function J0(r,s,l,f){return`Cannot include a '${r}' character in a manually specified \`to.${s}\` field [${JSON.stringify(f)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L4(r){return r.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function Jd(r){let s=L4(r);return s.map((l,f)=>f===s.length-1?l.pathname:l.pathnameBase)}function $d(r,s,l,f=!1){let m;typeof r=="string"?m=Ea(r):(m={...r},sn(!m.pathname||!m.pathname.includes("?"),J0("?","pathname","search",m)),sn(!m.pathname||!m.pathname.includes("#"),J0("#","pathname","hash",m)),sn(!m.search||!m.search.includes("#"),J0("#","search","hash",m)));let x=r===""||m.pathname==="",b=x?"/":m.pathname,T;if(b==null)T=l;else{let N=s.length-1;if(!f&&b.startsWith("..")){let _=b.split("/");for(;_[0]==="..";)_.shift(),N-=1;m.pathname=_.join("/")}T=N>=0?s[N]:"/"}let v=I4(m,T),y=b&&b!=="/"&&b.endsWith("/"),C=(x||b===".")&&l.endsWith("/");return!v.pathname.endsWith("/")&&(y||C)&&(v.pathname+="/"),v}var es=r=>r.join("/").replace(/\/\/+/g,"/"),j4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),P4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,k4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function F4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cp=["POST","PUT","PATCH","DELETE"];new Set(cp);var U4=["GET",...cp];new Set(U4);var Eo=U.createContext(null);Eo.displayName="DataRouter";var Vu=U.createContext(null);Vu.displayName="DataRouterState";var up=U.createContext({isTransitioning:!1});up.displayName="ViewTransition";var V4=U.createContext(new Map);V4.displayName="Fetchers";var z4=U.createContext(null);z4.displayName="Await";var ii=U.createContext(null);ii.displayName="Navigation";var Xl=U.createContext(null);Xl.displayName="Location";var Di=U.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var eh=U.createContext(null);eh.displayName="RouteError";function H4(r,{relative:s}={}){sn(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:f}=U.useContext(ii),{hash:m,pathname:x,search:b}=Yl(r,{relative:s}),T=x;return l!=="/"&&(T=x==="/"?l:es([l,x])),f.createHref({pathname:T,search:b,hash:m})}function Ao(){return U.useContext(Xl)!=null}function Us(){return sn(Ao(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Xl).location}var fp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dp(r){U.useContext(ii).static||U.useLayoutEffect(r)}function Aa(){let{isDataRoute:r}=U.useContext(Di);return r?nv():G4()}function G4(){sn(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Eo),{basename:s,navigator:l}=U.useContext(ii),{matches:f}=U.useContext(Di),{pathname:m}=Us(),x=JSON.stringify(Jd(f)),b=U.useRef(!1);return dp(()=>{b.current=!0}),U.useCallback((v,y={})=>{if(qr(b.current,fp),!b.current)return;if(typeof v=="number"){l.go(v);return}let C=$d(v,JSON.parse(x),m,y.relative==="path");r==null&&s!=="/"&&(C.pathname=C.pathname==="/"?s:es([s,C.pathname])),(y.replace?l.replace:l.push)(C,y.state,y)},[s,l,x,m,r])}U.createContext(null);function Yl(r,{relative:s}={}){let{matches:l}=U.useContext(Di),{pathname:f}=Us(),m=JSON.stringify(Jd(l));return U.useMemo(()=>$d(r,JSON.parse(m),f,s==="path"),[r,m,f,s])}function X4(r,s){return hp(r,s)}function hp(r,s,l,f){var Q;sn(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m,static:x}=U.useContext(ii),{matches:b}=U.useContext(Di),T=b[b.length-1],v=T?T.params:{},y=T?T.pathname:"/",C=T?T.pathnameBase:"/",N=T&&T.route;{let G=N&&N.path||"";mp(y,!N||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let _=Us(),P;if(s){let G=typeof s=="string"?Ea(s):s;sn(C==="/"||((Q=G.pathname)==null?void 0:Q.startsWith(C)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${C}" but pathname "${G.pathname}" was given in the \`location\` prop.`),P=G}else P=_;let L=P.pathname||"/",H=L;if(C!=="/"){let G=C.replace(/^\//,"").split("/");H="/"+L.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=!x&&l&&l.matches&&l.matches.length>0?l.matches:ap(r,{pathname:H});qr(N||V!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),qr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=K4(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},v,G.params),pathname:es([C,m.encodeLocation?m.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?C:es([C,m.encodeLocation?m.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),b,l,f);return s&&Y?U.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function Y4(){let r=tv(),s=F4(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,f="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:f},x={padding:"2px 4px",backgroundColor:f},b=null;return console.error("Error handled by React Router default ErrorBoundary:",r),b=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:x},"ErrorBoundary")," or"," ",U.createElement("code",{style:x},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},s),l?U.createElement("pre",{style:m},l):null,b)}var q4=U.createElement(Y4,null),W4=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?U.createElement(Di.Provider,{value:this.props.routeContext},U.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z4({routeContext:r,match:s,children:l}){let f=U.useContext(Eo);return f&&f.static&&f.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=s.route.id),U.createElement(Di.Provider,{value:r},l)}function K4(r,s=[],l=null,f=null){if(r==null){if(!l)return null;if(l.errors)r=l.matches;else if(s.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let m=r,x=l==null?void 0:l.errors;if(x!=null){let v=m.findIndex(y=>y.route.id&&(x==null?void 0:x[y.route.id])!==void 0);sn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,v+1))}let b=!1,T=-1;if(l)for(let v=0;v<m.length;v++){let y=m[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(T=v),y.route.id){let{loaderData:C,errors:N}=l,_=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||_){b=!0,T>=0?m=m.slice(0,T+1):m=[m[0]];break}}}return m.reduceRight((v,y,C)=>{let N,_=!1,P=null,L=null;l&&(N=x&&y.route.id?x[y.route.id]:void 0,P=y.route.errorElement||q4,b&&(T<0&&C===0?(mp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,L=null):T===C&&(_=!0,L=y.route.hydrateFallbackElement||null)));let H=s.concat(m.slice(0,C+1)),V=()=>{let Y;return N?Y=P:_?Y=L:y.route.Component?Y=U.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=v,U.createElement(Z4,{match:y,routeContext:{outlet:v,matches:H,isDataRoute:l!=null},children:Y})};return l&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?U.createElement(W4,{location:l.location,revalidation:l.revalidation,component:P,error:N,children:V(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):V()},null)}function th(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q4(r){let s=U.useContext(Eo);return sn(s,th(r)),s}function J4(r){let s=U.useContext(Vu);return sn(s,th(r)),s}function $4(r){let s=U.useContext(Di);return sn(s,th(r)),s}function nh(r){let s=$4(r),l=s.matches[s.matches.length-1];return sn(l.route.id,`${r} can only be used on routes that contain a unique "id"`),l.route.id}function ev(){return nh("useRouteId")}function tv(){var f;let r=U.useContext(eh),s=J4("useRouteError"),l=nh("useRouteError");return r!==void 0?r:(f=s.errors)==null?void 0:f[l]}function nv(){let{router:r}=Q4("useNavigate"),s=nh("useNavigate"),l=U.useRef(!1);return dp(()=>{l.current=!0}),U.useCallback(async(m,x={})=>{qr(l.current,fp),l.current&&(typeof m=="number"?r.navigate(m):await r.navigate(m,{fromRouteId:s,...x}))},[r,s])}var sx={};function mp(r,s,l){!s&&!sx[r]&&(sx[r]=!0,qr(!1,l))}U.memo(rv);function rv({routes:r,future:s,state:l}){return hp(r,void 0,l,s)}function Ed({to:r,replace:s,state:l,relative:f}){sn(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=U.useContext(ii);qr(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=U.useContext(Di),{pathname:b}=Us(),T=Aa(),v=$d(r,Jd(x),b,f==="path"),y=JSON.stringify(v);return U.useEffect(()=>{T(JSON.parse(y),{replace:s,state:l,relative:f})},[T,y,f,s,l]),null}function ha(r){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iv({basename:r="/",children:s=null,location:l,navigationType:f="POP",navigator:m,static:x=!1}){sn(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=r.replace(/^\/*/,"/"),T=U.useMemo(()=>({basename:b,navigator:m,static:x,future:{}}),[b,m,x]);typeof l=="string"&&(l=Ea(l));let{pathname:v="/",search:y="",hash:C="",state:N=null,key:_="default"}=l,P=U.useMemo(()=>{let L=ts(v,b);return L==null?null:{location:{pathname:L,search:y,hash:C,state:N,key:_},navigationType:f}},[b,v,y,C,N,_,f]);return qr(P!=null,`<Router basename="${b}"> is not able to match the URL "${v}${y}${C}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(ii.Provider,{value:T},U.createElement(Xl.Provider,{children:s,value:P}))}function sv({children:r,location:s}){return X4(Ad(r),s)}function Ad(r,s=[]){let l=[];return U.Children.forEach(r,(f,m)=>{if(!U.isValidElement(f))return;let x=[...s,m];if(f.type===U.Fragment){l.push.apply(l,Ad(f.props.children,x));return}sn(f.type===ha,`[${typeof f.type=="string"?f.type:f.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!f.props.index||!f.props.children,"An index route cannot have child routes.");let b={id:f.props.id||x.join("-"),caseSensitive:f.props.caseSensitive,element:f.props.element,Component:f.props.Component,index:f.props.index,path:f.props.path,loader:f.props.loader,action:f.props.action,hydrateFallbackElement:f.props.hydrateFallbackElement,HydrateFallback:f.props.HydrateFallback,errorElement:f.props.errorElement,ErrorBoundary:f.props.ErrorBoundary,hasErrorBoundary:f.props.hasErrorBoundary===!0||f.props.ErrorBoundary!=null||f.props.errorElement!=null,shouldRevalidate:f.props.shouldRevalidate,handle:f.props.handle,lazy:f.props.lazy};f.props.children&&(b.children=Ad(f.props.children,x)),l.push(b)}),l}var yu="get",wu="application/x-www-form-urlencoded";function zu(r){return r!=null&&typeof r.tagName=="string"}function av(r){return zu(r)&&r.tagName.toLowerCase()==="button"}function ov(r){return zu(r)&&r.tagName.toLowerCase()==="form"}function lv(r){return zu(r)&&r.tagName.toLowerCase()==="input"}function cv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uv(r,s){return r.button===0&&(!s||s==="_self")&&!cv(r)}var lu=null;function fv(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var dv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $0(r){return r!=null&&!dv.has(r)?(qr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wu}"`),null):r}function hv(r,s){let l,f,m,x,b;if(ov(r)){let T=r.getAttribute("action");f=T?ts(T,s):null,l=r.getAttribute("method")||yu,m=$0(r.getAttribute("enctype"))||wu,x=new FormData(r)}else if(av(r)||lv(r)&&(r.type==="submit"||r.type==="image")){let T=r.form;if(T==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||T.getAttribute("action");if(f=v?ts(v,s):null,l=r.getAttribute("formmethod")||T.getAttribute("method")||yu,m=$0(r.getAttribute("formenctype"))||$0(T.getAttribute("enctype"))||wu,x=new FormData(T,r),!fv()){let{name:y,type:C,value:N}=r;if(C==="image"){let _=y?`${y}.`:"";x.append(`${_}x`,"0"),x.append(`${_}y`,"0")}else y&&x.append(y,N)}}else{if(zu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=yu,f=null,m=wu,b=r}return x&&m==="text/plain"&&(b=x,x=void 0),{action:f,method:l.toLowerCase(),encType:m,formData:x,body:b}}function rh(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}async function mv(r,s){if(r.id in s)return s[r.id];try{let l=await import(r.module);return s[r.id]=l,l}catch(l){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xv(r,s,l){let f=await Promise.all(r.map(async m=>{let x=s.routes[m.route.id];if(x){let b=await mv(x,l);return b.links?b.links():[]}return[]}));return bv(f.flat(1).filter(gv).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function ax(r,s,l,f,m,x){let b=(v,y)=>l[y]?v.route.id!==l[y].route.id:!0,T=(v,y)=>{var C;return l[y].pathname!==v.pathname||((C=l[y].route.path)==null?void 0:C.endsWith("*"))&&l[y].params["*"]!==v.params["*"]};return x==="assets"?s.filter((v,y)=>b(v,y)||T(v,y)):x==="data"?s.filter((v,y)=>{var N;let C=f.routes[v.route.id];if(!C||!C.hasLoader)return!1;if(b(v,y)||T(v,y))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:((N=l[0])==null?void 0:N.params)||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pv(r,s,{includeHydrateFallback:l}={}){return yv(r.map(f=>{let m=s.routes[f.route.id];if(!m)return[];let x=[m.module];return m.clientActionModule&&(x=x.concat(m.clientActionModule)),m.clientLoaderModule&&(x=x.concat(m.clientLoaderModule)),l&&m.hydrateFallbackModule&&(x=x.concat(m.hydrateFallbackModule)),m.imports&&(x=x.concat(m.imports)),x}).flat(1))}function yv(r){return[...new Set(r)]}function wv(r){let s={},l=Object.keys(r).sort();for(let f of l)s[f]=r[f];return s}function bv(r,s){let l=new Set;return new Set(s),r.reduce((f,m)=>{let x=JSON.stringify(wv(m));return l.has(x)||(l.add(x),f.push({key:x,link:m})),f},[])}var vv=new Set([100,101,204,205]);function Ev(r,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname="_root.data":s&&ts(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.data`:l.pathname=`${l.pathname.replace(/\/$/,"")}.data`,l}function gp(){let r=U.useContext(Eo);return rh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Av(){let r=U.useContext(Vu);return rh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ih=U.createContext(void 0);ih.displayName="FrameworkContext";function xp(){let r=U.useContext(ih);return rh(r,"You must render this element inside a <HydratedRouter> element"),r}function Cv(r,s){let l=U.useContext(ih),[f,m]=U.useState(!1),[x,b]=U.useState(!1),{onFocus:T,onBlur:v,onMouseEnter:y,onMouseLeave:C,onTouchStart:N}=s,_=U.useRef(null);U.useEffect(()=>{if(r==="render"&&b(!0),r==="viewport"){let H=Y=>{Y.forEach(Q=>{b(Q.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return _.current&&V.observe(_.current),()=>{V.disconnect()}}},[r]),U.useEffect(()=>{if(f){let H=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(H)}}},[f]);let P=()=>{m(!0)},L=()=>{m(!1),b(!1)};return l?r!=="intent"?[x,_,{}]:[x,_,{onFocus:Al(T,P),onBlur:Al(v,L),onMouseEnter:Al(y,P),onMouseLeave:Al(C,L),onTouchStart:Al(N,P)}]:[!1,_,{}]}function Al(r,s){return l=>{r&&r(l),l.defaultPrevented||s(l)}}function Sv({page:r,...s}){let{router:l}=gp(),f=U.useMemo(()=>ap(l.routes,r,l.basename),[l.routes,r,l.basename]);return f?U.createElement(Nv,{page:r,matches:f,...s}):null}function Tv(r){let{manifest:s,routeModules:l}=xp(),[f,m]=U.useState([]);return U.useEffect(()=>{let x=!1;return xv(r,s,l).then(b=>{x||m(b)}),()=>{x=!0}},[r,s,l]),f}function Nv({page:r,matches:s,...l}){let f=Us(),{manifest:m,routeModules:x}=xp(),{basename:b}=gp(),{loaderData:T,matches:v}=Av(),y=U.useMemo(()=>ax(r,s,v,m,f,"data"),[r,s,v,m,f]),C=U.useMemo(()=>ax(r,s,v,m,f,"assets"),[r,s,v,m,f]),N=U.useMemo(()=>{if(r===f.pathname+f.search+f.hash)return[];let L=new Set,H=!1;if(s.forEach(Y=>{var G;let Q=m.routes[Y.route.id];!Q||!Q.hasLoader||(!y.some(oe=>oe.route.id===Y.route.id)&&Y.route.id in T&&((G=x[Y.route.id])!=null&&G.shouldRevalidate)||Q.hasClientLoader?H=!0:L.add(Y.route.id))}),L.size===0)return[];let V=Ev(r,b);return H&&L.size>0&&V.searchParams.set("_routes",s.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[b,T,f,m,y,s,r,x]),_=U.useMemo(()=>pv(C,m),[C,m]),P=Tv(C);return U.createElement(U.Fragment,null,N.map(L=>U.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...l})),_.map(L=>U.createElement("link",{key:L,rel:"modulepreload",href:L,...l})),P.map(({key:L,link:H})=>U.createElement("link",{key:L,...H})))}function Rv(...r){return s=>{r.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}var pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pp&&(window.__reactRouterVersion="7.5.2")}catch{}function Ov({basename:r,children:s,window:l}){let f=U.useRef();f.current==null&&(f.current=p4({window:l,v5Compat:!0}));let m=f.current,[x,b]=U.useState({action:m.action,location:m.location}),T=U.useCallback(v=>{U.startTransition(()=>b(v))},[b]);return U.useLayoutEffect(()=>m.listen(T),[m,T]),U.createElement(iv,{basename:r,children:s,location:x.location,navigationType:x.action,navigator:m})}var yp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hu=U.forwardRef(function({onClick:s,discover:l="render",prefetch:f="none",relative:m,reloadDocument:x,replace:b,state:T,target:v,to:y,preventScrollReset:C,viewTransition:N,..._},P){let{basename:L}=U.useContext(ii),H=typeof y=="string"&&yp.test(y),V,Y=!1;if(typeof y=="string"&&H&&(V=y,pp))try{let ue=new URL(window.location.href),Je=y.startsWith("//")?new URL(ue.protocol+y):new URL(y),Ye=ts(Je.pathname,L);Je.origin===ue.origin&&Ye!=null?y=Ye+Je.search+Je.hash:Y=!0}catch{qr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=H4(y,{relative:m}),[G,oe,$]=Cv(f,_),pe=Iv(y,{replace:b,state:T,target:v,preventScrollReset:C,relative:m,viewTransition:N});function ae(ue){s&&s(ue),ue.defaultPrevented||pe(ue)}let ve=U.createElement("a",{..._,...$,href:V||Q,onClick:Y||x?s:ae,ref:Rv(P,oe),target:v,"data-discover":!H&&l==="render"?"true":void 0});return G&&!H?U.createElement(U.Fragment,null,ve,U.createElement(Sv,{page:Q})):ve});Hu.displayName="Link";var Mv=U.forwardRef(function({"aria-current":s="page",caseSensitive:l=!1,className:f="",end:m=!1,style:x,to:b,viewTransition:T,children:v,...y},C){let N=Yl(b,{relative:y.relative}),_=Us(),P=U.useContext(Vu),{navigator:L,basename:H}=U.useContext(ii),V=P!=null&&kv(N)&&T===!0,Y=L.encodeLocation?L.encodeLocation(N).pathname:N.pathname,Q=_.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;l||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,Y=Y.toLowerCase()),G&&H&&(G=ts(G,H)||G);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let $=Q===Y||!m&&Q.startsWith(Y)&&Q.charAt(oe)==="/",pe=G!=null&&(G===Y||!m&&G.startsWith(Y)&&G.charAt(Y.length)==="/"),ae={isActive:$,isPending:pe,isTransitioning:V},ve=$?s:void 0,ue;typeof f=="function"?ue=f(ae):ue=[f,$?"active":null,pe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Je=typeof x=="function"?x(ae):x;return U.createElement(Hu,{...y,"aria-current":ve,className:ue,ref:C,style:Je,to:b,viewTransition:T},typeof v=="function"?v(ae):v)});Mv.displayName="NavLink";var Dv=U.forwardRef(({discover:r="render",fetcherKey:s,navigate:l,reloadDocument:f,replace:m,state:x,method:b=yu,action:T,onSubmit:v,relative:y,preventScrollReset:C,viewTransition:N,..._},P)=>{let L=jv(),H=Pv(T,{relative:y}),V=b.toLowerCase()==="get"?"get":"post",Y=typeof T=="string"&&yp.test(T),Q=G=>{if(v&&v(G),G.defaultPrevented)return;G.preventDefault();let oe=G.nativeEvent.submitter,$=(oe==null?void 0:oe.getAttribute("formmethod"))||b;L(oe||G.currentTarget,{fetcherKey:s,method:$,navigate:l,replace:m,state:x,relative:y,preventScrollReset:C,viewTransition:N})};return U.createElement("form",{ref:P,method:V,action:H,onSubmit:f?v:Q,..._,"data-discover":!Y&&r==="render"?"true":void 0})});Dv.displayName="Form";function _v(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wp(r){let s=U.useContext(Eo);return sn(s,_v(r)),s}function Iv(r,{target:s,replace:l,state:f,preventScrollReset:m,relative:x,viewTransition:b}={}){let T=Aa(),v=Us(),y=Yl(r,{relative:x});return U.useCallback(C=>{if(uv(C,s)){C.preventDefault();let N=l!==void 0?l:Bl(v)===Bl(y);T(r,{replace:N,state:f,preventScrollReset:m,relative:x,viewTransition:b})}},[v,T,y,l,f,s,r,m,x,b])}var Bv=0,Lv=()=>`__${String(++Bv)}__`;function jv(){let{router:r}=wp("useSubmit"),{basename:s}=U.useContext(ii),l=ev();return U.useCallback(async(f,m={})=>{let{action:x,method:b,encType:T,formData:v,body:y}=hv(f,s);if(m.navigate===!1){let C=m.fetcherKey||Lv();await r.fetch(C,l,m.action||x,{preventScrollReset:m.preventScrollReset,formData:v,body:y,formMethod:m.method||b,formEncType:m.encType||T,flushSync:m.flushSync})}else await r.navigate(m.action||x,{preventScrollReset:m.preventScrollReset,formData:v,body:y,formMethod:m.method||b,formEncType:m.encType||T,replace:m.replace,state:m.state,fromRouteId:l,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,s,l])}function Pv(r,{relative:s}={}){let{basename:l}=U.useContext(ii),f=U.useContext(Di);sn(f,"useFormAction must be used inside a RouteContext");let[m]=f.matches.slice(-1),x={...Yl(r||".",{relative:s})},b=Us();if(r==null){x.search=b.search;let T=new URLSearchParams(x.search),v=T.getAll("index");if(v.some(C=>C==="")){T.delete("index"),v.filter(N=>N).forEach(N=>T.append("index",N));let C=T.toString();x.search=C?`?${C}`:""}}return(!r||r===".")&&m.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(x.pathname=x.pathname==="/"?l:es([l,x.pathname])),Bl(x)}function kv(r,s={}){let l=U.useContext(up);sn(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:f}=wp("useViewTransitionState"),m=Yl(r,{relative:s.relative});if(!l.isTransitioning)return!1;let x=ts(l.currentLocation.pathname,f)||l.currentLocation.pathname,b=ts(l.nextLocation.pathname,f)||l.nextLocation.pathname;return Su(m.pathname,b)!=null||Su(m.pathname,x)!=null}new TextEncoder;[...vv];const bp="/assets/2gonzlogo-IwXxb5aE.png",Fv="https://varda-loyalty-reward-system.onrender.com";function Uv(){const[r,s]=U.useState(""),[l,f]=U.useState(""),[m,x]=U.useState(!1),[b,T]=U.useState(""),[v,y]=U.useState(!1),{login:C}=vo(),N=Aa(),_=async P=>{var L,H;if(P.preventDefault(),T(""),y(!0),!r.trim()||!l.trim()){T("Please fill in all fields"),y(!1);return}try{const{data:V}=await gt.post(`${Fv}/api/auth/login`,{idNumber:r,password:l});C(V),V.role==="cashier"?N("/cashier"):V.role==="admin"?N("/admin"):N("/student")}catch(V){T(((H=(L=V.response)==null?void 0:L.data)==null?void 0:H.message)||"Invalid ID number or password")}finally{y(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0f172a] to-[#1e293b] p-4",children:A.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-[#1e293b] to-[#334155] rounded-3xl shadow-xl p-8 space-y-6 border border-gray-700/50",children:[A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("img",{src:bp,alt:"2Gonz Logo",className:"w-32 h-32 object-contain mb-4"}),A.jsx("h1",{className:"text-3xl font-bold text-center text-white",children:"Welcome!"})]}),A.jsxs("form",{onSubmit:_,className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"ID Number"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter your ID number",value:r,onChange:P=>{const L=P.target.value;(L===""||/^\d+$/.test(L))&&(s(L),T(""))},required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:m?"text":"password",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter your password",value:l,onChange:P=>{f(P.target.value),T("")},required:!0}),A.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",children:m?A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),A.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),A.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]}),b&&A.jsxs("div",{className:"p-3 bg-red-900/50 border-l-4 border-red-500 rounded-lg flex items-start space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),A.jsx("span",{className:"text-red-200 font-medium",children:b})]}),A.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-xl transition shadow-md disabled:opacity-70 disabled:cursor-not-allowed",children:v?A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),A.jsxs("div",{className:"text-center text-sm text-gray-400 mt-4",children:["Don't have an account?"," ",A.jsx(Hu,{to:"/register",className:"text-blue-400 hover:text-blue-300 hover:underline font-semibold",children:"Register"})]})]})})}const Vv="https://varda-loyalty-reward-system.onrender.com";function zv(){const[r,s]=U.useState(""),[l,f]=U.useState(""),[m,x]=U.useState(""),[b,T]=U.useState(""),[v,y]=U.useState(!1),[C,N]=U.useState(!1),[_,P]=U.useState(""),[L,H]=U.useState(!1),[V,Y]=U.useState(!1),[Q,G]=U.useState(!1),[oe,$]=U.useState(""),[pe,ae]=U.useState(!1),{login:ve}=vo(),ue=Aa(),Je=Fe=>{const K=Fe.target.value;(K===""||/^\d+$/.test(K))&&(P(K),$(""))},Ye=()=>r.trim()?l.trim()?_.trim()?m?b?m!==b?($("Passwords do not match"),!1):L?!0:($("Please accept the terms and conditions to continue"),!1):($("Please confirm your password"),!1):($("Please enter a password"),!1):($("Please enter your ID Number"),!1):($("Please enter your Last Name"),!1):($("Please enter your First Name"),!1),Be=async Fe=>{var K,ee,ie;if(Fe.preventDefault(),$(""),!!Ye())try{const Me={firstName:r,lastName:l,password:m,idNumber:_,termsAccepted:!0};console.log("Sending registration data:",Me);const{data:je}=await gt.post(`${Vv}/api/auth/register`,Me);if(console.log("Registration response:",je),!je.firstName||!je.lastName){console.error("Missing firstName or lastName in response:",je),$("Registration failed: Missing user data");return}ve(je),je.role==="cashier"?ue("/cashier"):ue("/student")}catch(Me){console.error("Registration error:",(K=Me.response)==null?void 0:K.data),$(((ie=(ee=Me.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Registration failed")}},_e=({isOpen:Fe,onClose:K,title:ee,children:ie})=>Fe?A.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:ee}),A.jsx("button",{onClick:K,className:"text-gray-500 hover:text-gray-700",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"p-6 overflow-y-auto",children:A.jsx("div",{className:"prose prose-green max-w-none",children:ie})}),A.jsx("div",{className:"p-6 border-t bg-gray-50",children:A.jsx("button",{onClick:K,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-xl transition",children:"Close"})})]})}):null;return A.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0f172a] to-[#1e293b] p-4",children:[A.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-[#1e293b] to-[#334155] rounded-3xl shadow-xl p-8 space-y-6 border border-gray-700/50",children:[A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("img",{src:bp,alt:"2Gonz Logo",className:"w-32 h-32 object-contain mb-4"}),A.jsx("h1",{className:"text-3xl font-bold text-center text-white",children:"Create Account "})]}),A.jsxs("form",{onSubmit:Be,className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"First Name"}),A.jsx("input",{className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter your first name",value:r,onChange:Fe=>{s(Fe.target.value),$("")},required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"Last Name"}),A.jsx("input",{className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter your last name",value:l,onChange:Fe=>{f(Fe.target.value),$("")},required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"ID Number"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter your ID Number",value:_,onChange:Je,required:!0,minLength:4})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:v?"text":"password",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Enter password",value:m,onChange:Fe=>{x(Fe.target.value),$("")},required:!0}),A.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",children:v?A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),A.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),A.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-200",children:"Confirm Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:C?"text":"password",className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition text-white placeholder-gray-400",placeholder:"Confirm password",value:b,onChange:Fe=>{T(Fe.target.value),$("")},required:!0}),A.jsx("button",{type:"button",onClick:()=>N(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",children:C?A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),A.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[A.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),A.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",id:"terms",checked:L,onChange:Fe=>H(Fe.target.checked),className:"w-4 h-4 text-blue-500 border-gray-600 rounded focus:ring-blue-500 bg-gray-700"}),A.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300",children:["I accept the"," ",A.jsx("button",{type:"button",onClick:()=>Y(!0),className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Terms and Conditions"})," ","and"," ",A.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Privacy Policy"})]})]}),oe&&A.jsxs("div",{className:"p-3 bg-red-900/50 border-l-4 border-red-500 rounded-lg flex items-start space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),A.jsx("span",{className:"text-red-200 font-medium",children:oe})]}),A.jsx("button",{type:"submit",disabled:pe,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-xl transition shadow-md disabled:opacity-70 disabled:cursor-not-allowed",children:pe?A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Registering..."]}):"Register"})]}),A.jsxs("div",{className:"text-center text-sm text-gray-400 mt-4",children:["Already have an account?"," ",A.jsx(Hu,{to:"/login",className:"text-blue-400 hover:text-blue-300 hover:underline font-semibold",children:"Login"})]})]}),A.jsxs(_e,{isOpen:V,onClose:()=>Y(!1),title:"Terms and Conditions",children:[A.jsx("h2",{children:"1. Acceptance of Terms"}),A.jsx("p",{children:"By accessing and using the Webiste, you agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our service."}),A.jsx("h2",{children:"2. User Account"}),A.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to notify us immediately of any unauthorized use of your account."}),A.jsx("h2",{children:"3. Points System"}),A.jsx("p",{children:"Points earned through the loyalty program are subject to the following conditions:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Points are non-transferable and cannot be exchanged for cash"}),A.jsx("li",{children:"Points may expire according to the program rules"}),A.jsx("li",{children:"We reserve the right to modify the points system at any time"})]}),A.jsx("h2",{children:"4. Code Usage"}),A.jsx("p",{children:"Reward codes are:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Single-use only"}),A.jsx("li",{children:"Non-transferable"}),A.jsx("li",{children:"Subject to verification"}),A.jsx("li",{children:"Must be used within the specified validity period"})]}),A.jsx("h2",{children:"5. Prohibited Activities"}),A.jsx("p",{children:"Users are prohibited from:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Sharing account credentials"}),A.jsx("li",{children:"Attempting to manipulate the points system"}),A.jsx("li",{children:"Using automated systems to access the service"}),A.jsx("li",{children:"Engaging in any fraudulent activities"})]}),A.jsx("h2",{children:"6. Termination"}),A.jsx("p",{children:"We reserve the right to terminate or suspend your account if you violate these terms or engage in fraudulent activities."}),A.jsx("h2",{children:"7. Changes to Terms"}),A.jsx("p",{children:"We may modify these terms at any time. Continued use of the service after changes constitutes acceptance of the modified terms."}),A.jsx("h2",{children:"8. Contact"}),A.jsx("p",{children:"For questions about these terms, please contact our support team."})]}),A.jsxs(_e,{isOpen:Q,onClose:()=>G(!1),title:"Privacy Policy",children:[A.jsx("h2",{children:"1. Information We Collect"}),A.jsx("p",{children:"We collect the following types of information:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Account information (username, First Name, Last Name, ID Number, password)"}),A.jsx("li",{children:"Points and reward history"}),A.jsx("li",{children:"Usage data and interactions with the system"})]}),A.jsx("h2",{children:"2. How We Use Your Information"}),A.jsx("p",{children:"We use your information to:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Provide and maintain the loyalty reward system"}),A.jsx("li",{children:"Process your points and rewards"}),A.jsx("li",{children:"Send you important updates about the system"}),A.jsx("li",{children:"Improve our services"}),A.jsx("li",{children:"Personalize your experience using your name"})]}),A.jsx("h2",{children:"3. Data Security"}),A.jsx("p",{children:"We implement appropriate security measures to protect your personal information:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Encryption of sensitive data"}),A.jsx("li",{children:"Secure password storage"}),A.jsx("li",{children:"Regular security assessments"}),A.jsx("li",{children:"Access controls and authentication"})]}),A.jsx("h2",{children:"4. Data Sharing"}),A.jsx("p",{children:"We do not sell or share your personal information with third parties except:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"When required by law"}),A.jsx("li",{children:"To protect our rights and safety"}),A.jsx("li",{children:"With your explicit consent"})]}),A.jsx("h2",{children:"5. Your Rights"}),A.jsx("p",{children:"You have the right to:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Access your personal information"}),A.jsx("li",{children:"Correct inaccurate data"}),A.jsx("li",{children:"Request deletion of your account"}),A.jsx("li",{children:"Opt-out of communications"})]}),A.jsx("h2",{children:"6. Cookies and Tracking"}),A.jsx("p",{children:"We use cookies and similar technologies to:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"Maintain your session"}),A.jsx("li",{children:"Remember your preferences"}),A.jsx("li",{children:"Analyze system usage"})]}),A.jsx("h2",{children:"7. Changes to Privacy Policy"}),A.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page."}),A.jsx("h2",{children:"8. Contact Us"}),A.jsx("p",{children:"If you have questions about this privacy policy, please contact our support team."})]})]})}function Hv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}))}const cu=U.forwardRef(Hv);function Gv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"}))}const uu=U.forwardRef(Gv);function Xv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}))}const ox=U.forwardRef(Xv);function Yv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}const qv=U.forwardRef(Yv);function Wv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}))}const Zv=U.forwardRef(Wv);function Kv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}const Qv=U.forwardRef(Kv);function Jv(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"}))}const Cd=U.forwardRef(Jv);function $v(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}const eE=U.forwardRef($v);function tE(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"}))}const ed=U.forwardRef(tE);function nE(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))}const vp=U.forwardRef(nE);function rE(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"}))}const iE=U.forwardRef(rE);function sE(r,s){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},r),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"}))}const aE=U.forwardRef(sE),sh=U.createContext({});function ah(r){const s=U.useRef(null);return s.current===null&&(s.current=r()),s.current}const oh=typeof window<"u",Ep=oh?U.useLayoutEffect:U.useEffect,Gu=U.createContext(null),lh=U.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class oE extends U.Component{getSnapshotBeforeUpdate(s){const l=this.props.childRef.current;if(l&&s.isPresent&&!this.props.isPresent){const f=l.offsetParent,m=f instanceof HTMLElement&&f.offsetWidth||0,x=this.props.sizeRef.current;x.height=l.offsetHeight||0,x.width=l.offsetWidth||0,x.top=l.offsetTop,x.left=l.offsetLeft,x.right=m-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lE({children:r,isPresent:s,anchorX:l}){const f=U.useId(),m=U.useRef(null),x=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:b}=U.useContext(lh);return U.useInsertionEffect(()=>{const{width:T,height:v,top:y,left:C,right:N}=x.current;if(s||!m.current||!T||!v)return;const _=l==="left"?`left: ${C}`:`right: ${N}`;m.current.dataset.motionPopId=f;const P=document.createElement("style");return b&&(P.nonce=b),document.head.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${f}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${v}px !important;
            ${_}px !important;
            top: ${y}px !important;
          }
        `),()=>{document.head.removeChild(P)}},[s]),A.jsx(oE,{isPresent:s,childRef:m,sizeRef:x,children:U.cloneElement(r,{ref:m})})}const cE=({children:r,initial:s,isPresent:l,onExitComplete:f,custom:m,presenceAffectsLayout:x,mode:b,anchorX:T})=>{const v=ah(uE),y=U.useId();let C=!0,N=U.useMemo(()=>(C=!1,{id:y,initial:s,isPresent:l,custom:m,onExitComplete:_=>{v.set(_,!0);for(const P of v.values())if(!P)return;f&&f()},register:_=>(v.set(_,!1),()=>v.delete(_))}),[l,v,f]);return x&&C&&(N={...N}),U.useMemo(()=>{v.forEach((_,P)=>v.set(P,!1))},[l]),U.useEffect(()=>{!l&&!v.size&&f&&f()},[l]),b==="popLayout"&&(r=A.jsx(lE,{isPresent:l,anchorX:T,children:r})),A.jsx(Gu.Provider,{value:N,children:r})};function uE(){return new Map}function Ap(r=!0){const s=U.useContext(Gu);if(s===null)return[!0,null];const{isPresent:l,onExitComplete:f,register:m}=s,x=U.useId();U.useEffect(()=>{if(r)return m(x)},[r]);const b=U.useCallback(()=>r&&f&&f(x),[x,f,r]);return!l&&f?[!1,b]:[!0]}const fu=r=>r.key||"";function lx(r){const s=[];return U.Children.forEach(r,l=>{U.isValidElement(l)&&s.push(l)}),s}const fE=({children:r,custom:s,initial:l=!0,onExitComplete:f,presenceAffectsLayout:m=!0,mode:x="sync",propagate:b=!1,anchorX:T="left"})=>{const[v,y]=Ap(b),C=U.useMemo(()=>lx(r),[r]),N=b&&!v?[]:C.map(fu),_=U.useRef(!0),P=U.useRef(C),L=ah(()=>new Map),[H,V]=U.useState(C),[Y,Q]=U.useState(C);Ep(()=>{_.current=!1,P.current=C;for(let $=0;$<Y.length;$++){const pe=fu(Y[$]);N.includes(pe)?L.delete(pe):L.get(pe)!==!0&&L.set(pe,!1)}},[Y,N.length,N.join("-")]);const G=[];if(C!==H){let $=[...C];for(let pe=0;pe<Y.length;pe++){const ae=Y[pe],ve=fu(ae);N.includes(ve)||($.splice(pe,0,ae),G.push(ae))}return x==="wait"&&G.length&&($=G),Q(lx($)),V(C),null}const{forceRender:oe}=U.useContext(sh);return A.jsx(A.Fragment,{children:Y.map($=>{const pe=fu($),ae=b&&!v?!1:C===Y||N.includes(pe),ve=()=>{if(L.has(pe))L.set(pe,!0);else return;let ue=!0;L.forEach(Je=>{Je||(ue=!1)}),ue&&(oe==null||oe(),Q(P.current),b&&(y==null||y()),f&&f())};return A.jsx(cE,{isPresent:ae,initial:!_.current||l?void 0:!1,custom:s,presenceAffectsLayout:m,mode:x,onExitComplete:ae?void 0:ve,anchorX:T,children:$},pe)})})};function ch(r,s){r.indexOf(s)===-1&&r.push(s)}function uh(r,s){const l=r.indexOf(s);l>-1&&r.splice(l,1)}const ns=(r,s,l)=>l>s?s:l<r?r:l;let fh=()=>{};const rs={},Cp=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),Sp=r=>/^0[^.\s]+$/u.test(r);function dh(r){let s;return()=>(s===void 0&&(s=r()),s)}const Yr=r=>r,dE=(r,s)=>l=>s(r(l)),ql=(...r)=>r.reduce(dE),Ll=(r,s,l)=>{const f=s-r;return f===0?1:(l-r)/f};class hh{constructor(){this.subscriptions=[]}add(s){return ch(this.subscriptions,s),()=>uh(this.subscriptions,s)}notify(s,l,f){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](s,l,f);else for(let x=0;x<m;x++){const b=this.subscriptions[x];b&&b(s,l,f)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ri=r=>r*1e3,Oi=r=>r/1e3;function Tp(r,s){return s?r*(1e3/s):0}const Np=(r,s,l)=>(((1-3*l+3*s)*r+(3*l-6*s))*r+3*s)*r,hE=1e-7,mE=12;function gE(r,s,l,f,m){let x,b,T=0;do b=s+(l-s)/2,x=Np(b,f,m)-r,x>0?l=b:s=b;while(Math.abs(x)>hE&&++T<mE);return b}function Wl(r,s,l,f){if(r===s&&l===f)return Yr;const m=x=>gE(x,0,1,r,l);return x=>x===0||x===1?x:Np(m(x),s,f)}const Rp=r=>s=>s<=.5?r(2*s)/2:(2-r(2*(1-s)))/2,Op=r=>s=>1-r(1-s),Mp=Wl(.33,1.53,.69,.99),mh=Op(Mp),Dp=Rp(mh),_p=r=>(r*=2)<1?.5*mh(r):.5*(2-Math.pow(2,-10*(r-1))),gh=r=>1-Math.sin(Math.acos(r)),Ip=Op(gh),Bp=Rp(gh),xE=Wl(.42,0,1,1),pE=Wl(0,0,.58,1),Lp=Wl(.42,0,.58,1),yE=r=>Array.isArray(r)&&typeof r[0]!="number",jp=r=>Array.isArray(r)&&typeof r[0]=="number",wE={linear:Yr,easeIn:xE,easeInOut:Lp,easeOut:pE,circIn:gh,circInOut:Bp,circOut:Ip,backIn:mh,backInOut:Dp,backOut:Mp,anticipate:_p},bE=r=>typeof r=="string",cx=r=>{if(jp(r)){fh(r.length===4);const[s,l,f,m]=r;return Wl(s,l,f,m)}else if(bE(r))return wE[r];return r},du=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ux={value:null};function vE(r,s){let l=new Set,f=new Set,m=!1,x=!1;const b=new WeakSet;let T={delta:0,timestamp:0,isProcessing:!1},v=0;function y(N){b.has(N)&&(C.schedule(N),r()),v++,N(T)}const C={schedule:(N,_=!1,P=!1)=>{const H=P&&m?l:f;return _&&b.add(N),H.has(N)||H.add(N),N},cancel:N=>{f.delete(N),b.delete(N)},process:N=>{if(T=N,m){x=!0;return}m=!0,[l,f]=[f,l],l.forEach(y),s&&ux.value&&ux.value.frameloop[s].push(v),v=0,l.clear(),m=!1,x&&(x=!1,C.process(N))}};return C}const EE=40;function Pp(r,s){let l=!1,f=!0;const m={delta:0,timestamp:0,isProcessing:!1},x=()=>l=!0,b=du.reduce((G,oe)=>(G[oe]=vE(x,s?oe:void 0),G),{}),{setup:T,read:v,resolveKeyframes:y,preUpdate:C,update:N,preRender:_,render:P,postRender:L}=b,H=()=>{const G=rs.useManualTiming?m.timestamp:performance.now();l=!1,rs.useManualTiming||(m.delta=f?1e3/60:Math.max(Math.min(G-m.timestamp,EE),1)),m.timestamp=G,m.isProcessing=!0,T.process(m),v.process(m),y.process(m),C.process(m),N.process(m),_.process(m),P.process(m),L.process(m),m.isProcessing=!1,l&&s&&(f=!1,r(H))},V=()=>{l=!0,f=!0,m.isProcessing||r(H)};return{schedule:du.reduce((G,oe)=>{const $=b[oe];return G[oe]=(pe,ae=!1,ve=!1)=>(l||V(),$.schedule(pe,ae,ve)),G},{}),cancel:G=>{for(let oe=0;oe<du.length;oe++)b[du[oe]].cancel(G)},state:m,steps:b}}const{schedule:un,cancel:ks,state:$n,steps:td}=Pp(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yr,!0);let bu;function AE(){bu=void 0}const vr={now:()=>(bu===void 0&&vr.set($n.isProcessing||rs.useManualTiming?$n.timestamp:performance.now()),bu),set:r=>{bu=r,queueMicrotask(AE)}},kp=r=>s=>typeof s=="string"&&s.startsWith(r),xh=kp("--"),CE=kp("var(--"),ph=r=>CE(r)?SE.test(r.split("/*")[0].trim()):!1,SE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Co={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},jl={...Co,transform:r=>ns(0,1,r)},hu={...Co,default:1},Rl=r=>Math.round(r*1e5)/1e5,yh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TE(r){return r==null}const NE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wh=(r,s)=>l=>!!(typeof l=="string"&&NE.test(l)&&l.startsWith(r)||s&&!TE(l)&&Object.prototype.hasOwnProperty.call(l,s)),Fp=(r,s,l)=>f=>{if(typeof f!="string")return f;const[m,x,b,T]=f.match(yh);return{[r]:parseFloat(m),[s]:parseFloat(x),[l]:parseFloat(b),alpha:T!==void 0?parseFloat(T):1}},RE=r=>ns(0,255,r),nd={...Co,transform:r=>Math.round(RE(r))},xa={test:wh("rgb","red"),parse:Fp("red","green","blue"),transform:({red:r,green:s,blue:l,alpha:f=1})=>"rgba("+nd.transform(r)+", "+nd.transform(s)+", "+nd.transform(l)+", "+Rl(jl.transform(f))+")"};function OE(r){let s="",l="",f="",m="";return r.length>5?(s=r.substring(1,3),l=r.substring(3,5),f=r.substring(5,7),m=r.substring(7,9)):(s=r.substring(1,2),l=r.substring(2,3),f=r.substring(3,4),m=r.substring(4,5),s+=s,l+=l,f+=f,m+=m),{red:parseInt(s,16),green:parseInt(l,16),blue:parseInt(f,16),alpha:m?parseInt(m,16)/255:1}}const Sd={test:wh("#"),parse:OE,transform:xa.transform},Zl=r=>({test:s=>typeof s=="string"&&s.endsWith(r)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${r}`}),Ps=Zl("deg"),Mi=Zl("%"),st=Zl("px"),ME=Zl("vh"),DE=Zl("vw"),fx={...Mi,parse:r=>Mi.parse(r)/100,transform:r=>Mi.transform(r*100)},co={test:wh("hsl","hue"),parse:Fp("hue","saturation","lightness"),transform:({hue:r,saturation:s,lightness:l,alpha:f=1})=>"hsla("+Math.round(r)+", "+Mi.transform(Rl(s))+", "+Mi.transform(Rl(l))+", "+Rl(jl.transform(f))+")"},or={test:r=>xa.test(r)||Sd.test(r)||co.test(r),parse:r=>xa.test(r)?xa.parse(r):co.test(r)?co.parse(r):Sd.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?xa.transform(r):co.transform(r)},_E=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IE(r){var s,l;return isNaN(r)&&typeof r=="string"&&(((s=r.match(yh))==null?void 0:s.length)||0)+(((l=r.match(_E))==null?void 0:l.length)||0)>0}const Up="number",Vp="color",BE="var",LE="var(",dx="${}",jE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pl(r){const s=r.toString(),l=[],f={color:[],number:[],var:[]},m=[];let x=0;const T=s.replace(jE,v=>(or.test(v)?(f.color.push(x),m.push(Vp),l.push(or.parse(v))):v.startsWith(LE)?(f.var.push(x),m.push(BE),l.push(v)):(f.number.push(x),m.push(Up),l.push(parseFloat(v))),++x,dx)).split(dx);return{values:l,split:T,indexes:f,types:m}}function zp(r){return Pl(r).values}function Hp(r){const{split:s,types:l}=Pl(r),f=s.length;return m=>{let x="";for(let b=0;b<f;b++)if(x+=s[b],m[b]!==void 0){const T=l[b];T===Up?x+=Rl(m[b]):T===Vp?x+=or.transform(m[b]):x+=m[b]}return x}}const PE=r=>typeof r=="number"?0:r;function kE(r){const s=zp(r);return Hp(r)(s.map(PE))}const Fs={test:IE,parse:zp,createTransformer:Hp,getAnimatableNone:kE};function rd(r,s,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?r+(s-r)*6*l:l<1/2?s:l<2/3?r+(s-r)*(2/3-l)*6:r}function FE({hue:r,saturation:s,lightness:l,alpha:f}){r/=360,s/=100,l/=100;let m=0,x=0,b=0;if(!s)m=x=b=l;else{const T=l<.5?l*(1+s):l+s-l*s,v=2*l-T;m=rd(v,T,r+1/3),x=rd(v,T,r),b=rd(v,T,r-1/3)}return{red:Math.round(m*255),green:Math.round(x*255),blue:Math.round(b*255),alpha:f}}function Tu(r,s){return l=>l>0?s:r}const cn=(r,s,l)=>r+(s-r)*l,id=(r,s,l)=>{const f=r*r,m=l*(s*s-f)+f;return m<0?0:Math.sqrt(m)},UE=[Sd,xa,co],VE=r=>UE.find(s=>s.test(r));function hx(r){const s=VE(r);if(!s)return!1;let l=s.parse(r);return s===co&&(l=FE(l)),l}const mx=(r,s)=>{const l=hx(r),f=hx(s);if(!l||!f)return Tu(r,s);const m={...l};return x=>(m.red=id(l.red,f.red,x),m.green=id(l.green,f.green,x),m.blue=id(l.blue,f.blue,x),m.alpha=cn(l.alpha,f.alpha,x),xa.transform(m))},Td=new Set(["none","hidden"]);function zE(r,s){return Td.has(r)?l=>l<=0?r:s:l=>l>=1?s:r}function HE(r,s){return l=>cn(r,s,l)}function bh(r){return typeof r=="number"?HE:typeof r=="string"?ph(r)?Tu:or.test(r)?mx:YE:Array.isArray(r)?Gp:typeof r=="object"?or.test(r)?mx:GE:Tu}function Gp(r,s){const l=[...r],f=l.length,m=r.map((x,b)=>bh(x)(x,s[b]));return x=>{for(let b=0;b<f;b++)l[b]=m[b](x);return l}}function GE(r,s){const l={...r,...s},f={};for(const m in l)r[m]!==void 0&&s[m]!==void 0&&(f[m]=bh(r[m])(r[m],s[m]));return m=>{for(const x in f)l[x]=f[x](m);return l}}function XE(r,s){const l=[],f={color:0,var:0,number:0};for(let m=0;m<s.values.length;m++){const x=s.types[m],b=r.indexes[x][f[x]],T=r.values[b]??0;l[m]=T,f[x]++}return l}const YE=(r,s)=>{const l=Fs.createTransformer(s),f=Pl(r),m=Pl(s);return f.indexes.var.length===m.indexes.var.length&&f.indexes.color.length===m.indexes.color.length&&f.indexes.number.length>=m.indexes.number.length?Td.has(r)&&!m.values.length||Td.has(s)&&!f.values.length?zE(r,s):ql(Gp(XE(f,m),m.values),l):Tu(r,s)};function Xp(r,s,l){return typeof r=="number"&&typeof s=="number"&&typeof l=="number"?cn(r,s,l):bh(r)(r,s)}const qE=r=>{const s=({timestamp:l})=>r(l);return{start:()=>un.update(s,!0),stop:()=>ks(s),now:()=>$n.isProcessing?$n.timestamp:vr.now()}},Yp=(r,s,l=10)=>{let f="";const m=Math.max(Math.round(s/l),2);for(let x=0;x<m;x++)f+=r(x/(m-1))+", ";return`linear(${f.substring(0,f.length-2)})`},Nu=2e4;function vh(r){let s=0;const l=50;let f=r.next(s);for(;!f.done&&s<Nu;)s+=l,f=r.next(s);return s>=Nu?1/0:s}function WE(r,s=100,l){const f=l({...r,keyframes:[0,s]}),m=Math.min(vh(f),Nu);return{type:"keyframes",ease:x=>f.next(m*x).value/s,duration:Oi(m)}}const ZE=5;function qp(r,s,l){const f=Math.max(s-ZE,0);return Tp(l-r(f),s-f)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gx=.001;function KE({duration:r=yn.duration,bounce:s=yn.bounce,velocity:l=yn.velocity,mass:f=yn.mass}){let m,x,b=1-s;b=ns(yn.minDamping,yn.maxDamping,b),r=ns(yn.minDuration,yn.maxDuration,Oi(r)),b<1?(m=y=>{const C=y*b,N=C*r,_=C-l,P=Nd(y,b),L=Math.exp(-N);return gx-_/P*L},x=y=>{const N=y*b*r,_=N*l+l,P=Math.pow(b,2)*Math.pow(y,2)*r,L=Math.exp(-N),H=Nd(Math.pow(y,2),b);return(-m(y)+gx>0?-1:1)*((_-P)*L)/H}):(m=y=>{const C=Math.exp(-y*r),N=(y-l)*r+1;return-.001+C*N},x=y=>{const C=Math.exp(-y*r),N=(l-y)*(r*r);return C*N});const T=5/r,v=JE(m,x,T);if(r=Ri(r),isNaN(v))return{stiffness:yn.stiffness,damping:yn.damping,duration:r};{const y=Math.pow(v,2)*f;return{stiffness:y,damping:b*2*Math.sqrt(f*y),duration:r}}}const QE=12;function JE(r,s,l){let f=l;for(let m=1;m<QE;m++)f=f-r(f)/s(f);return f}function Nd(r,s){return r*Math.sqrt(1-s*s)}const $E=["duration","bounce"],eA=["stiffness","damping","mass"];function xx(r,s){return s.some(l=>r[l]!==void 0)}function tA(r){let s={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...r};if(!xx(r,eA)&&xx(r,$E))if(r.visualDuration){const l=r.visualDuration,f=2*Math.PI/(l*1.2),m=f*f,x=2*ns(.05,1,1-(r.bounce||0))*Math.sqrt(m);s={...s,mass:yn.mass,stiffness:m,damping:x}}else{const l=KE(r);s={...s,...l,mass:yn.mass},s.isResolvedFromDuration=!0}return s}function Ru(r=yn.visualDuration,s=yn.bounce){const l=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:s}:r;let{restSpeed:f,restDelta:m}=l;const x=l.keyframes[0],b=l.keyframes[l.keyframes.length-1],T={done:!1,value:x},{stiffness:v,damping:y,mass:C,duration:N,velocity:_,isResolvedFromDuration:P}=tA({...l,velocity:-Oi(l.velocity||0)}),L=_||0,H=y/(2*Math.sqrt(v*C)),V=b-x,Y=Oi(Math.sqrt(v/C)),Q=Math.abs(V)<5;f||(f=Q?yn.restSpeed.granular:yn.restSpeed.default),m||(m=Q?yn.restDelta.granular:yn.restDelta.default);let G;if(H<1){const $=Nd(Y,H);G=pe=>{const ae=Math.exp(-H*Y*pe);return b-ae*((L+H*Y*V)/$*Math.sin($*pe)+V*Math.cos($*pe))}}else if(H===1)G=$=>b-Math.exp(-Y*$)*(V+(L+Y*V)*$);else{const $=Y*Math.sqrt(H*H-1);G=pe=>{const ae=Math.exp(-H*Y*pe),ve=Math.min($*pe,300);return b-ae*((L+H*Y*V)*Math.sinh(ve)+$*V*Math.cosh(ve))/$}}const oe={calculatedDuration:P&&N||null,next:$=>{const pe=G($);if(P)T.done=$>=N;else{let ae=$===0?L:0;H<1&&(ae=$===0?Ri(L):qp(G,$,pe));const ve=Math.abs(ae)<=f,ue=Math.abs(b-pe)<=m;T.done=ve&&ue}return T.value=T.done?b:pe,T},toString:()=>{const $=Math.min(vh(oe),Nu),pe=Yp(ae=>oe.next($*ae).value,$,30);return $+"ms "+pe},toTransition:()=>{}};return oe}Ru.applyToOptions=r=>{const s=WE(r,100,Ru);return r.ease=s.ease,r.duration=Ri(s.duration),r.type="keyframes",r};function Rd({keyframes:r,velocity:s=0,power:l=.8,timeConstant:f=325,bounceDamping:m=10,bounceStiffness:x=500,modifyTarget:b,min:T,max:v,restDelta:y=.5,restSpeed:C}){const N=r[0],_={done:!1,value:N},P=ve=>T!==void 0&&ve<T||v!==void 0&&ve>v,L=ve=>T===void 0?v:v===void 0||Math.abs(T-ve)<Math.abs(v-ve)?T:v;let H=l*s;const V=N+H,Y=b===void 0?V:b(V);Y!==V&&(H=Y-N);const Q=ve=>-H*Math.exp(-ve/f),G=ve=>Y+Q(ve),oe=ve=>{const ue=Q(ve),Je=G(ve);_.done=Math.abs(ue)<=y,_.value=_.done?Y:Je};let $,pe;const ae=ve=>{P(_.value)&&($=ve,pe=Ru({keyframes:[_.value,L(_.value)],velocity:qp(G,ve,_.value),damping:m,stiffness:x,restDelta:y,restSpeed:C}))};return ae(0),{calculatedDuration:null,next:ve=>{let ue=!1;return!pe&&$===void 0&&(ue=!0,oe(ve),ae(ve)),$!==void 0&&ve>=$?pe.next(ve-$):(!ue&&oe(ve),_)}}}function nA(r,s,l){const f=[],m=l||rs.mix||Xp,x=r.length-1;for(let b=0;b<x;b++){let T=m(r[b],r[b+1]);if(s){const v=Array.isArray(s)?s[b]||Yr:s;T=ql(v,T)}f.push(T)}return f}function rA(r,s,{clamp:l=!0,ease:f,mixer:m}={}){const x=r.length;if(fh(x===s.length),x===1)return()=>s[0];if(x===2&&s[0]===s[1])return()=>s[1];const b=r[0]===r[1];r[0]>r[x-1]&&(r=[...r].reverse(),s=[...s].reverse());const T=nA(s,f,m),v=T.length,y=C=>{if(b&&C<r[0])return s[0];let N=0;if(v>1)for(;N<r.length-2&&!(C<r[N+1]);N++);const _=Ll(r[N],r[N+1],C);return T[N](_)};return l?C=>y(ns(r[0],r[x-1],C)):y}function iA(r,s){const l=r[r.length-1];for(let f=1;f<=s;f++){const m=Ll(0,s,f);r.push(cn(l,1,m))}}function sA(r){const s=[0];return iA(s,r.length-1),s}function aA(r,s){return r.map(l=>l*s)}function oA(r,s){return r.map(()=>s||Lp).splice(0,r.length-1)}function Ol({duration:r=300,keyframes:s,times:l,ease:f="easeInOut"}){const m=yE(f)?f.map(cx):cx(f),x={done:!1,value:s[0]},b=aA(l&&l.length===s.length?l:sA(s),r),T=rA(b,s,{ease:Array.isArray(m)?m:oA(s,m)});return{calculatedDuration:r,next:v=>(x.value=T(v),x.done=v>=r,x)}}const lA=r=>r!==null;function Eh(r,{repeat:s,repeatType:l="loop"},f,m=1){const x=r.filter(lA),T=m<0||s&&l!=="loop"&&s%2===1?0:x.length-1;return!T||f===void 0?x[T]:f}const cA={decay:Rd,inertia:Rd,tween:Ol,keyframes:Ol,spring:Ru};function Wp(r){typeof r.type=="string"&&(r.type=cA[r.type])}class Ah{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,l){return this.finished.then(s,l)}}const uA=r=>r/100;class Zp extends Ah{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;if(l&&l.updatedAt!==vr.now()&&this.tick(vr.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Wp(s);const{type:l=Ol,repeat:f=0,repeatDelay:m=0,repeatType:x,velocity:b=0}=s;let{keyframes:T}=s;const v=l||Ol;v!==Ol&&typeof T[0]!="number"&&(this.mixKeyframes=ql(uA,Xp(T[0],T[1])),T=[0,100]);const y=v({...s,keyframes:T});x==="mirror"&&(this.mirroredGenerator=v({...s,keyframes:[...T].reverse(),velocity:-b})),y.calculatedDuration===null&&(y.calculatedDuration=vh(y));const{calculatedDuration:C}=y;this.calculatedDuration=C,this.resolvedDuration=C+m,this.totalDuration=this.resolvedDuration*(f+1)-m,this.generator=y}updateTime(s){const l=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(s,l=!1){const{generator:f,totalDuration:m,mixKeyframes:x,mirroredGenerator:b,resolvedDuration:T,calculatedDuration:v}=this;if(this.startTime===null)return f.next(0);const{delay:y=0,keyframes:C,repeat:N,repeatType:_,repeatDelay:P,type:L,onUpdate:H,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-m/this.speed,this.startTime)),l?this.currentTime=s:this.updateTime(s);const Y=this.currentTime-y*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?Y<0:Y>m;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let G=this.currentTime,oe=f;if(N){const ve=Math.min(this.currentTime,m)/T;let ue=Math.floor(ve),Je=ve%1;!Je&&ve>=1&&(Je=1),Je===1&&ue--,ue=Math.min(ue,N+1),!!(ue%2)&&(_==="reverse"?(Je=1-Je,P&&(Je-=P/T)):_==="mirror"&&(oe=b)),G=ns(0,1,Je)*T}const $=Q?{done:!1,value:C[0]}:oe.next(G);x&&($.value=x($.value));let{done:pe}=$;!Q&&v!==null&&(pe=this.playbackSpeed>=0?this.currentTime>=m:this.currentTime<=0);const ae=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&pe);return ae&&L!==Rd&&($.value=Eh(C,this.options,V,this.speed)),H&&H($.value),ae&&this.finish(),$}then(s,l){return this.finished.then(s,l)}get duration(){return Oi(this.calculatedDuration)}get time(){return Oi(this.currentTime)}set time(s){s=Ri(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(vr.now());const l=this.playbackSpeed!==s;this.playbackSpeed=s,l&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=qE,onPlay:l,startTime:f}=this.options;this.driver||(this.driver=s(x=>this.tick(x))),l&&l();const m=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=m):this.holdTime!==null?this.startTime=m-this.holdTime:this.startTime||(this.startTime=f??m),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),s.observe(this)}}function fA(r){for(let s=1;s<r.length;s++)r[s]??(r[s]=r[s-1])}const pa=r=>r*180/Math.PI,Od=r=>{const s=pa(Math.atan2(r[1],r[0]));return Md(s)},dA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Od,rotateZ:Od,skewX:r=>pa(Math.atan(r[1])),skewY:r=>pa(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Md=r=>(r=r%360,r<0&&(r+=360),r),px=Od,yx=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),wx=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),hA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yx,scaleY:wx,scale:r=>(yx(r)+wx(r))/2,rotateX:r=>Md(pa(Math.atan2(r[6],r[5]))),rotateY:r=>Md(pa(Math.atan2(-r[2],r[0]))),rotateZ:px,rotate:px,skewX:r=>pa(Math.atan(r[4])),skewY:r=>pa(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function bx(r){return r.includes("scale")?1:0}function Dd(r,s){if(!r||r==="none")return bx(s);const l=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let f,m;if(l)f=hA,m=l;else{const T=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);f=dA,m=T}if(!m)return bx(s);const x=f[s],b=m[1].split(",").map(gA);return typeof x=="function"?x(b):b[x]}const mA=(r,s)=>{const{transform:l="none"}=getComputedStyle(r);return Dd(l,s)};function gA(r){return parseFloat(r.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(So),vx=r=>r===Co||r===st,xA=new Set(["x","y","z"]),pA=So.filter(r=>!xA.has(r));function yA(r){const s=[];return pA.forEach(l=>{const f=r.getValue(l);f!==void 0&&(s.push([l,f.get()]),f.set(l.startsWith("scale")?1:0))}),s}const po={width:({x:r},{paddingLeft:s="0",paddingRight:l="0"})=>r.max-r.min-parseFloat(s)-parseFloat(l),height:({y:r},{paddingTop:s="0",paddingBottom:l="0"})=>r.max-r.min-parseFloat(s)-parseFloat(l),top:(r,{top:s})=>parseFloat(s),left:(r,{left:s})=>parseFloat(s),bottom:({y:r},{top:s})=>parseFloat(s)+(r.max-r.min),right:({x:r},{left:s})=>parseFloat(s)+(r.max-r.min),x:(r,{transform:s})=>Dd(s,"x"),y:(r,{transform:s})=>Dd(s,"y")};po.translateX=po.x;po.translateY=po.y;const wa=new Set;let _d=!1,Id=!1,Bd=!1;function Kp(){if(Id){const r=Array.from(wa).filter(f=>f.needsMeasurement),s=new Set(r.map(f=>f.element)),l=new Map;s.forEach(f=>{const m=yA(f);m.length&&(l.set(f,m),f.render())}),r.forEach(f=>f.measureInitialState()),s.forEach(f=>{f.render();const m=l.get(f);m&&m.forEach(([x,b])=>{var T;(T=f.getValue(x))==null||T.set(b)})}),r.forEach(f=>f.measureEndState()),r.forEach(f=>{f.suspendedScrollY!==void 0&&window.scrollTo(0,f.suspendedScrollY)})}Id=!1,_d=!1,wa.forEach(r=>r.complete(Bd)),wa.clear()}function Qp(){wa.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Id=!0)})}function wA(){Bd=!0,Qp(),Kp(),Bd=!1}class Ch{constructor(s,l,f,m,x,b=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=l,this.name=f,this.motionValue=m,this.element=x,this.isAsync=b}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wa.add(this),_d||(_d=!0,un.read(Qp),un.resolveKeyframes(Kp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:l,element:f,motionValue:m}=this;if(s[0]===null){const x=m==null?void 0:m.get(),b=s[s.length-1];if(x!==void 0)s[0]=x;else if(f&&l){const T=f.readValue(l,b);T!=null&&(s[0]=T)}s[0]===void 0&&(s[0]=b),m&&x===void 0&&m.set(s[0])}fA(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),wa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bA=r=>r.startsWith("--");function vA(r,s,l){bA(s)?r.style.setProperty(s,l):r.style[s]=l}const EA=dh(()=>window.ScrollTimeline!==void 0),AA={};function CA(r,s){const l=dh(r);return()=>AA[s]??l()}const Jp=CA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sl=([r,s,l,f])=>`cubic-bezier(${r}, ${s}, ${l}, ${f})`,Ex={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function $p(r,s){if(r)return typeof r=="function"?Jp()?Yp(r,s):"ease-out":jp(r)?Sl(r):Array.isArray(r)?r.map(l=>$p(l,s)||Ex.easeOut):Ex[r]}function SA(r,s,l,{delay:f=0,duration:m=300,repeat:x=0,repeatType:b="loop",ease:T="easeOut",times:v}={},y=void 0){const C={[s]:l};v&&(C.offset=v);const N=$p(T,m);Array.isArray(N)&&(C.easing=N);const _={delay:f,duration:m,easing:Array.isArray(N)?"linear":N,fill:"both",iterations:x+1,direction:b==="reverse"?"alternate":"normal"};return y&&(_.pseudoElement=y),r.animate(C,_)}function ey(r){return typeof r=="function"&&"applyToOptions"in r}function TA({type:r,...s}){return ey(r)&&Jp()?r.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class NA extends Ah{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:l,name:f,keyframes:m,pseudoElement:x,allowFlatten:b=!1,finalKeyframe:T,onComplete:v}=s;this.isPseudoElement=!!x,this.allowFlatten=b,this.options=s,fh(typeof s.type!="string");const y=TA(s);this.animation=SA(l,f,m,y,x),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!x){const C=Eh(m,this.options,T,this.speed);this.updateMotionValue?this.updateMotionValue(C):vA(l,f,C),this.animation.cancel()}v==null||v(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,l;(l=(s=this.animation).finish)==null||l.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,l;this.isPseudoElement||(l=(s=this.animation).commitStyles)==null||l.call(s)}get duration(){var l,f;const s=((f=(l=this.animation.effect)==null?void 0:l.getComputedTiming)==null?void 0:f.call(l).duration)||0;return Oi(Number(s))}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ri(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:l}){var f;return this.allowFlatten&&((f=this.animation.effect)==null||f.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&EA()?(this.animation.timeline=s,Yr):l(this)}}const ty={anticipate:_p,backInOut:Dp,circInOut:Bp};function RA(r){return r in ty}function OA(r){typeof r.ease=="string"&&RA(r.ease)&&(r.ease=ty[r.ease])}const Ax=10;class MA extends NA{constructor(s){OA(s),Wp(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:l,onUpdate:f,onComplete:m,element:x,...b}=this.options;if(!l)return;if(s!==void 0){l.set(s);return}const T=new Zp({...b,autoplay:!1}),v=Ri(this.finishedTime??this.time);l.setWithVelocity(T.sample(v-Ax).value,T.sample(v).value,Ax),T.stop()}}const Cx=(r,s)=>s==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Fs.test(r)||r==="0")&&!r.startsWith("url("));function DA(r){const s=r[0];if(r.length===1)return!0;for(let l=0;l<r.length;l++)if(r[l]!==s)return!0}function _A(r,s,l,f){const m=r[0];if(m===null)return!1;if(s==="display"||s==="visibility")return!0;const x=r[r.length-1],b=Cx(m,s),T=Cx(x,s);return!b||!T?!1:DA(r)||(l==="spring"||ey(l))&&f}const IA=new Set(["opacity","clipPath","filter","transform"]),BA=dh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LA(r){const{motionValue:s,name:l,repeatDelay:f,repeatType:m,damping:x,type:b}=r;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:T,transformTemplate:v}=s.owner.getProps();return BA()&&l&&IA.has(l)&&(l!=="transform"||!v)&&!T&&!f&&m!=="mirror"&&x!==0&&b!=="inertia"}const jA=40;class PA extends Ah{constructor({autoplay:s=!0,delay:l=0,type:f="keyframes",repeat:m=0,repeatDelay:x=0,repeatType:b="loop",keyframes:T,name:v,motionValue:y,element:C,...N}){var L;super(),this.stop=()=>{var H,V;this._animation?(this._animation.stop(),(H=this.stopTimeline)==null||H.call(this)):(V=this.keyframeResolver)==null||V.cancel()},this.createdAt=vr.now();const _={autoplay:s,delay:l,type:f,repeat:m,repeatDelay:x,repeatType:b,name:v,motionValue:y,element:C,...N},P=(C==null?void 0:C.KeyframeResolver)||Ch;this.keyframeResolver=new P(T,(H,V,Y)=>this.onKeyframesResolved(H,V,_,!Y),v,y,C),(L=this.keyframeResolver)==null||L.scheduleResolve()}onKeyframesResolved(s,l,f,m){this.keyframeResolver=void 0;const{name:x,type:b,velocity:T,delay:v,isHandoff:y,onUpdate:C}=f;this.resolvedAt=vr.now(),_A(s,x,b,T)||((rs.instantAnimations||!v)&&(C==null||C(Eh(s,f,l))),s[0]=s[s.length-1],f.duration=0,f.repeat=0);const _={startTime:m?this.resolvedAt?this.resolvedAt-this.createdAt>jA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...f,keyframes:s},P=!y&&LA(_)?new MA({..._,element:_.motionValue.owner.current}):new Zp(_);P.finished.then(()=>this.notifyFinished()).catch(Yr),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(s,l){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||wA(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const kA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FA(r){const s=kA.exec(r);if(!s)return[,];const[,l,f,m]=s;return[`--${l??f}`,m]}function ny(r,s,l=1){const[f,m]=FA(r);if(!f)return;const x=window.getComputedStyle(s).getPropertyValue(f);if(x){const b=x.trim();return Cp(b)?parseFloat(b):b}return ph(m)?ny(m,s,l+1):m}function Sh(r,s){return(r==null?void 0:r[s])??(r==null?void 0:r.default)??r}const ry=new Set(["width","height","top","left","right","bottom",...So]),UA={test:r=>r==="auto",parse:r=>r},iy=r=>s=>s.test(r),sy=[Co,st,Mi,Ps,DE,ME,UA],Sx=r=>sy.find(iy(r));function VA(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Sp(r):!0}const zA=new Set(["brightness","contrast","saturate","opacity"]);function HA(r){const[s,l]=r.slice(0,-1).split("(");if(s==="drop-shadow")return r;const[f]=l.match(yh)||[];if(!f)return r;const m=l.replace(f,"");let x=zA.has(s)?1:0;return f!==l&&(x*=100),s+"("+x+m+")"}const GA=/\b([a-z-]*)\(.*?\)/gu,Ld={...Fs,getAnimatableNone:r=>{const s=r.match(GA);return s?s.map(HA).join(" "):r}},Tx={...Co,transform:Math.round},XA={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:hu,scaleX:hu,scaleY:hu,scaleZ:hu,skew:Ps,skewX:Ps,skewY:Ps,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:jl,originX:fx,originY:fx,originZ:st},Th={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st,...XA,zIndex:Tx,fillOpacity:jl,strokeOpacity:jl,numOctaves:Tx},YA={...Th,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:Ld,WebkitFilter:Ld},ay=r=>YA[r];function oy(r,s){let l=ay(r);return l!==Ld&&(l=Fs),l.getAnimatableNone?l.getAnimatableNone(s):void 0}const qA=new Set(["auto","none","0"]);function WA(r,s,l){let f=0,m;for(;f<r.length&&!m;){const x=r[f];typeof x=="string"&&!qA.has(x)&&Pl(x).values.length&&(m=r[f]),f++}if(m&&l)for(const x of s)r[x]=oy(l,m)}class ZA extends Ch{constructor(s,l,f,m,x){super(s,l,f,m,x,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:l,name:f}=this;if(!l||!l.current)return;super.readKeyframes();for(let v=0;v<s.length;v++){let y=s[v];if(typeof y=="string"&&(y=y.trim(),ph(y))){const C=ny(y,l.current);C!==void 0&&(s[v]=C),v===s.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!ry.has(f)||s.length!==2)return;const[m,x]=s,b=Sx(m),T=Sx(x);if(b!==T)if(vx(b)&&vx(T))for(let v=0;v<s.length;v++){const y=s[v];typeof y=="string"&&(s[v]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:l}=this,f=[];for(let m=0;m<s.length;m++)(s[m]===null||VA(s[m]))&&f.push(m);f.length&&WA(s,f,l)}measureInitialState(){const{element:s,unresolvedKeyframes:l,name:f}=this;if(!s||!s.current)return;f==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=po[f](s.measureViewportBox(),window.getComputedStyle(s.current)),l[0]=this.measuredOrigin;const m=l[l.length-1];m!==void 0&&s.getValue(f,m).jump(m,!1)}measureEndState(){var T;const{element:s,name:l,unresolvedKeyframes:f}=this;if(!s||!s.current)return;const m=s.getValue(l);m&&m.jump(this.measuredOrigin,!1);const x=f.length-1,b=f[x];f[x]=po[l](s.measureViewportBox(),window.getComputedStyle(s.current)),b!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=b),(T=this.removedTransforms)!=null&&T.length&&this.removedTransforms.forEach(([v,y])=>{s.getValue(v).set(y)}),this.resolveNoneKeyframes()}}function KA(r,s,l){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let f=document;const m=(l==null?void 0:l[r])??f.querySelectorAll(r);return m?Array.from(m):[]}return Array.from(r)}const{schedule:Nh}=Pp(queueMicrotask,!1),ni={x:!1,y:!1};function ly(){return ni.x||ni.y}function QA(r){return r==="x"||r==="y"?ni[r]?null:(ni[r]=!0,()=>{ni[r]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function cy(r,s){const l=KA(r),f=new AbortController,m={passive:!0,...s,signal:f.signal};return[l,m,()=>f.abort()]}function Nx(r){return!(r.pointerType==="touch"||ly())}function JA(r,s,l={}){const[f,m,x]=cy(r,l),b=T=>{if(!Nx(T))return;const{target:v}=T,y=s(v,T);if(typeof y!="function"||!v)return;const C=N=>{Nx(N)&&(y(N),v.removeEventListener("pointerleave",C))};v.addEventListener("pointerleave",C,m)};return f.forEach(T=>{T.addEventListener("pointerenter",b,m)}),x}const uy=(r,s)=>s?r===s?!0:uy(r,s.parentElement):!1,Rh=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,$A=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eC(r){return $A.has(r.tagName)||r.tabIndex!==-1}const Tl=new WeakSet;function Rx(r){return s=>{s.key==="Enter"&&r(s)}}function sd(r,s){r.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const tC=(r,s)=>{const l=r.currentTarget;if(!l)return;const f=Rx(()=>{if(Tl.has(l))return;sd(l,"down");const m=Rx(()=>{sd(l,"up")}),x=()=>sd(l,"cancel");l.addEventListener("keyup",m,s),l.addEventListener("blur",x,s)});l.addEventListener("keydown",f,s),l.addEventListener("blur",()=>l.removeEventListener("keydown",f),s)};function Ox(r){return Rh(r)&&!ly()}function nC(r,s,l={}){const[f,m,x]=cy(r,l),b=T=>{const v=T.currentTarget;if(!Ox(T)||Tl.has(v))return;Tl.add(v);const y=s(v,T),C=(P,L)=>{window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",_),!(!Ox(P)||!Tl.has(v))&&(Tl.delete(v),typeof y=="function"&&y(P,{success:L}))},N=P=>{C(P,v===window||v===document||l.useGlobalTarget||uy(v,P.target))},_=P=>{C(P,!1)};window.addEventListener("pointerup",N,m),window.addEventListener("pointercancel",_,m)};return f.forEach(T=>{(l.useGlobalTarget?window:T).addEventListener("pointerdown",b,m),T instanceof HTMLElement&&(T.addEventListener("focus",y=>tC(y,m)),!eC(T)&&!T.hasAttribute("tabindex")&&(T.tabIndex=0))}),x}const Mx=30,rC=r=>!isNaN(parseFloat(r));class iC{constructor(s,l={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(f,m=!0)=>{var b,T;const x=vr.now();this.updatedAt!==x&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(f),this.current!==this.prev&&((b=this.events.change)==null||b.notify(this.current)),m&&((T=this.events.renderRequest)==null||T.notify(this.current))},this.hasAnimated=!1,this.setCurrent(s),this.owner=l.owner}setCurrent(s){this.current=s,this.updatedAt=vr.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=rC(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,l){this.events[s]||(this.events[s]=new hh);const f=this.events[s].add(l);return s==="change"?()=>{f(),un.read(()=>{this.events.change.getSize()||this.stop()})}:f}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,l){this.passiveEffect=s,this.stopPassiveEffect=l}set(s,l=!0){!l||!this.passiveEffect?this.updateAndNotify(s,l):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,l,f){this.set(l),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-f}jump(s,l=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>Mx)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,Mx);return Tp(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(s){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=s(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s;(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kl(r,s){return new iC(r,s)}const sC=[...sy,or,Fs],aC=r=>sC.find(iy(r)),fy=(r,s)=>s&&typeof r=="number"?s.transform(r):r,dy=U.createContext({strict:!1}),Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yo={};for(const r in Dx)yo[r]={isEnabled:s=>Dx[r].some(l=>!!s[l])};function oC(r){for(const s in r)yo[s]={...yo[s],...r[s]}}const lC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ou(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||lC.has(r)}let hy=r=>!Ou(r);function cC(r){r&&(hy=s=>s.startsWith("on")?!Ou(s):r(s))}try{cC(require("@emotion/is-prop-valid").default)}catch{}function uC(r,s,l){const f={};for(const m in r)m==="values"&&typeof r.values=="object"||(hy(m)||l===!0&&Ou(m)||!s&&!Ou(m)||r.draggable&&m.startsWith("onDrag"))&&(f[m]=r[m]);return f}function fC(r){if(typeof Proxy>"u")return r;const s=new Map,l=(...f)=>r(...f);return new Proxy(l,{get:(f,m)=>m==="create"?r:(s.has(m)||s.set(m,r(m)),s.get(m))})}const Xu=U.createContext({});function Yu(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Fl(r){return typeof r=="string"||Array.isArray(r)}const Oh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mh=["initial",...Oh];function qu(r){return Yu(r.animate)||Mh.some(s=>Fl(r[s]))}function my(r){return!!(qu(r)||r.variants)}function dC(r,s){if(qu(r)){const{initial:l,animate:f}=r;return{initial:l===!1||Fl(l)?l:void 0,animate:Fl(f)?f:void 0}}return r.inherit!==!1?s:{}}function hC(r){const{initial:s,animate:l}=dC(r,U.useContext(Xu));return U.useMemo(()=>({initial:s,animate:l}),[_x(s),_x(l)])}function _x(r){return Array.isArray(r)?r.join(" "):r}const mC=Symbol.for("motionComponentSymbol");function uo(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function gC(r,s,l){return U.useCallback(f=>{f&&r.onMount&&r.onMount(f),s&&(f?s.mount(f):s.unmount()),l&&(typeof l=="function"?l(f):uo(l)&&(l.current=f))},[s])}const Dh=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xC="framerAppearId",gy="data-"+Dh(xC),xy=U.createContext({});function pC(r,s,l,f,m){var H,V;const{visualElement:x}=U.useContext(Xu),b=U.useContext(dy),T=U.useContext(Gu),v=U.useContext(lh).reducedMotion,y=U.useRef(null);f=f||b.renderer,!y.current&&f&&(y.current=f(r,{visualState:s,parent:x,props:l,presenceContext:T,blockInitialAnimation:T?T.initial===!1:!1,reducedMotionConfig:v}));const C=y.current,N=U.useContext(xy);C&&!C.projection&&m&&(C.type==="html"||C.type==="svg")&&yC(y.current,l,m,N);const _=U.useRef(!1);U.useInsertionEffect(()=>{C&&_.current&&C.update(l,T)});const P=l[gy],L=U.useRef(!!P&&!((H=window.MotionHandoffIsComplete)!=null&&H.call(window,P))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,P)));return Ep(()=>{C&&(_.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),Nh.render(C.render),L.current&&C.animationState&&C.animationState.animateChanges())}),U.useEffect(()=>{C&&(!L.current&&C.animationState&&C.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var Y;(Y=window.MotionHandoffMarkAsComplete)==null||Y.call(window,P)}),L.current=!1))}),C}function yC(r,s,l,f){const{layoutId:m,layout:x,drag:b,dragConstraints:T,layoutScroll:v,layoutRoot:y,layoutCrossfade:C}=s;r.projection=new l(r.latestValues,s["data-framer-portal-id"]?void 0:py(r.parent)),r.projection.setOptions({layoutId:m,layout:x,alwaysMeasureLayout:!!b||T&&uo(T),visualElement:r,animationType:typeof x=="string"?x:"both",initialPromotionConfig:f,crossfade:C,layoutScroll:v,layoutRoot:y})}function py(r){if(r)return r.options.allowProjection!==!1?r.projection:py(r.parent)}function wC({preloadedFeatures:r,createVisualElement:s,useRender:l,useVisualState:f,Component:m}){r&&oC(r);function x(T,v){let y;const C={...U.useContext(lh),...T,layoutId:bC(T)},{isStatic:N}=C,_=hC(T),P=f(T,N);if(!N&&oh){vC();const L=EC(C);y=L.MeasureLayout,_.visualElement=pC(m,P,C,s,L.ProjectionNode)}return A.jsxs(Xu.Provider,{value:_,children:[y&&_.visualElement?A.jsx(y,{visualElement:_.visualElement,...C}):null,l(m,T,gC(P,_.visualElement,v),P,N,_.visualElement)]})}x.displayName=`motion.${typeof m=="string"?m:`create(${m.displayName??m.name??""})`}`;const b=U.forwardRef(x);return b[mC]=m,b}function bC({layoutId:r}){const s=U.useContext(sh).id;return s&&r!==void 0?s+"-"+r:r}function vC(r,s){U.useContext(dy).strict}function EC(r){const{drag:s,layout:l}=yo;if(!s&&!l)return{};const f={...s,...l};return{MeasureLayout:s!=null&&s.isEnabled(r)||l!=null&&l.isEnabled(r)?f.MeasureLayout:void 0,ProjectionNode:f.ProjectionNode}}const Ul={};function AC(r){for(const s in r)Ul[s]=r[s],xh(s)&&(Ul[s].isCSSVariable=!0)}function yy(r,{layout:s,layoutId:l}){return To.has(r)||r.startsWith("origin")||(s||l!==void 0)&&(!!Ul[r]||r==="opacity")}const cr=r=>!!(r&&r.getVelocity),CC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SC=So.length;function TC(r,s,l){let f="",m=!0;for(let x=0;x<SC;x++){const b=So[x],T=r[b];if(T===void 0)continue;let v=!0;if(typeof T=="number"?v=T===(b.startsWith("scale")?1:0):v=parseFloat(T)===0,!v||l){const y=fy(T,Th[b]);if(!v){m=!1;const C=CC[b]||b;f+=`${C}(${y}) `}l&&(s[b]=y)}}return f=f.trim(),l?f=l(s,m?"":f):m&&(f="none"),f}function _h(r,s,l){const{style:f,vars:m,transformOrigin:x}=r;let b=!1,T=!1;for(const v in s){const y=s[v];if(To.has(v)){b=!0;continue}else if(xh(v)){m[v]=y;continue}else{const C=fy(y,Th[v]);v.startsWith("origin")?(T=!0,x[v]=C):f[v]=C}}if(s.transform||(b||l?f.transform=TC(s,r.transform,l):f.transform&&(f.transform="none")),T){const{originX:v="50%",originY:y="50%",originZ:C=0}=x;f.transformOrigin=`${v} ${y} ${C}`}}const Ih=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wy(r,s,l){for(const f in s)!cr(s[f])&&!yy(f,l)&&(r[f]=s[f])}function NC({transformTemplate:r},s){return U.useMemo(()=>{const l=Ih();return _h(l,s,r),Object.assign({},l.vars,l.style)},[s])}function RC(r,s){const l=r.style||{},f={};return wy(f,l,r),Object.assign(f,NC(r,s)),f}function OC(r,s){const l={},f=RC(r,s);return r.drag&&r.dragListener!==!1&&(l.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(l.tabIndex=0),l.style=f,l}const MC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bh(r){return typeof r!="string"||r.includes("-")?!1:!!(MC.indexOf(r)>-1||/[A-Z]/u.test(r))}const DC={offset:"stroke-dashoffset",array:"stroke-dasharray"},_C={offset:"strokeDashoffset",array:"strokeDasharray"};function IC(r,s,l=1,f=0,m=!0){r.pathLength=1;const x=m?DC:_C;r[x.offset]=st.transform(-f);const b=st.transform(s),T=st.transform(l);r[x.array]=`${b} ${T}`}function by(r,{attrX:s,attrY:l,attrScale:f,pathLength:m,pathSpacing:x=1,pathOffset:b=0,...T},v,y){if(_h(r,T,y),v){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:C,style:N}=r;C.transform&&(N.transform=C.transform,delete C.transform),(N.transform||C.transformOrigin)&&(N.transformOrigin=C.transformOrigin??"50% 50%",delete C.transformOrigin),N.transform&&(N.transformBox="fill-box",delete C.transformBox),s!==void 0&&(C.x=s),l!==void 0&&(C.y=l),f!==void 0&&(C.scale=f),m!==void 0&&IC(C,m,x,b,!1)}const vy=()=>({...Ih(),attrs:{}}),Ey=r=>typeof r=="string"&&r.toLowerCase()==="svg";function BC(r,s,l,f){const m=U.useMemo(()=>{const x=vy();return by(x,s,Ey(f),r.transformTemplate),{...x.attrs,style:{...x.style}}},[s]);if(r.style){const x={};wy(x,r.style,r),m.style={...x,...m.style}}return m}function LC(r=!1){return(l,f,m,{latestValues:x},b)=>{const v=(Bh(l)?BC:OC)(f,x,b,l),y=uC(f,typeof l=="string",r),C=l!==U.Fragment?{...y,...v,ref:m}:{},{children:N}=f,_=U.useMemo(()=>cr(N)?N.get():N,[N]);return U.createElement(l,{...C,children:_})}}function Ix(r){const s=[{},{}];return r==null||r.values.forEach((l,f)=>{s[0][f]=l.get(),s[1][f]=l.getVelocity()}),s}function Lh(r,s,l,f){if(typeof s=="function"){const[m,x]=Ix(f);s=s(l!==void 0?l:r.custom,m,x)}if(typeof s=="string"&&(s=r.variants&&r.variants[s]),typeof s=="function"){const[m,x]=Ix(f);s=s(l!==void 0?l:r.custom,m,x)}return s}function vu(r){return cr(r)?r.get():r}function jC({scrapeMotionValuesFromProps:r,createRenderState:s},l,f,m){return{latestValues:PC(l,f,m,r),renderState:s()}}const Ay=r=>(s,l)=>{const f=U.useContext(Xu),m=U.useContext(Gu),x=()=>jC(r,s,f,m);return l?x():ah(x)};function PC(r,s,l,f){const m={},x=f(r,{});for(const _ in x)m[_]=vu(x[_]);let{initial:b,animate:T}=r;const v=qu(r),y=my(r);s&&y&&!v&&r.inherit!==!1&&(b===void 0&&(b=s.initial),T===void 0&&(T=s.animate));let C=l?l.initial===!1:!1;C=C||b===!1;const N=C?T:b;if(N&&typeof N!="boolean"&&!Yu(N)){const _=Array.isArray(N)?N:[N];for(let P=0;P<_.length;P++){const L=Lh(r,_[P]);if(L){const{transitionEnd:H,transition:V,...Y}=L;for(const Q in Y){let G=Y[Q];if(Array.isArray(G)){const oe=C?G.length-1:0;G=G[oe]}G!==null&&(m[Q]=G)}for(const Q in H)m[Q]=H[Q]}}}return m}function jh(r,s,l){var x;const{style:f}=r,m={};for(const b in f)(cr(f[b])||s.style&&cr(s.style[b])||yy(b,r)||((x=l==null?void 0:l.getValue(b))==null?void 0:x.liveStyle)!==void 0)&&(m[b]=f[b]);return m}const kC={useVisualState:Ay({scrapeMotionValuesFromProps:jh,createRenderState:Ih})};function Cy(r,s,l){const f=jh(r,s,l);for(const m in r)if(cr(r[m])||cr(s[m])){const x=So.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;f[x]=r[m]}return f}const FC={useVisualState:Ay({scrapeMotionValuesFromProps:Cy,createRenderState:vy})};function UC(r,s){return function(f,{forwardMotionProps:m}={forwardMotionProps:!1}){const b={...Bh(f)?FC:kC,preloadedFeatures:r,useRender:LC(m),createVisualElement:s,Component:f};return wC(b)}}function Vl(r,s,l){const f=r.getProps();return Lh(f,s,l!==void 0?l:f.custom,r)}const jd=r=>Array.isArray(r);function VC(r,s,l){r.hasValue(s)?r.getValue(s).set(l):r.addValue(s,kl(l))}function zC(r){return jd(r)?r[r.length-1]||0:r}function HC(r,s){const l=Vl(r,s);let{transitionEnd:f={},transition:m={},...x}=l||{};x={...x,...f};for(const b in x){const T=zC(x[b]);VC(r,b,T)}}function GC(r){return!!(cr(r)&&r.add)}function Pd(r,s){const l=r.getValue("willChange");if(GC(l))return l.add(s);if(!l&&rs.WillChange){const f=new rs.WillChange("auto");r.addValue("willChange",f),f.add(s)}}function Sy(r){return r.props[gy]}const XC=r=>r!==null;function YC(r,{repeat:s,repeatType:l="loop"},f){const m=r.filter(XC),x=s&&l!=="loop"&&s%2===1?0:m.length-1;return m[x]}const qC={type:"spring",stiffness:500,damping:25,restSpeed:10},WC=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),ZC={type:"keyframes",duration:.8},KC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QC=(r,{keyframes:s})=>s.length>2?ZC:To.has(r)?r.startsWith("scale")?WC(s[1]):qC:KC;function JC({when:r,delay:s,delayChildren:l,staggerChildren:f,staggerDirection:m,repeat:x,repeatType:b,repeatDelay:T,from:v,elapsed:y,...C}){return!!Object.keys(C).length}const Ph=(r,s,l,f={},m,x)=>b=>{const T=Sh(f,r)||{},v=T.delay||f.delay||0;let{elapsed:y=0}=f;y=y-Ri(v);const C={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:s.getVelocity(),...T,delay:-y,onUpdate:_=>{s.set(_),T.onUpdate&&T.onUpdate(_)},onComplete:()=>{b(),T.onComplete&&T.onComplete()},name:r,motionValue:s,element:x?void 0:m};JC(T)||Object.assign(C,QC(r,C)),C.duration&&(C.duration=Ri(C.duration)),C.repeatDelay&&(C.repeatDelay=Ri(C.repeatDelay)),C.from!==void 0&&(C.keyframes[0]=C.from);let N=!1;if((C.type===!1||C.duration===0&&!C.repeatDelay)&&(C.duration=0,C.delay===0&&(N=!0)),(rs.instantAnimations||rs.skipAnimations)&&(N=!0,C.duration=0,C.delay=0),C.allowFlatten=!T.type&&!T.ease,N&&!x&&s.get()!==void 0){const _=YC(C.keyframes,T);if(_!==void 0){un.update(()=>{C.onUpdate(_),C.onComplete()});return}}return new PA(C)};function $C({protectedKeys:r,needsAnimating:s},l){const f=r.hasOwnProperty(l)&&s[l]!==!0;return s[l]=!1,f}function Ty(r,s,{delay:l=0,transitionOverride:f,type:m}={}){let{transition:x=r.getDefaultTransition(),transitionEnd:b,...T}=s;f&&(x=f);const v=[],y=m&&r.animationState&&r.animationState.getState()[m];for(const C in T){const N=r.getValue(C,r.latestValues[C]??null),_=T[C];if(_===void 0||y&&$C(y,C))continue;const P={delay:l,...Sh(x||{},C)},L=N.get();if(L!==void 0&&!N.isAnimating&&!Array.isArray(_)&&_===L&&!P.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const Y=Sy(r);if(Y){const Q=window.MotionHandoffAnimation(Y,C,un);Q!==null&&(P.startTime=Q,H=!0)}}Pd(r,C),N.start(Ph(C,N,_,r.shouldReduceMotion&&ry.has(C)?{type:!1}:P,r,H));const V=N.animation;V&&v.push(V)}return b&&Promise.all(v).then(()=>{un.update(()=>{b&&HC(r,b)})}),v}function kd(r,s,l={}){var v;const f=Vl(r,s,l.type==="exit"?(v=r.presenceContext)==null?void 0:v.custom:void 0);let{transition:m=r.getDefaultTransition()||{}}=f||{};l.transitionOverride&&(m=l.transitionOverride);const x=f?()=>Promise.all(Ty(r,f,l)):()=>Promise.resolve(),b=r.variantChildren&&r.variantChildren.size?(y=0)=>{const{delayChildren:C=0,staggerChildren:N,staggerDirection:_}=m;return e8(r,s,C+y,N,_,l)}:()=>Promise.resolve(),{when:T}=m;if(T){const[y,C]=T==="beforeChildren"?[x,b]:[b,x];return y().then(()=>C())}else return Promise.all([x(),b(l.delay)])}function e8(r,s,l=0,f=0,m=1,x){const b=[],T=(r.variantChildren.size-1)*f,v=m===1?(y=0)=>y*f:(y=0)=>T-y*f;return Array.from(r.variantChildren).sort(t8).forEach((y,C)=>{y.notify("AnimationStart",s),b.push(kd(y,s,{...x,delay:l+v(C)}).then(()=>y.notify("AnimationComplete",s)))}),Promise.all(b)}function t8(r,s){return r.sortNodePosition(s)}function n8(r,s,l={}){r.notify("AnimationStart",s);let f;if(Array.isArray(s)){const m=s.map(x=>kd(r,x,l));f=Promise.all(m)}else if(typeof s=="string")f=kd(r,s,l);else{const m=typeof s=="function"?Vl(r,s,l.custom):s;f=Promise.all(Ty(r,m,l))}return f.then(()=>{r.notify("AnimationComplete",s)})}function Ny(r,s){if(!Array.isArray(s))return!1;const l=s.length;if(l!==r.length)return!1;for(let f=0;f<l;f++)if(s[f]!==r[f])return!1;return!0}const r8=Mh.length;function Ry(r){if(!r)return;if(!r.isControllingVariants){const l=r.parent?Ry(r.parent)||{}:{};return r.props.initial!==void 0&&(l.initial=r.props.initial),l}const s={};for(let l=0;l<r8;l++){const f=Mh[l],m=r.props[f];(Fl(m)||m===!1)&&(s[f]=m)}return s}const i8=[...Oh].reverse(),s8=Oh.length;function a8(r){return s=>Promise.all(s.map(({animation:l,options:f})=>n8(r,l,f)))}function o8(r){let s=a8(r),l=Bx(),f=!0;const m=v=>(y,C)=>{var _;const N=Vl(r,C,v==="exit"?(_=r.presenceContext)==null?void 0:_.custom:void 0);if(N){const{transition:P,transitionEnd:L,...H}=N;y={...y,...H,...L}}return y};function x(v){s=v(r)}function b(v){const{props:y}=r,C=Ry(r.parent)||{},N=[],_=new Set;let P={},L=1/0;for(let V=0;V<s8;V++){const Y=i8[V],Q=l[Y],G=y[Y]!==void 0?y[Y]:C[Y],oe=Fl(G),$=Y===v?Q.isActive:null;$===!1&&(L=V);let pe=G===C[Y]&&G!==y[Y]&&oe;if(pe&&f&&r.manuallyAnimateOnMount&&(pe=!1),Q.protectedKeys={...P},!Q.isActive&&$===null||!G&&!Q.prevProp||Yu(G)||typeof G=="boolean")continue;const ae=l8(Q.prevProp,G);let ve=ae||Y===v&&Q.isActive&&!pe&&oe||V>L&&oe,ue=!1;const Je=Array.isArray(G)?G:[G];let Ye=Je.reduce(m(Y),{});$===!1&&(Ye={});const{prevResolvedValues:Be={}}=Q,_e={...Be,...Ye},Fe=ie=>{ve=!0,_.has(ie)&&(ue=!0,_.delete(ie)),Q.needsAnimating[ie]=!0;const Me=r.getValue(ie);Me&&(Me.liveStyle=!1)};for(const ie in _e){const Me=Ye[ie],je=Be[ie];if(P.hasOwnProperty(ie))continue;let B=!1;jd(Me)&&jd(je)?B=!Ny(Me,je):B=Me!==je,B?Me!=null?Fe(ie):_.add(ie):Me!==void 0&&_.has(ie)?Fe(ie):Q.protectedKeys[ie]=!0}Q.prevProp=G,Q.prevResolvedValues=Ye,Q.isActive&&(P={...P,...Ye}),f&&r.blockInitialAnimation&&(ve=!1),ve&&(!(pe&&ae)||ue)&&N.push(...Je.map(ie=>({animation:ie,options:{type:Y}})))}if(_.size){const V={};if(typeof y.initial!="boolean"){const Y=Vl(r,Array.isArray(y.initial)?y.initial[0]:y.initial);Y&&Y.transition&&(V.transition=Y.transition)}_.forEach(Y=>{const Q=r.getBaseTarget(Y),G=r.getValue(Y);G&&(G.liveStyle=!0),V[Y]=Q??null}),N.push({animation:V})}let H=!!N.length;return f&&(y.initial===!1||y.initial===y.animate)&&!r.manuallyAnimateOnMount&&(H=!1),f=!1,H?s(N):Promise.resolve()}function T(v,y){var N;if(l[v].isActive===y)return Promise.resolve();(N=r.variantChildren)==null||N.forEach(_=>{var P;return(P=_.animationState)==null?void 0:P.setActive(v,y)}),l[v].isActive=y;const C=b(v);for(const _ in l)l[_].protectedKeys={};return C}return{animateChanges:b,setActive:T,setAnimateFunction:x,getState:()=>l,reset:()=>{l=Bx(),f=!0}}}function l8(r,s){return typeof s=="string"?s!==r:Array.isArray(s)?!Ny(s,r):!1}function da(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bx(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Vs{constructor(s){this.isMounted=!1,this.node=s}update(){}}class c8 extends Vs{constructor(s){super(s),s.animationState||(s.animationState=o8(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Yu(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:l}=this.node.prevProps||{};s!==l&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let u8=0;class f8 extends Vs{constructor(){super(...arguments),this.id=u8++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:l}=this.node.presenceContext,{isPresent:f}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===f)return;const m=this.node.animationState.setActive("exit",!s);l&&!s&&m.then(()=>{l(this.id)})}mount(){const{register:s,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const d8={animation:{Feature:c8},exit:{Feature:f8}};function zl(r,s,l,f={passive:!0}){return r.addEventListener(s,l,f),()=>r.removeEventListener(s,l)}function Kl(r){return{point:{x:r.pageX,y:r.pageY}}}const h8=r=>s=>Rh(s)&&r(s,Kl(s));function Ml(r,s,l,f){return zl(r,s,h8(l),f)}function Oy({top:r,left:s,right:l,bottom:f}){return{x:{min:s,max:l},y:{min:r,max:f}}}function m8({x:r,y:s}){return{top:s.min,right:r.max,bottom:s.max,left:r.min}}function g8(r,s){if(!s)return r;const l=s({x:r.left,y:r.top}),f=s({x:r.right,y:r.bottom});return{top:l.y,left:l.x,bottom:f.y,right:f.x}}const My=1e-4,x8=1-My,p8=1+My,Dy=.01,y8=0-Dy,w8=0+Dy;function hr(r){return r.max-r.min}function b8(r,s,l){return Math.abs(r-s)<=l}function Lx(r,s,l,f=.5){r.origin=f,r.originPoint=cn(s.min,s.max,r.origin),r.scale=hr(l)/hr(s),r.translate=cn(l.min,l.max,r.origin)-r.originPoint,(r.scale>=x8&&r.scale<=p8||isNaN(r.scale))&&(r.scale=1),(r.translate>=y8&&r.translate<=w8||isNaN(r.translate))&&(r.translate=0)}function Dl(r,s,l,f){Lx(r.x,s.x,l.x,f?f.originX:void 0),Lx(r.y,s.y,l.y,f?f.originY:void 0)}function jx(r,s,l){r.min=l.min+s.min,r.max=r.min+hr(s)}function v8(r,s,l){jx(r.x,s.x,l.x),jx(r.y,s.y,l.y)}function Px(r,s,l){r.min=s.min-l.min,r.max=r.min+hr(s)}function _l(r,s,l){Px(r.x,s.x,l.x),Px(r.y,s.y,l.y)}const kx=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:kx(),y:kx()}),Fx=()=>({min:0,max:0}),Tn=()=>({x:Fx(),y:Fx()});function Xr(r){return[r("x"),r("y")]}function ad(r){return r===void 0||r===1}function Fd({scale:r,scaleX:s,scaleY:l}){return!ad(r)||!ad(s)||!ad(l)}function ma(r){return Fd(r)||_y(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function _y(r){return Ux(r.x)||Ux(r.y)}function Ux(r){return r&&r!=="0%"}function Mu(r,s,l){const f=r-l,m=s*f;return l+m}function Vx(r,s,l,f,m){return m!==void 0&&(r=Mu(r,m,f)),Mu(r,l,f)+s}function Ud(r,s=0,l=1,f,m){r.min=Vx(r.min,s,l,f,m),r.max=Vx(r.max,s,l,f,m)}function Iy(r,{x:s,y:l}){Ud(r.x,s.translate,s.scale,s.originPoint),Ud(r.y,l.translate,l.scale,l.originPoint)}const zx=.999999999999,Hx=1.0000000000001;function E8(r,s,l,f=!1){const m=l.length;if(!m)return;s.x=s.y=1;let x,b;for(let T=0;T<m;T++){x=l[T],b=x.projectionDelta;const{visualElement:v}=x.options;v&&v.props.style&&v.props.style.display==="contents"||(f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&mo(r,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),b&&(s.x*=b.x.scale,s.y*=b.y.scale,Iy(r,b)),f&&ma(x.latestValues)&&mo(r,x.latestValues))}s.x<Hx&&s.x>zx&&(s.x=1),s.y<Hx&&s.y>zx&&(s.y=1)}function ho(r,s){r.min=r.min+s,r.max=r.max+s}function Gx(r,s,l,f,m=.5){const x=cn(r.min,r.max,m);Ud(r,s,l,x,f)}function mo(r,s){Gx(r.x,s.x,s.scaleX,s.scale,s.originX),Gx(r.y,s.y,s.scaleY,s.scale,s.originY)}function By(r,s){return Oy(g8(r.getBoundingClientRect(),s))}function A8(r,s,l){const f=By(r,l),{scroll:m}=s;return m&&(ho(f.x,m.offset.x),ho(f.y,m.offset.y)),f}const Ly=({current:r})=>r?r.ownerDocument.defaultView:null,Xx=(r,s)=>Math.abs(r-s);function C8(r,s){const l=Xx(r.x,s.x),f=Xx(r.y,s.y);return Math.sqrt(l**2+f**2)}class jy{constructor(s,l,{transformPagePoint:f,contextWindow:m,dragSnapToOrigin:x=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ld(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,P=C8(N.offset,{x:0,y:0})>=3;if(!_&&!P)return;const{point:L}=N,{timestamp:H}=$n;this.history.push({...L,timestamp:H});const{onStart:V,onMove:Y}=this.handlers;_||(V&&V(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,N)},this.handlePointerMove=(N,_)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=od(_,this.transformPagePoint),un.update(this.updatePoint,!0)},this.handlePointerUp=(N,_)=>{this.end();const{onEnd:P,onSessionEnd:L,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=ld(N.type==="pointercancel"?this.lastMoveEventInfo:od(_,this.transformPagePoint),this.history);this.startEvent&&P&&P(N,V),L&&L(N,V)},!Rh(s))return;this.dragSnapToOrigin=x,this.handlers=l,this.transformPagePoint=f,this.contextWindow=m||window;const b=Kl(s),T=od(b,this.transformPagePoint),{point:v}=T,{timestamp:y}=$n;this.history=[{...v,timestamp:y}];const{onSessionStart:C}=l;C&&C(s,ld(T,this.history)),this.removeListeners=ql(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function od(r,s){return s?{point:s(r.point)}:r}function Yx(r,s){return{x:r.x-s.x,y:r.y-s.y}}function ld({point:r},s){return{point:r,delta:Yx(r,Py(s)),offset:Yx(r,S8(s)),velocity:T8(s,.1)}}function S8(r){return r[0]}function Py(r){return r[r.length-1]}function T8(r,s){if(r.length<2)return{x:0,y:0};let l=r.length-1,f=null;const m=Py(r);for(;l>=0&&(f=r[l],!(m.timestamp-f.timestamp>Ri(s)));)l--;if(!f)return{x:0,y:0};const x=Oi(m.timestamp-f.timestamp);if(x===0)return{x:0,y:0};const b={x:(m.x-f.x)/x,y:(m.y-f.y)/x};return b.x===1/0&&(b.x=0),b.y===1/0&&(b.y=0),b}function N8(r,{min:s,max:l},f){return s!==void 0&&r<s?r=f?cn(s,r,f.min):Math.max(r,s):l!==void 0&&r>l&&(r=f?cn(l,r,f.max):Math.min(r,l)),r}function qx(r,s,l){return{min:s!==void 0?r.min+s:void 0,max:l!==void 0?r.max+l-(r.max-r.min):void 0}}function R8(r,{top:s,left:l,bottom:f,right:m}){return{x:qx(r.x,l,m),y:qx(r.y,s,f)}}function Wx(r,s){let l=s.min-r.min,f=s.max-r.max;return s.max-s.min<r.max-r.min&&([l,f]=[f,l]),{min:l,max:f}}function O8(r,s){return{x:Wx(r.x,s.x),y:Wx(r.y,s.y)}}function M8(r,s){let l=.5;const f=hr(r),m=hr(s);return m>f?l=Ll(s.min,s.max-f,r.min):f>m&&(l=Ll(r.min,r.max-m,s.min)),ns(0,1,l)}function D8(r,s){const l={};return s.min!==void 0&&(l.min=s.min-r.min),s.max!==void 0&&(l.max=s.max-r.min),l}const Vd=.35;function _8(r=Vd){return r===!1?r=0:r===!0&&(r=Vd),{x:Zx(r,"left","right"),y:Zx(r,"top","bottom")}}function Zx(r,s,l){return{min:Kx(r,s),max:Kx(r,l)}}function Kx(r,s){return typeof r=="number"?r:r[s]||0}const I8=new WeakMap;class B8{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.visualElement=s}start(s,{snapToCursor:l=!1}={}){const{presenceContext:f}=this.visualElement;if(f&&f.isPresent===!1)return;const m=C=>{const{dragSnapToOrigin:N}=this.getProps();N?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(Kl(C).point)},x=(C,N)=>{const{drag:_,dragPropagation:P,onDragStart:L}=this.getProps();if(_&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QA(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(V=>{let Y=this.getAxisMotionValue(V).get()||0;if(Mi.test(Y)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const G=Q.layout.layoutBox[V];G&&(Y=hr(G)*(parseFloat(Y)/100))}}this.originPoint[V]=Y}),L&&un.postRender(()=>L(C,N)),Pd(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},b=(C,N)=>{const{dragPropagation:_,dragDirectionLock:P,onDirectionLock:L,onDrag:H}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:V}=N;if(P&&this.currentDirection===null){this.currentDirection=L8(V),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",N.point,V),this.updateAxis("y",N.point,V),this.visualElement.render(),H&&H(C,N)},T=(C,N)=>this.stop(C,N),v=()=>Xr(C=>{var N;return this.getAnimationState(C)==="paused"&&((N=this.getAxisMotionValue(C).animation)==null?void 0:N.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new jy(s,{onSessionStart:m,onStart:x,onMove:b,onSessionEnd:T,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Ly(this.visualElement)})}stop(s,l){const f=this.isDragging;if(this.cancel(),!f)return;const{velocity:m}=l;this.startAnimation(m);const{onDragEnd:x}=this.getProps();x&&un.postRender(()=>x(s,l))}cancel(){this.isDragging=!1;const{projection:s,animationState:l}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:f}=this.getProps();!f&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(s,l,f){const{drag:m}=this.getProps();if(!f||!mu(s,m,this.currentDirection))return;const x=this.getAxisMotionValue(s);let b=this.originPoint[s]+f[s];this.constraints&&this.constraints[s]&&(b=N8(b,this.constraints[s],this.elastic[s])),x.set(b)}resolveConstraints(){var x;const{dragConstraints:s,dragElastic:l}=this.getProps(),f=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(x=this.visualElement.projection)==null?void 0:x.layout,m=this.constraints;s&&uo(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&f?this.constraints=R8(f.layoutBox,s):this.constraints=!1,this.elastic=_8(l),m!==this.constraints&&f&&this.constraints&&!this.hasMutatedConstraints&&Xr(b=>{this.constraints!==!1&&this.getAxisMotionValue(b)&&(this.constraints[b]=D8(f.layoutBox[b],this.constraints[b]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:l}=this.getProps();if(!s||!uo(s))return!1;const f=s.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const x=A8(f,m.root,this.visualElement.getTransformPagePoint());let b=O8(m.layout.layoutBox,x);if(l){const T=l(m8(b));this.hasMutatedConstraints=!!T,T&&(b=Oy(T))}return b}startAnimation(s){const{drag:l,dragMomentum:f,dragElastic:m,dragTransition:x,dragSnapToOrigin:b,onDragTransitionEnd:T}=this.getProps(),v=this.constraints||{},y=Xr(C=>{if(!mu(C,l,this.currentDirection))return;let N=v&&v[C]||{};b&&(N={min:0,max:0});const _=m?200:1e6,P=m?40:1e7,L={type:"inertia",velocity:f?s[C]:0,bounceStiffness:_,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...x,...N};return this.startAxisValueAnimation(C,L)});return Promise.all(y).then(T)}startAxisValueAnimation(s,l){const f=this.getAxisMotionValue(s);return Pd(this.visualElement,s),f.start(Ph(s,f,0,l,this.visualElement,!1))}stopAnimation(){Xr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Xr(s=>{var l;return(l=this.getAxisMotionValue(s).animation)==null?void 0:l.pause()})}getAnimationState(s){var l;return(l=this.getAxisMotionValue(s).animation)==null?void 0:l.state}getAxisMotionValue(s){const l=`_drag${s.toUpperCase()}`,f=this.visualElement.getProps(),m=f[l];return m||this.visualElement.getValue(s,(f.initial?f.initial[s]:void 0)||0)}snapToCursor(s){Xr(l=>{const{drag:f}=this.getProps();if(!mu(l,f,this.currentDirection))return;const{projection:m}=this.visualElement,x=this.getAxisMotionValue(l);if(m&&m.layout){const{min:b,max:T}=m.layout.layoutBox[l];x.set(s[l]-cn(b,T,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:l}=this.getProps(),{projection:f}=this.visualElement;if(!uo(l)||!f||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};Xr(b=>{const T=this.getAxisMotionValue(b);if(T&&this.constraints!==!1){const v=T.get();m[b]=M8({min:v,max:v},this.constraints[b])}});const{transformTemplate:x}=this.visualElement.getProps();this.visualElement.current.style.transform=x?x({},""):"none",f.root&&f.root.updateScroll(),f.updateLayout(),this.resolveConstraints(),Xr(b=>{if(!mu(b,s,null))return;const T=this.getAxisMotionValue(b),{min:v,max:y}=this.constraints[b];T.set(cn(v,y,m[b]))})}addListeners(){if(!this.visualElement.current)return;I8.set(this.visualElement,this);const s=this.visualElement.current,l=Ml(s,"pointerdown",v=>{const{drag:y,dragListener:C=!0}=this.getProps();y&&C&&this.start(v)}),f=()=>{const{dragConstraints:v}=this.getProps();uo(v)&&v.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,x=m.addEventListener("measure",f);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),un.read(f);const b=zl(window,"resize",()=>this.scalePositionWithinConstraints()),T=m.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y})=>{this.isDragging&&y&&(Xr(C=>{const N=this.getAxisMotionValue(C);N&&(this.originPoint[C]+=v[C].translate,N.set(N.get()+v[C].translate))}),this.visualElement.render())});return()=>{b(),l(),x(),T&&T()}}getProps(){const s=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:f=!1,dragPropagation:m=!1,dragConstraints:x=!1,dragElastic:b=Vd,dragMomentum:T=!0}=s;return{...s,drag:l,dragDirectionLock:f,dragPropagation:m,dragConstraints:x,dragElastic:b,dragMomentum:T}}}function mu(r,s,l){return(s===!0||s===r)&&(l===null||l===r)}function L8(r,s=10){let l=null;return Math.abs(r.y)>s?l="y":Math.abs(r.x)>s&&(l="x"),l}class j8 extends Vs{constructor(s){super(s),this.removeGroupControls=Yr,this.removeListeners=Yr,this.controls=new B8(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qx=r=>(s,l)=>{r&&un.postRender(()=>r(s,l))};class P8 extends Vs{constructor(){super(...arguments),this.removePointerDownListener=Yr}onPointerDown(s){this.session=new jy(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ly(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:l,onPan:f,onPanEnd:m}=this.node.getProps();return{onSessionStart:Qx(s),onStart:Qx(l),onMove:f,onEnd:(x,b)=>{delete this.session,m&&un.postRender(()=>m(x,b))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jx(r,s){return s.max===s.min?0:r/(s.max-s.min)*100}const Cl={correct:(r,s)=>{if(!s.target)return r;if(typeof r=="string")if(st.test(r))r=parseFloat(r);else return r;const l=Jx(r,s.target.x),f=Jx(r,s.target.y);return`${l}% ${f}%`}},k8={correct:(r,{treeScale:s,projectionDelta:l})=>{const f=r,m=Fs.parse(r);if(m.length>5)return f;const x=Fs.createTransformer(r),b=typeof m[0]!="number"?1:0,T=l.x.scale*s.x,v=l.y.scale*s.y;m[0+b]/=T,m[1+b]/=v;const y=cn(T,v,.5);return typeof m[2+b]=="number"&&(m[2+b]/=y),typeof m[3+b]=="number"&&(m[3+b]/=y),x(m)}};class F8 extends U.Component{componentDidMount(){const{visualElement:s,layoutGroup:l,switchLayoutGroup:f,layoutId:m}=this.props,{projection:x}=s;AC(U8),x&&(l.group&&l.group.add(x),f&&f.register&&m&&f.register(x),x.root.didUpdate(),x.addEventListener("animationComplete",()=>{this.safeToRemove()}),x.setOptions({...x.options,onExitComplete:()=>this.safeToRemove()})),Eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:l,visualElement:f,drag:m,isPresent:x}=this.props,b=f.projection;return b&&(b.isPresent=x,m||s.layoutDependency!==l||l===void 0||s.isPresent!==x?b.willUpdate():this.safeToRemove(),s.isPresent!==x&&(x?b.promote():b.relegate()||un.postRender(()=>{const T=b.getStack();(!T||!T.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Nh.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:l,switchLayoutGroup:f}=this.props,{projection:m}=s;m&&(m.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(m),f&&f.deregister&&f.deregister(m))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function ky(r){const[s,l]=Ap(),f=U.useContext(sh);return A.jsx(F8,{...r,layoutGroup:f,switchLayoutGroup:U.useContext(xy),isPresent:s,safeToRemove:l})}const U8={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:k8};function V8(r,s,l){const f=cr(r)?r:kl(r);return f.start(Ph("",f,s,l)),f.animation}function z8(r){return r instanceof SVGElement&&r.tagName!=="svg"}const H8=(r,s)=>r.depth-s.depth;class G8{constructor(){this.children=[],this.isDirty=!1}add(s){ch(this.children,s),this.isDirty=!0}remove(s){uh(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(H8),this.isDirty=!1,this.children.forEach(s)}}function X8(r,s){const l=vr.now(),f=({timestamp:m})=>{const x=m-l;x>=s&&(ks(f),r(x-s))};return un.setup(f,!0),()=>ks(f)}const Fy=["TopLeft","TopRight","BottomLeft","BottomRight"],Y8=Fy.length,$x=r=>typeof r=="string"?parseFloat(r):r,e2=r=>typeof r=="number"||st.test(r);function q8(r,s,l,f,m,x){m?(r.opacity=cn(0,l.opacity??1,W8(f)),r.opacityExit=cn(s.opacity??1,0,Z8(f))):x&&(r.opacity=cn(s.opacity??1,l.opacity??1,f));for(let b=0;b<Y8;b++){const T=`border${Fy[b]}Radius`;let v=t2(s,T),y=t2(l,T);if(v===void 0&&y===void 0)continue;v||(v=0),y||(y=0),v===0||y===0||e2(v)===e2(y)?(r[T]=Math.max(cn($x(v),$x(y),f),0),(Mi.test(y)||Mi.test(v))&&(r[T]+="%")):r[T]=y}(s.rotate||l.rotate)&&(r.rotate=cn(s.rotate||0,l.rotate||0,f))}function t2(r,s){return r[s]!==void 0?r[s]:r.borderRadius}const W8=Uy(0,.5,Ip),Z8=Uy(.5,.95,Yr);function Uy(r,s,l){return f=>f<r?0:f>s?1:l(Ll(r,s,f))}function n2(r,s){r.min=s.min,r.max=s.max}function Gr(r,s){n2(r.x,s.x),n2(r.y,s.y)}function r2(r,s){r.translate=s.translate,r.scale=s.scale,r.originPoint=s.originPoint,r.origin=s.origin}function i2(r,s,l,f,m){return r-=s,r=Mu(r,1/l,f),m!==void 0&&(r=Mu(r,1/m,f)),r}function K8(r,s=0,l=1,f=.5,m,x=r,b=r){if(Mi.test(s)&&(s=parseFloat(s),s=cn(b.min,b.max,s/100)-b.min),typeof s!="number")return;let T=cn(x.min,x.max,f);r===x&&(T-=s),r.min=i2(r.min,s,l,T,m),r.max=i2(r.max,s,l,T,m)}function s2(r,s,[l,f,m],x,b){K8(r,s[l],s[f],s[m],s.scale,x,b)}const Q8=["x","scaleX","originX"],J8=["y","scaleY","originY"];function a2(r,s,l,f){s2(r.x,s,Q8,l?l.x:void 0,f?f.x:void 0),s2(r.y,s,J8,l?l.y:void 0,f?f.y:void 0)}function o2(r){return r.translate===0&&r.scale===1}function Vy(r){return o2(r.x)&&o2(r.y)}function l2(r,s){return r.min===s.min&&r.max===s.max}function $8(r,s){return l2(r.x,s.x)&&l2(r.y,s.y)}function c2(r,s){return Math.round(r.min)===Math.round(s.min)&&Math.round(r.max)===Math.round(s.max)}function zy(r,s){return c2(r.x,s.x)&&c2(r.y,s.y)}function u2(r){return hr(r.x)/hr(r.y)}function f2(r,s){return r.translate===s.translate&&r.scale===s.scale&&r.originPoint===s.originPoint}class eS{constructor(){this.members=[]}add(s){ch(this.members,s),s.scheduleRender()}remove(s){if(uh(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(s){const l=this.members.findIndex(m=>s===m);if(l===0)return!1;let f;for(let m=l;m>=0;m--){const x=this.members[m];if(x.isPresent!==!1){f=x;break}}return f?(this.promote(f),!0):!1}promote(s,l){const f=this.lead;if(s!==f&&(this.prevLead=f,this.lead=s,s.show(),f)){f.instance&&f.scheduleRender(),s.scheduleRender(),s.resumeFrom=f,l&&(s.resumeFrom.preserveOpacity=!0),f.snapshot&&(s.snapshot=f.snapshot,s.snapshot.latestValues=f.animationValues||f.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:m}=s.options;m===!1&&f.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:l,resumingFrom:f}=s;l.onExitComplete&&l.onExitComplete(),f&&f.options.onExitComplete&&f.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tS(r,s,l){let f="";const m=r.x.translate/s.x,x=r.y.translate/s.y,b=(l==null?void 0:l.z)||0;if((m||x||b)&&(f=`translate3d(${m}px, ${x}px, ${b}px) `),(s.x!==1||s.y!==1)&&(f+=`scale(${1/s.x}, ${1/s.y}) `),l){const{transformPerspective:y,rotate:C,rotateX:N,rotateY:_,skewX:P,skewY:L}=l;y&&(f=`perspective(${y}px) ${f}`),C&&(f+=`rotate(${C}deg) `),N&&(f+=`rotateX(${N}deg) `),_&&(f+=`rotateY(${_}deg) `),P&&(f+=`skewX(${P}deg) `),L&&(f+=`skewY(${L}deg) `)}const T=r.x.scale*s.x,v=r.y.scale*s.y;return(T!==1||v!==1)&&(f+=`scale(${T}, ${v})`),f||"none"}const cd=["","X","Y","Z"],nS={visibility:"hidden"},d2=1e3;let rS=0;function ud(r,s,l,f){const{latestValues:m}=s;m[r]&&(l[r]=m[r],s.setStaticValue(r,0),f&&(f[r]=0))}function Hy(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:s}=r.options;if(!s)return;const l=Sy(s);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:m,layoutId:x}=r.options;window.MotionCancelOptimisedAnimation(l,"transform",un,!(m||x))}const{parent:f}=r;f&&!f.hasCheckedOptimisedAppear&&Hy(f)}function Gy({attachResizeListener:r,defaultParent:s,measureScroll:l,checkIsScrollRoot:f,resetTransform:m}){return class{constructor(b={},T=s==null?void 0:s()){this.id=rS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aS),this.nodes.forEach(fS),this.nodes.forEach(dS),this.nodes.forEach(oS)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=b,this.root=T?T.root||T:this,this.path=T?[...T.path,T]:[],this.parent=T,this.depth=T?T.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new G8)}addEventListener(b,T){return this.eventHandlers.has(b)||this.eventHandlers.set(b,new hh),this.eventHandlers.get(b).add(T)}notifyListeners(b,...T){const v=this.eventHandlers.get(b);v&&v.notify(...T)}hasListeners(b){return this.eventHandlers.has(b)}mount(b,T=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z8(b),this.instance=b;const{layoutId:v,layout:y,visualElement:C}=this.options;if(C&&!C.current&&C.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),T&&(y||v)&&(this.isLayoutDirty=!0),r){let N;const _=()=>this.root.updateBlockedByResize=!1;r(b,()=>{this.root.updateBlockedByResize=!0,N&&N(),N=X8(_,250),Eu.hasAnimatedSinceResize&&(Eu.hasAnimatedSinceResize=!1,this.nodes.forEach(m2))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&C&&(v||y)&&this.addEventListener("didUpdate",({delta:N,hasLayoutChanged:_,hasRelativeLayoutChanged:P,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const H=this.options.transition||C.getDefaultTransition()||pS,{onLayoutAnimationStart:V,onLayoutAnimationComplete:Y}=C.getProps(),Q=!this.targetLayout||!zy(this.targetLayout,L),G=!_&&P;if(this.options.layoutRoot||this.resumeFrom||G||_&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(N,G);const oe={...Sh(H,"layout"),onPlay:V,onComplete:Y};(C.shouldReduceMotion||this.options.layoutRoot)&&(oe.delay=0,oe.type=!1),this.startAnimation(oe)}else _||m2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const b=this.getStack();b&&b.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hS),this.animationId++)}getTransformTemplate(){const{visualElement:b}=this.options;return b&&b.getProps().transformTemplate}willUpdate(b=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let C=0;C<this.path.length;C++){const N=this.path[C];N.shouldResetTransform=!0,N.updateScroll("snapshot"),N.options.layoutRoot&&N.willUpdate(!1)}const{layoutId:T,layout:v}=this.options;if(T===void 0&&!v)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),b&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h2);return}this.isUpdating||this.nodes.forEach(cS),this.isUpdating=!1,this.nodes.forEach(uS),this.nodes.forEach(iS),this.nodes.forEach(sS),this.clearAllSnapshots();const T=vr.now();$n.delta=ns(0,1e3/60,T-$n.timestamp),$n.timestamp=T,$n.isProcessing=!0,td.update.process($n),td.preRender.process($n),td.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lS),this.sharedNodes.forEach(mS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const b=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:T}=this.options;T&&T.notify("LayoutMeasure",this.layout.layoutBox,b?b.layoutBox:void 0)}updateScroll(b="measure"){let T=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===b&&(T=!1),T){const v=f(this.instance);this.scroll={animationId:this.root.animationId,phase:b,isRoot:v,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:v}}}resetTransform(){if(!m)return;const b=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,T=this.projectionDelta&&!Vy(this.projectionDelta),v=this.getTransformTemplate(),y=v?v(this.latestValues,""):void 0,C=y!==this.prevTransformTemplateValue;b&&(T||ma(this.latestValues)||C)&&(m(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(b=!0){const T=this.measurePageBox();let v=this.removeElementScroll(T);return b&&(v=this.removeTransform(v)),yS(v),{animationId:this.root.animationId,measuredBox:T,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){var y;const{visualElement:b}=this.options;if(!b)return Tn();const T=b.measureViewportBox();if(!(((y=this.scroll)==null?void 0:y.wasRoot)||this.path.some(wS))){const{scroll:C}=this.root;C&&(ho(T.x,C.offset.x),ho(T.y,C.offset.y))}return T}removeElementScroll(b){var v;const T=Tn();if(Gr(T,b),(v=this.scroll)!=null&&v.wasRoot)return T;for(let y=0;y<this.path.length;y++){const C=this.path[y],{scroll:N,options:_}=C;C!==this.root&&N&&_.layoutScroll&&(N.wasRoot&&Gr(T,b),ho(T.x,N.offset.x),ho(T.y,N.offset.y))}return T}applyTransform(b,T=!1){const v=Tn();Gr(v,b);for(let y=0;y<this.path.length;y++){const C=this.path[y];!T&&C.options.layoutScroll&&C.scroll&&C!==C.root&&mo(v,{x:-C.scroll.offset.x,y:-C.scroll.offset.y}),ma(C.latestValues)&&mo(v,C.latestValues)}return ma(this.latestValues)&&mo(v,this.latestValues),v}removeTransform(b){const T=Tn();Gr(T,b);for(let v=0;v<this.path.length;v++){const y=this.path[v];if(!y.instance||!ma(y.latestValues))continue;Fd(y.latestValues)&&y.updateSnapshot();const C=Tn(),N=y.measurePageBox();Gr(C,N),a2(T,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,C)}return ma(this.latestValues)&&a2(T,this.latestValues),T}setTargetDelta(b){this.targetDelta=b,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(b){this.options={...this.options,...b,crossfade:b.crossfade!==void 0?b.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(b=!1){var _;const T=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=T.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=T.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=T.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==T;if(!(b||v&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:C,layoutId:N}=this.options;if(!(!this.layout||!(C||N))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),_l(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),Gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gr(this.target,this.layout.layoutBox),Iy(this.target,this.targetDelta)):Gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),_l(this.relativeTargetOrigin,this.target,P.target),Gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fd(this.parent.latestValues)||_y(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var L;const b=this.getLead(),T=!!this.resumingFrom||this!==b;let v=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(v=!1),T&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(v=!1),v)return;const{layout:y,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||C))return;Gr(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,_=this.treeScale.y;E8(this.layoutCorrected,this.treeScale,this.path,T),b.layout&&!b.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(b.target=b.layout.layoutBox,b.targetWithTransforms=Tn());const{target:P}=b;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r2(this.prevProjectionDelta.x,this.projectionDelta.x),r2(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==N||this.treeScale.y!==_||!f2(this.projectionDelta.x,this.prevProjectionDelta.x)||!f2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(b=!0){var T;if((T=this.options.visualElement)==null||T.scheduleRender(),b){const v=this.getStack();v&&v.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fo(),this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo()}setAnimationOrigin(b,T=!1){const v=this.snapshot,y=v?v.latestValues:{},C={...this.latestValues},N=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!T;const _=Tn(),P=v?v.source:void 0,L=this.layout?this.layout.source:void 0,H=P!==L,V=this.getStack(),Y=!V||V.members.length<=1,Q=!!(H&&!Y&&this.options.crossfade===!0&&!this.path.some(xS));this.animationProgress=0;let G;this.mixTargetDelta=oe=>{const $=oe/1e3;g2(N.x,b.x,$),g2(N.y,b.y,$),this.setTargetDelta(N),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_l(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gS(this.relativeTarget,this.relativeTargetOrigin,_,$),G&&$8(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Tn()),Gr(G,this.relativeTarget)),H&&(this.animationValues=C,q8(C,y,this.latestValues,$,Q,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(b){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=un.update(()=>{Eu.hasAnimatedSinceResize=!0,this.currentAnimation=V8(0,d2,{...b,onUpdate:T=>{this.mixTargetDelta(T),b.onUpdate&&b.onUpdate(T)},onStop:()=>{},onComplete:()=>{b.onComplete&&b.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const b=this.getStack();b&&b.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const b=this.getLead();let{targetWithTransforms:T,target:v,layout:y,latestValues:C}=b;if(!(!T||!v||!y)){if(this!==b&&this.layout&&y&&Xy(this.options.animationType,this.layout.layoutBox,y.layoutBox)){v=this.target||Tn();const N=hr(this.layout.layoutBox.x);v.x.min=b.target.x.min,v.x.max=v.x.min+N;const _=hr(this.layout.layoutBox.y);v.y.min=b.target.y.min,v.y.max=v.y.min+_}Gr(T,v),mo(T,C),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,T,C)}}registerSharedNode(b,T){this.sharedNodes.has(b)||this.sharedNodes.set(b,new eS),this.sharedNodes.get(b).add(T);const y=T.options.initialPromotionConfig;T.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(T):void 0})}isLead(){const b=this.getStack();return b?b.lead===this:!0}getLead(){var T;const{layoutId:b}=this.options;return b?((T=this.getStack())==null?void 0:T.lead)||this:this}getPrevLead(){var T;const{layoutId:b}=this.options;return b?(T=this.getStack())==null?void 0:T.prevLead:void 0}getStack(){const{layoutId:b}=this.options;if(b)return this.root.sharedNodes.get(b)}promote({needsReset:b,transition:T,preserveFollowOpacity:v}={}){const y=this.getStack();y&&y.promote(this,v),b&&(this.projectionDelta=void 0,this.needsReset=!0),T&&this.setOptions({transition:T})}relegate(){const b=this.getStack();return b?b.relegate(this):!1}resetSkewAndRotation(){const{visualElement:b}=this.options;if(!b)return;let T=!1;const{latestValues:v}=b;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(T=!0),!T)return;const y={};v.z&&ud("z",b,y,this.animationValues);for(let C=0;C<cd.length;C++)ud(`rotate${cd[C]}`,b,y,this.animationValues),ud(`skew${cd[C]}`,b,y,this.animationValues);b.render();for(const C in y)b.setStaticValue(C,y[C]),this.animationValues&&(this.animationValues[C]=y[C]);b.scheduleRender()}getProjectionStyles(b){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nS;const T={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,T.opacity="",T.pointerEvents=vu(b==null?void 0:b.pointerEvents)||"",T.transform=v?v(this.latestValues,""):"none",T;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=vu(b==null?void 0:b.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(P.transform=v?v({},""):"none",this.hasProjected=!1),P}const C=y.animationValues||y.latestValues;this.applyTransformsToTarget(),T.transform=tS(this.projectionDeltaWithTransform,this.treeScale,C),v&&(T.transform=v(C,T.transform));const{x:N,y:_}=this.projectionDelta;T.transformOrigin=`${N.origin*100}% ${_.origin*100}% 0`,y.animationValues?T.opacity=y===this?C.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:T.opacity=y===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const P in Ul){if(C[P]===void 0)continue;const{correct:L,applyTo:H,isCSSVariable:V}=Ul[P],Y=T.transform==="none"?C[P]:L(C[P],y);if(H){const Q=H.length;for(let G=0;G<Q;G++)T[H[G]]=Y}else V?this.options.visualElement.renderState.vars[P]=Y:T[P]=Y}return this.options.layoutId&&(T.pointerEvents=y===this?vu(b==null?void 0:b.pointerEvents)||"":"none"),T}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(b=>{var T;return(T=b.currentAnimation)==null?void 0:T.stop()}),this.root.nodes.forEach(h2),this.root.sharedNodes.clear()}}}function iS(r){r.updateLayout()}function sS(r){var l;const s=((l=r.resumeFrom)==null?void 0:l.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&s&&r.hasListeners("didUpdate")){const{layoutBox:f,measuredBox:m}=r.layout,{animationType:x}=r.options,b=s.source!==r.layout.source;x==="size"?Xr(N=>{const _=b?s.measuredBox[N]:s.layoutBox[N],P=hr(_);_.min=f[N].min,_.max=_.min+P}):Xy(x,s.layoutBox,f)&&Xr(N=>{const _=b?s.measuredBox[N]:s.layoutBox[N],P=hr(f[N]);_.max=_.min+P,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[N].max=r.relativeTarget[N].min+P)});const T=fo();Dl(T,f,s.layoutBox);const v=fo();b?Dl(v,r.applyTransform(m,!0),s.measuredBox):Dl(v,f,s.layoutBox);const y=!Vy(T);let C=!1;if(!r.resumeFrom){const N=r.getClosestProjectingParent();if(N&&!N.resumeFrom){const{snapshot:_,layout:P}=N;if(_&&P){const L=Tn();_l(L,s.layoutBox,_.layoutBox);const H=Tn();_l(H,f,P.layoutBox),zy(L,H)||(C=!0),N.options.layoutRoot&&(r.relativeTarget=H,r.relativeTargetOrigin=L,r.relativeParent=N)}}}r.notifyListeners("didUpdate",{layout:f,snapshot:s,delta:v,layoutDelta:T,hasLayoutChanged:y,hasRelativeLayoutChanged:C})}else if(r.isLead()){const{onExitComplete:f}=r.options;f&&f()}r.options.transition=void 0}function aS(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function oS(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function lS(r){r.clearSnapshot()}function h2(r){r.clearMeasurements()}function cS(r){r.isLayoutDirty=!1}function uS(r){const{visualElement:s}=r.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),r.resetTransform()}function m2(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function fS(r){r.resolveTargetDelta()}function dS(r){r.calcProjection()}function hS(r){r.resetSkewAndRotation()}function mS(r){r.removeLeadSnapshot()}function g2(r,s,l){r.translate=cn(s.translate,0,l),r.scale=cn(s.scale,1,l),r.origin=s.origin,r.originPoint=s.originPoint}function x2(r,s,l,f){r.min=cn(s.min,l.min,f),r.max=cn(s.max,l.max,f)}function gS(r,s,l,f){x2(r.x,s.x,l.x,f),x2(r.y,s.y,l.y,f)}function xS(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const pS={duration:.45,ease:[.4,0,.1,1]},p2=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),y2=p2("applewebkit/")&&!p2("chrome/")?Math.round:Yr;function w2(r){r.min=y2(r.min),r.max=y2(r.max)}function yS(r){w2(r.x),w2(r.y)}function Xy(r,s,l){return r==="position"||r==="preserve-aspect"&&!b8(u2(s),u2(l),.2)}function wS(r){var s;return r!==r.root&&((s=r.scroll)==null?void 0:s.wasRoot)}const bS=Gy({attachResizeListener:(r,s)=>zl(r,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fd={current:void 0},Yy=Gy({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!fd.current){const r=new bS({});r.mount(window),r.setOptions({layoutScroll:!0}),fd.current=r}return fd.current},resetTransform:(r,s)=>{r.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),vS={pan:{Feature:P8},drag:{Feature:j8,ProjectionNode:Yy,MeasureLayout:ky}};function b2(r,s,l){const{props:f}=r;r.animationState&&f.whileHover&&r.animationState.setActive("whileHover",l==="Start");const m="onHover"+l,x=f[m];x&&un.postRender(()=>x(s,Kl(s)))}class ES extends Vs{mount(){const{current:s}=this.node;s&&(this.unmount=JA(s,(l,f)=>(b2(this.node,f,"Start"),m=>b2(this.node,m,"End"))))}unmount(){}}class AS extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v2(r,s,l){const{props:f}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&f.whileTap&&r.animationState.setActive("whileTap",l==="Start");const m="onTap"+(l==="End"?"":l),x=f[m];x&&un.postRender(()=>x(s,Kl(s)))}class CS extends Vs{mount(){const{current:s}=this.node;s&&(this.unmount=nC(s,(l,f)=>(v2(this.node,f,"Start"),(m,{success:x})=>v2(this.node,m,x?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zd=new WeakMap,dd=new WeakMap,SS=r=>{const s=zd.get(r.target);s&&s(r)},TS=r=>{r.forEach(SS)};function NS({root:r,...s}){const l=r||document;dd.has(l)||dd.set(l,{});const f=dd.get(l),m=JSON.stringify(s);return f[m]||(f[m]=new IntersectionObserver(TS,{root:r,...s})),f[m]}function RS(r,s,l){const f=NS(s);return zd.set(r,l),f.observe(r),()=>{zd.delete(r),f.unobserve(r)}}const OS={some:0,all:1};class MS extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:l,margin:f,amount:m="some",once:x}=s,b={root:l?l.current:void 0,rootMargin:f,threshold:typeof m=="number"?m:OS[m]},T=v=>{const{isIntersecting:y}=v;if(this.isInView===y||(this.isInView=y,x&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:C,onViewportLeave:N}=this.node.getProps(),_=y?C:N;_&&_(v)};return RS(this.node.current,b,T)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:l}=this.node;["amount","margin","root"].some(DS(s,l))&&this.startObserver()}unmount(){}}function DS({viewport:r={}},{viewport:s={}}={}){return l=>r[l]!==s[l]}const _S={inView:{Feature:MS},tap:{Feature:CS},focus:{Feature:AS},hover:{Feature:ES}},IS={layout:{ProjectionNode:Yy,MeasureLayout:ky}},Hd={current:null},qy={current:!1};function BS(){if(qy.current=!0,!!oh)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),s=()=>Hd.current=r.matches;r.addListener(s),s()}else Hd.current=!1}const LS=new WeakMap;function jS(r,s,l){for(const f in s){const m=s[f],x=l[f];if(cr(m))r.addValue(f,m);else if(cr(x))r.addValue(f,kl(m,{owner:r}));else if(x!==m)if(r.hasValue(f)){const b=r.getValue(f);b.liveStyle===!0?b.jump(m):b.hasAnimated||b.set(m)}else{const b=r.getStaticValue(f);r.addValue(f,kl(b!==void 0?b:m,{owner:r}))}}for(const f in l)s[f]===void 0&&r.removeValue(f);return s}const E2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PS{scrapeMotionValuesFromProps(s,l,f){return{}}constructor({parent:s,props:l,presenceContext:f,reducedMotionConfig:m,blockInitialAnimation:x,visualState:b},T={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=vr.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,un.render(this.render,!1,!0))};const{latestValues:v,renderState:y}=b;this.latestValues=v,this.baseTarget={...v},this.initialValues=l.initial?{...v}:{},this.renderState=y,this.parent=s,this.props=l,this.presenceContext=f,this.depth=s?s.depth+1:0,this.reducedMotionConfig=m,this.options=T,this.blockInitialAnimation=!!x,this.isControllingVariants=qu(l),this.isVariantNode=my(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:C,...N}=this.scrapeMotionValuesFromProps(l,{},this);for(const _ in N){const P=N[_];v[_]!==void 0&&cr(P)&&P.set(v[_],!1)}}mount(s){this.current=s,LS.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,f)=>this.bindToMotionValue(f,l)),qy.current||BS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const l=this.features[s];l&&(l.unmount(),l.isMounted=!1)}this.current=null}bindToMotionValue(s,l){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const f=To.has(s);f&&this.onBindTransform&&this.onBindTransform();const m=l.on("change",T=>{this.latestValues[s]=T,this.props.onUpdate&&un.preRender(this.notifyUpdate),f&&this.projection&&(this.projection.isTransformDirty=!0)}),x=l.on("renderRequest",this.scheduleRender);let b;window.MotionCheckAppearSync&&(b=window.MotionCheckAppearSync(this,s,l)),this.valueSubscriptions.set(s,()=>{m(),x(),b&&b(),l.owner&&l.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in yo){const l=yo[s];if(!l)continue;const{isEnabled:f,Feature:m}=l;if(!this.features[s]&&m&&f(this.props)&&(this.features[s]=new m(this)),this.features[s]){const x=this.features[s];x.isMounted?x.update():(x.mount(),x.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,l){this.latestValues[s]=l}update(s,l){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let f=0;f<E2.length;f++){const m=E2[f];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const x="on"+m,b=s[x];b&&(this.propEventSubscriptions[m]=this.on(m,b))}this.prevMotionValues=jS(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(s),()=>l.variantChildren.delete(s)}addValue(s,l){const f=this.values.get(s);l!==f&&(f&&this.removeValue(s),this.bindToMotionValue(s,l),this.values.set(s,l),this.latestValues[s]=l.get())}removeValue(s){this.values.delete(s);const l=this.valueSubscriptions.get(s);l&&(l(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,l){if(this.props.values&&this.props.values[s])return this.props.values[s];let f=this.values.get(s);return f===void 0&&l!==void 0&&(f=kl(l===null?void 0:l,{owner:this}),this.addValue(s,f)),f}readValue(s,l){let f=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return f!=null&&(typeof f=="string"&&(Cp(f)||Sp(f))?f=parseFloat(f):!aC(f)&&Fs.test(l)&&(f=oy(s,l)),this.setBaseTarget(s,cr(f)?f.get():f)),cr(f)?f.get():f}setBaseTarget(s,l){this.baseTarget[s]=l}getBaseTarget(s){var x;const{initial:l}=this.props;let f;if(typeof l=="string"||typeof l=="object"){const b=Lh(this.props,l,(x=this.presenceContext)==null?void 0:x.custom);b&&(f=b[s])}if(l&&f!==void 0)return f;const m=this.getBaseTargetFromProps(this.props,s);return m!==void 0&&!cr(m)?m:this.initialValues[s]!==void 0&&f===void 0?void 0:this.baseTarget[s]}on(s,l){return this.events[s]||(this.events[s]=new hh),this.events[s].add(l)}notify(s,...l){this.events[s]&&this.events[s].notify(...l)}}class Wy extends PS{constructor(){super(...arguments),this.KeyframeResolver=ZA}sortInstanceNodePosition(s,l){return s.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(s,l){return s.style?s.style[l]:void 0}removeValueFromRenderState(s,{vars:l,style:f}){delete l[s],delete f[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;cr(s)&&(this.childSubscription=s.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Zy(r,{style:s,vars:l},f,m){Object.assign(r.style,s,m&&m.getProjectionStyles(f));for(const x in l)r.style.setProperty(x,l[x])}function kS(r){return window.getComputedStyle(r)}class FS extends Wy{constructor(){super(...arguments),this.type="html",this.renderInstance=Zy}readValueFromInstance(s,l){if(To.has(l))return mA(s,l);{const f=kS(s),m=(xh(l)?f.getPropertyValue(l):f[l])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(s,{transformPagePoint:l}){return By(s,l)}build(s,l,f){_h(s,l,f.transformTemplate)}scrapeMotionValuesFromProps(s,l,f){return jh(s,l,f)}}const Ky=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function US(r,s,l,f){Zy(r,s,void 0,f);for(const m in s.attrs)r.setAttribute(Ky.has(m)?m:Dh(m),s.attrs[m])}class VS extends Wy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(s,l){return s[l]}readValueFromInstance(s,l){if(To.has(l)){const f=ay(l);return f&&f.default||0}return l=Ky.has(l)?l:Dh(l),s.getAttribute(l)}scrapeMotionValuesFromProps(s,l,f){return Cy(s,l,f)}build(s,l,f){by(s,l,this.isSVGTag,f.transformTemplate)}renderInstance(s,l,f,m){US(s,l,f,m)}mount(s){this.isSVGTag=Ey(s.tagName),super.mount(s)}}const zS=(r,s)=>Bh(r)?new VS(s):new FS(s,{allowProjection:r!==U.Fragment}),HS=UC({...d8,..._S,...vS,...IS},zS),Mt=fC(HS);var Ql={};(function r(s,l,f,m){var x=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL),b=typeof Path2D=="function"&&typeof DOMMatrix=="function",T=function(){if(!s.OffscreenCanvas)return!1;var B=new OffscreenCanvas(1,1),F=B.getContext("2d");F.fillRect(0,0,1,1);var de=B.transferToImageBitmap();try{F.createPattern(de,"no-repeat")}catch{return!1}return!0}();function v(){}function y(B){var F=l.exports.Promise,de=F!==void 0?F:s.Promise;return typeof de=="function"?new de(B):(B(v,v),null)}var C=function(B,F){return{transform:function(de){if(B)return de;if(F.has(de))return F.get(de);var me=new OffscreenCanvas(de.width,de.height),Ee=me.getContext("2d");return Ee.drawImage(de,0,0),F.set(de,me),me},clear:function(){F.clear()}}}(T,new Map),N=function(){var B=Math.floor(16.666666666666668),F,de,me={},Ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(F=function(De){var ge=Math.random();return me[ge]=requestAnimationFrame(function Ue(Ie){Ee===Ie||Ee+B-1<Ie?(Ee=Ie,delete me[ge],De()):me[ge]=requestAnimationFrame(Ue)}),ge},de=function(De){me[De]&&cancelAnimationFrame(me[De])}):(F=function(De){return setTimeout(De,B)},de=function(De){return clearTimeout(De)}),{frame:F,cancel:de}}(),_=function(){var B,F,de={};function me(Ee){function De(ge,Ue){Ee.postMessage({options:ge||{},callback:Ue})}Ee.init=function(Ue){var Ie=Ue.transferControlToOffscreen();Ee.postMessage({canvas:Ie},[Ie])},Ee.fire=function(Ue,Ie,at){if(F)return De(Ue,null),F;var dt=Math.random().toString(36).slice(2);return F=y(function(Ke){function Ct(Xe){Xe.data.callback===dt&&(delete de[dt],Ee.removeEventListener("message",Ct),F=null,C.clear(),at(),Ke())}Ee.addEventListener("message",Ct),De(Ue,dt),de[dt]=Ct.bind(null,{data:{callback:dt}})}),F},Ee.reset=function(){Ee.postMessage({reset:!0});for(var Ue in de)de[Ue](),delete de[Ue]}}return function(){if(B)return B;if(!f&&x){var Ee=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([Ee])))}catch(De){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",De),null}me(B)}return B}}(),P={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(B,F){return F?F(B):B}function H(B){return B!=null}function V(B,F,de){return L(B&&H(B[F])?B[F]:P[F],de)}function Y(B){return B<0?0:Math.floor(B)}function Q(B,F){return Math.floor(Math.random()*(F-B))+B}function G(B){return parseInt(B,16)}function oe(B){return B.map($)}function $(B){var F=String(B).replace(/[^0-9a-f]/gi,"");return F.length<6&&(F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2]),{r:G(F.substring(0,2)),g:G(F.substring(2,4)),b:G(F.substring(4,6))}}function pe(B){var F=V(B,"origin",Object);return F.x=V(F,"x",Number),F.y=V(F,"y",Number),F}function ae(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function ve(B){var F=B.getBoundingClientRect();B.width=F.width,B.height=F.height}function ue(B){var F=document.createElement("canvas");return F.style.position="fixed",F.style.top="0px",F.style.left="0px",F.style.pointerEvents="none",F.style.zIndex=B,F}function Je(B,F,de,me,Ee,De,ge,Ue,Ie){B.save(),B.translate(F,de),B.rotate(De),B.scale(me,Ee),B.arc(0,0,1,ge,Ue,Ie),B.restore()}function Ye(B){var F=B.angle*(Math.PI/180),de=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-F+(.5*de-Math.random()*de),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function Be(B,F){F.x+=Math.cos(F.angle2D)*F.velocity+F.drift,F.y+=Math.sin(F.angle2D)*F.velocity+F.gravity,F.velocity*=F.decay,F.flat?(F.wobble=0,F.wobbleX=F.x+10*F.scalar,F.wobbleY=F.y+10*F.scalar,F.tiltSin=0,F.tiltCos=0,F.random=1):(F.wobble+=F.wobbleSpeed,F.wobbleX=F.x+10*F.scalar*Math.cos(F.wobble),F.wobbleY=F.y+10*F.scalar*Math.sin(F.wobble),F.tiltAngle+=.1,F.tiltSin=Math.sin(F.tiltAngle),F.tiltCos=Math.cos(F.tiltAngle),F.random=Math.random()+2);var de=F.tick++/F.totalTicks,me=F.x+F.random*F.tiltCos,Ee=F.y+F.random*F.tiltSin,De=F.wobbleX+F.random*F.tiltCos,ge=F.wobbleY+F.random*F.tiltSin;if(B.fillStyle="rgba("+F.color.r+", "+F.color.g+", "+F.color.b+", "+(1-de)+")",B.beginPath(),b&&F.shape.type==="path"&&typeof F.shape.path=="string"&&Array.isArray(F.shape.matrix))B.fill(ie(F.shape.path,F.shape.matrix,F.x,F.y,Math.abs(De-me)*.1,Math.abs(ge-Ee)*.1,Math.PI/10*F.wobble));else if(F.shape.type==="bitmap"){var Ue=Math.PI/10*F.wobble,Ie=Math.abs(De-me)*.1,at=Math.abs(ge-Ee)*.1,dt=F.shape.bitmap.width*F.scalar,Ke=F.shape.bitmap.height*F.scalar,Ct=new DOMMatrix([Math.cos(Ue)*Ie,Math.sin(Ue)*Ie,-Math.sin(Ue)*at,Math.cos(Ue)*at,F.x,F.y]);Ct.multiplySelf(new DOMMatrix(F.shape.matrix));var Xe=B.createPattern(C.transform(F.shape.bitmap),"no-repeat");Xe.setTransform(Ct),B.globalAlpha=1-de,B.fillStyle=Xe,B.fillRect(F.x-dt/2,F.y-Ke/2,dt,Ke),B.globalAlpha=1}else if(F.shape==="circle")B.ellipse?B.ellipse(F.x,F.y,Math.abs(De-me)*F.ovalScalar,Math.abs(ge-Ee)*F.ovalScalar,Math.PI/10*F.wobble,0,2*Math.PI):Je(B,F.x,F.y,Math.abs(De-me)*F.ovalScalar,Math.abs(ge-Ee)*F.ovalScalar,Math.PI/10*F.wobble,0,2*Math.PI);else if(F.shape==="star")for(var rt=Math.PI/2*3,xt=4*F.scalar,ye=8*F.scalar,Pe=F.x,Le=F.y,qe=5,Jt=Math.PI/qe;qe--;)Pe=F.x+Math.cos(rt)*ye,Le=F.y+Math.sin(rt)*ye,B.lineTo(Pe,Le),rt+=Jt,Pe=F.x+Math.cos(rt)*xt,Le=F.y+Math.sin(rt)*xt,B.lineTo(Pe,Le),rt+=Jt;else B.moveTo(Math.floor(F.x),Math.floor(F.y)),B.lineTo(Math.floor(F.wobbleX),Math.floor(Ee)),B.lineTo(Math.floor(De),Math.floor(ge)),B.lineTo(Math.floor(me),Math.floor(F.wobbleY));return B.closePath(),B.fill(),F.tick<F.totalTicks}function _e(B,F,de,me,Ee){var De=F.slice(),ge=B.getContext("2d"),Ue,Ie,at=y(function(dt){function Ke(){Ue=Ie=null,ge.clearRect(0,0,me.width,me.height),C.clear(),Ee(),dt()}function Ct(){f&&!(me.width===m.width&&me.height===m.height)&&(me.width=B.width=m.width,me.height=B.height=m.height),!me.width&&!me.height&&(de(B),me.width=B.width,me.height=B.height),ge.clearRect(0,0,me.width,me.height),De=De.filter(function(Xe){return Be(ge,Xe)}),De.length?Ue=N.frame(Ct):Ke()}Ue=N.frame(Ct),Ie=Ke});return{addFettis:function(dt){return De=De.concat(dt),at},canvas:B,promise:at,reset:function(){Ue&&N.cancel(Ue),Ie&&Ie()}}}function Fe(B,F){var de=!B,me=!!V(F||{},"resize"),Ee=!1,De=V(F,"disableForReducedMotion",Boolean),ge=x&&!!V(F||{},"useWorker"),Ue=ge?_():null,Ie=de?ae:ve,at=B&&Ue?!!B.__confetti_initialized:!1,dt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ke;function Ct(rt,xt,ye){for(var Pe=V(rt,"particleCount",Y),Le=V(rt,"angle",Number),qe=V(rt,"spread",Number),Jt=V(rt,"startVelocity",Number),ke=V(rt,"decay",Number),si=V(rt,"gravity",Number),ai=V(rt,"drift",Number),Nn=V(rt,"colors",oe),oi=V(rt,"ticks",Number),an=V(rt,"shapes"),Rn=V(rt,"scalar"),wn=!!V(rt,"flat"),Tt=pe(rt),_i=Pe,Br=[],is=B.width*Tt.x,Pt=B.height*Tt.y;_i--;)Br.push(Ye({x:is,y:Pt,angle:Le,spread:qe,startVelocity:Jt,color:Nn[_i%Nn.length],shape:an[Q(0,an.length)],ticks:oi,decay:ke,gravity:si,drift:ai,scalar:Rn,flat:wn}));return Ke?Ke.addFettis(Br):(Ke=_e(B,Br,Ie,xt,ye),Ke.promise)}function Xe(rt){var xt=De||V(rt,"disableForReducedMotion",Boolean),ye=V(rt,"zIndex",Number);if(xt&&dt)return y(function(Jt){Jt()});de&&Ke?B=Ke.canvas:de&&!B&&(B=ue(ye),document.body.appendChild(B)),me&&!at&&Ie(B);var Pe={width:B.width,height:B.height};Ue&&!at&&Ue.init(B),at=!0,Ue&&(B.__confetti_initialized=!0);function Le(){if(Ue){var Jt={getBoundingClientRect:function(){if(!de)return B.getBoundingClientRect()}};Ie(Jt),Ue.postMessage({resize:{width:Jt.width,height:Jt.height}});return}Pe.width=Pe.height=null}function qe(){Ke=null,me&&(Ee=!1,s.removeEventListener("resize",Le)),de&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,at=!1)}return me&&!Ee&&(Ee=!0,s.addEventListener("resize",Le,!1)),Ue?Ue.fire(rt,Pe,qe):Ct(rt,Pe,qe)}return Xe.reset=function(){Ue&&Ue.reset(),Ke&&Ke.reset()},Xe}var K;function ee(){return K||(K=Fe(null,{useWorker:!0,resize:!0})),K}function ie(B,F,de,me,Ee,De,ge){var Ue=new Path2D(B),Ie=new Path2D;Ie.addPath(Ue,new DOMMatrix(F));var at=new Path2D;return at.addPath(Ie,new DOMMatrix([Math.cos(ge)*Ee,Math.sin(ge)*Ee,-Math.sin(ge)*De,Math.cos(ge)*De,de,me])),at}function Me(B){if(!b)throw new Error("path confetti are not supported in this browser");var F,de;typeof B=="string"?F=B:(F=B.path,de=B.matrix);var me=new Path2D(F),Ee=document.createElement("canvas"),De=Ee.getContext("2d");if(!de){for(var ge=1e3,Ue=ge,Ie=ge,at=0,dt=0,Ke,Ct,Xe=0;Xe<ge;Xe+=2)for(var rt=0;rt<ge;rt+=2)De.isPointInPath(me,Xe,rt,"nonzero")&&(Ue=Math.min(Ue,Xe),Ie=Math.min(Ie,rt),at=Math.max(at,Xe),dt=Math.max(dt,rt));Ke=at-Ue,Ct=dt-Ie;var xt=10,ye=Math.min(xt/Ke,xt/Ct);de=[ye,0,0,ye,-Math.round(Ke/2+Ue)*ye,-Math.round(Ct/2+Ie)*ye]}return{type:"path",path:F,matrix:de}}function je(B){var F,de=1,me="#000000",Ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?F=B:(F=B.text,de="scalar"in B?B.scalar:de,Ee="fontFamily"in B?B.fontFamily:Ee,me="color"in B?B.color:me);var De=10*de,ge=""+De+"px "+Ee,Ue=new OffscreenCanvas(De,De),Ie=Ue.getContext("2d");Ie.font=ge;var at=Ie.measureText(F),dt=Math.ceil(at.actualBoundingBoxRight+at.actualBoundingBoxLeft),Ke=Math.ceil(at.actualBoundingBoxAscent+at.actualBoundingBoxDescent),Ct=2,Xe=at.actualBoundingBoxLeft+Ct,rt=at.actualBoundingBoxAscent+Ct;dt+=Ct+Ct,Ke+=Ct+Ct,Ue=new OffscreenCanvas(dt,Ke),Ie=Ue.getContext("2d"),Ie.font=ge,Ie.fillStyle=me,Ie.fillText(F,Xe,rt);var xt=1/de;return{type:"bitmap",bitmap:Ue.transferToImageBitmap(),matrix:[xt,0,0,xt,-dt*xt/2,-Ke*xt/2]}}l.exports=function(){return ee().apply(this,arguments)},l.exports.reset=function(){ee().reset()},l.exports.create=Fe,l.exports.shapeFromPath=Me,l.exports.shapeFromText=je})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ql,!1);const hd=Ql.exports;Ql.exports.create;var GS=Object.defineProperty,Du=Object.getOwnPropertySymbols,Qy=Object.prototype.hasOwnProperty,Jy=Object.prototype.propertyIsEnumerable,A2=(r,s,l)=>s in r?GS(r,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[s]=l,Gd=(r,s)=>{for(var l in s||(s={}))Qy.call(s,l)&&A2(r,l,s[l]);if(Du)for(var l of Du(s))Jy.call(s,l)&&A2(r,l,s[l]);return r},Xd=(r,s)=>{var l={};for(var f in r)Qy.call(r,f)&&s.indexOf(f)<0&&(l[f]=r[f]);if(r!=null&&Du)for(var f of Du(r))s.indexOf(f)<0&&Jy.call(r,f)&&(l[f]=r[f]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var va;(r=>{const s=class At{constructor(v,y,C,N){if(this.version=v,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],v<At.MIN_VERSION||v>At.MAX_VERSION)throw new RangeError("Version value out of range");if(N<-1||N>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let _=[];for(let L=0;L<this.size;L++)_.push(!1);for(let L=0;L<this.size;L++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const P=this.addEccAndInterleave(C);if(this.drawCodewords(P),N==-1){let L=1e9;for(let H=0;H<8;H++){this.applyMask(H),this.drawFormatBits(H);const V=this.getPenaltyScore();V<L&&(N=H,L=V),this.applyMask(H)}}m(0<=N&&N<=7),this.mask=N,this.applyMask(N),this.drawFormatBits(N),this.isFunction=[]}static encodeText(v,y){const C=r.QrSegment.makeSegments(v);return At.encodeSegments(C,y)}static encodeBinary(v,y){const C=r.QrSegment.makeBytes(v);return At.encodeSegments([C],y)}static encodeSegments(v,y,C=1,N=40,_=-1,P=!0){if(!(At.MIN_VERSION<=C&&C<=N&&N<=At.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let L,H;for(L=C;;L++){const G=At.getNumDataCodewords(L,y)*8,oe=b.getTotalBits(v,L);if(oe<=G){H=oe;break}if(L>=N)throw new RangeError("Data too long")}for(const G of[At.Ecc.MEDIUM,At.Ecc.QUARTILE,At.Ecc.HIGH])P&&H<=At.getNumDataCodewords(L,G)*8&&(y=G);let V=[];for(const G of v){l(G.mode.modeBits,4,V),l(G.numChars,G.mode.numCharCountBits(L),V);for(const oe of G.getData())V.push(oe)}m(V.length==H);const Y=At.getNumDataCodewords(L,y)*8;m(V.length<=Y),l(0,Math.min(4,Y-V.length),V),l(0,(8-V.length%8)%8,V),m(V.length%8==0);for(let G=236;V.length<Y;G^=253)l(G,8,V);let Q=[];for(;Q.length*8<V.length;)Q.push(0);return V.forEach((G,oe)=>Q[oe>>>3]|=G<<7-(oe&7)),new At(L,y,Q,_)}getModule(v,y){return 0<=v&&v<this.size&&0<=y&&y<this.size&&this.modules[y][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let C=0;C<this.size;C++)this.setFunctionModule(6,C,C%2==0),this.setFunctionModule(C,6,C%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),y=v.length;for(let C=0;C<y;C++)for(let N=0;N<y;N++)C==0&&N==0||C==0&&N==y-1||C==y-1&&N==0||this.drawAlignmentPattern(v[C],v[N]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const y=this.errorCorrectionLevel.formatBits<<3|v;let C=y;for(let _=0;_<10;_++)C=C<<1^(C>>>9)*1335;const N=(y<<10|C)^21522;m(N>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,f(N,_));this.setFunctionModule(8,7,f(N,6)),this.setFunctionModule(8,8,f(N,7)),this.setFunctionModule(7,8,f(N,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,f(N,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,f(N,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,f(N,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let C=0;C<12;C++)v=v<<1^(v>>>11)*7973;const y=this.version<<12|v;m(y>>>18==0);for(let C=0;C<18;C++){const N=f(y,C),_=this.size-11+C%3,P=Math.floor(C/3);this.setFunctionModule(_,P,N),this.setFunctionModule(P,_,N)}}drawFinderPattern(v,y){for(let C=-4;C<=4;C++)for(let N=-4;N<=4;N++){const _=Math.max(Math.abs(N),Math.abs(C)),P=v+N,L=y+C;0<=P&&P<this.size&&0<=L&&L<this.size&&this.setFunctionModule(P,L,_!=2&&_!=4)}}drawAlignmentPattern(v,y){for(let C=-2;C<=2;C++)for(let N=-2;N<=2;N++)this.setFunctionModule(v+N,y+C,Math.max(Math.abs(N),Math.abs(C))!=1)}setFunctionModule(v,y,C){this.modules[y][v]=C,this.isFunction[y][v]=!0}addEccAndInterleave(v){const y=this.version,C=this.errorCorrectionLevel;if(v.length!=At.getNumDataCodewords(y,C))throw new RangeError("Invalid argument");const N=At.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][y],_=At.ECC_CODEWORDS_PER_BLOCK[C.ordinal][y],P=Math.floor(At.getNumRawDataModules(y)/8),L=N-P%N,H=Math.floor(P/N);let V=[];const Y=At.reedSolomonComputeDivisor(_);for(let G=0,oe=0;G<N;G++){let $=v.slice(oe,oe+H-_+(G<L?0:1));oe+=$.length;const pe=At.reedSolomonComputeRemainder($,Y);G<L&&$.push(0),V.push($.concat(pe))}let Q=[];for(let G=0;G<V[0].length;G++)V.forEach((oe,$)=>{(G!=H-_||$>=L)&&Q.push(oe[G])});return m(Q.length==P),Q}drawCodewords(v){if(v.length!=Math.floor(At.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(let N=0;N<this.size;N++)for(let _=0;_<2;_++){const P=C-_,H=(C+1&2)==0?this.size-1-N:N;!this.isFunction[H][P]&&y<v.length*8&&(this.modules[H][P]=f(v[y>>>3],7-(y&7)),y++)}}m(y==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let C=0;C<this.size;C++){let N;switch(v){case 0:N=(C+y)%2==0;break;case 1:N=y%2==0;break;case 2:N=C%3==0;break;case 3:N=(C+y)%3==0;break;case 4:N=(Math.floor(C/3)+Math.floor(y/2))%2==0;break;case 5:N=C*y%2+C*y%3==0;break;case 6:N=(C*y%2+C*y%3)%2==0;break;case 7:N=((C+y)%2+C*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][C]&&N&&(this.modules[y][C]=!this.modules[y][C])}}getPenaltyScore(){let v=0;for(let _=0;_<this.size;_++){let P=!1,L=0,H=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[_][V]==P?(L++,L==5?v+=At.PENALTY_N1:L>5&&v++):(this.finderPenaltyAddHistory(L,H),P||(v+=this.finderPenaltyCountPatterns(H)*At.PENALTY_N3),P=this.modules[_][V],L=1);v+=this.finderPenaltyTerminateAndCount(P,L,H)*At.PENALTY_N3}for(let _=0;_<this.size;_++){let P=!1,L=0,H=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[V][_]==P?(L++,L==5?v+=At.PENALTY_N1:L>5&&v++):(this.finderPenaltyAddHistory(L,H),P||(v+=this.finderPenaltyCountPatterns(H)*At.PENALTY_N3),P=this.modules[V][_],L=1);v+=this.finderPenaltyTerminateAndCount(P,L,H)*At.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let P=0;P<this.size-1;P++){const L=this.modules[_][P];L==this.modules[_][P+1]&&L==this.modules[_+1][P]&&L==this.modules[_+1][P+1]&&(v+=At.PENALTY_N2)}let y=0;for(const _ of this.modules)y=_.reduce((P,L)=>P+(L?1:0),y);const C=this.size*this.size,N=Math.ceil(Math.abs(y*20-C*10)/C)-1;return m(0<=N&&N<=9),v+=N*At.PENALTY_N4,m(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let C=[6];for(let N=this.size-7;C.length<v;N-=y)C.splice(1,0,N);return C}}static getNumRawDataModules(v){if(v<At.MIN_VERSION||v>At.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*v+128)*v+64;if(v>=2){const C=Math.floor(v/7)+2;y-=(25*C-10)*C-55,v>=7&&(y-=36)}return m(208<=y&&y<=29648),y}static getNumDataCodewords(v,y){return Math.floor(At.getNumRawDataModules(v)/8)-At.ECC_CODEWORDS_PER_BLOCK[y.ordinal][v]*At.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let y=[];for(let N=0;N<v-1;N++)y.push(0);y.push(1);let C=1;for(let N=0;N<v;N++){for(let _=0;_<y.length;_++)y[_]=At.reedSolomonMultiply(y[_],C),_+1<y.length&&(y[_]^=y[_+1]);C=At.reedSolomonMultiply(C,2)}return y}static reedSolomonComputeRemainder(v,y){let C=y.map(N=>0);for(const N of v){const _=N^C.shift();C.push(0),y.forEach((P,L)=>C[L]^=At.reedSolomonMultiply(P,_))}return C}static reedSolomonMultiply(v,y){if(v>>>8||y>>>8)throw new RangeError("Byte out of range");let C=0;for(let N=7;N>=0;N--)C=C<<1^(C>>>7)*285,C^=(y>>>N&1)*v;return m(C>>>8==0),C}finderPenaltyCountPatterns(v){const y=v[1];m(y<=this.size*3);const C=y>0&&v[2]==y&&v[3]==y*3&&v[4]==y&&v[5]==y;return(C&&v[0]>=y*4&&v[6]>=y?1:0)+(C&&v[6]>=y*4&&v[0]>=y?1:0)}finderPenaltyTerminateAndCount(v,y,C){return v&&(this.finderPenaltyAddHistory(y,C),y=0),y+=this.size,this.finderPenaltyAddHistory(y,C),this.finderPenaltyCountPatterns(C)}finderPenaltyAddHistory(v,y){y[0]==0&&(v+=this.size),y.pop(),y.unshift(v)}};s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=s;function l(T,v,y){if(v<0||v>31||T>>>v)throw new RangeError("Value out of range");for(let C=v-1;C>=0;C--)y.push(T>>>C&1)}function f(T,v){return(T>>>v&1)!=0}function m(T){if(!T)throw new Error("Assertion error")}const x=class xn{constructor(v,y,C){if(this.mode=v,this.numChars=y,this.bitData=C,y<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}static makeBytes(v){let y=[];for(const C of v)l(C,8,y);return new xn(xn.Mode.BYTE,v.length,y)}static makeNumeric(v){if(!xn.isNumeric(v))throw new RangeError("String contains non-numeric characters");let y=[];for(let C=0;C<v.length;){const N=Math.min(v.length-C,3);l(parseInt(v.substring(C,C+N),10),N*3+1,y),C+=N}return new xn(xn.Mode.NUMERIC,v.length,y)}static makeAlphanumeric(v){if(!xn.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],C;for(C=0;C+2<=v.length;C+=2){let N=xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(C))*45;N+=xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(C+1)),l(N,11,y)}return C<v.length&&l(xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(C)),6,y),new xn(xn.Mode.ALPHANUMERIC,v.length,y)}static makeSegments(v){return v==""?[]:xn.isNumeric(v)?[xn.makeNumeric(v)]:xn.isAlphanumeric(v)?[xn.makeAlphanumeric(v)]:[xn.makeBytes(xn.toUtf8ByteArray(v))]}static makeEci(v){let y=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)l(v,8,y);else if(v<16384)l(2,2,y),l(v,14,y);else if(v<1e6)l(6,3,y),l(v,21,y);else throw new RangeError("ECI assignment value out of range");return new xn(xn.Mode.ECI,0,y)}static isNumeric(v){return xn.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return xn.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,y){let C=0;for(const N of v){const _=N.mode.numCharCountBits(y);if(N.numChars>=1<<_)return 1/0;C+=4+_+N.bitData.length}return C}static toUtf8ByteArray(v){v=encodeURI(v);let y=[];for(let C=0;C<v.length;C++)v.charAt(C)!="%"?y.push(v.charCodeAt(C)):(y.push(parseInt(v.substring(C+1,C+3),16)),C+=2);return y}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let b=x;r.QrSegment=x})(va||(va={}));(r=>{(s=>{const l=class{constructor(m,x){this.ordinal=m,this.formatBits=x}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),s.Ecc=l})(r.QrCode||(r.QrCode={}))})(va||(va={}));(r=>{(s=>{const l=class{constructor(m,x){this.modeBits=m,this.numBitsCharCount=x}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),s.Mode=l})(r.QrSegment||(r.QrSegment={}))})(va||(va={}));var go=va;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var XS={L:go.QrCode.Ecc.LOW,M:go.QrCode.Ecc.MEDIUM,Q:go.QrCode.Ecc.QUARTILE,H:go.QrCode.Ecc.HIGH},$y=128,ew="L",tw="#FFFFFF",nw="#000000",rw=!1,iw=1,YS=4,qS=0,WS=.1;function sw(r,s=0){const l=[];return r.forEach(function(f,m){let x=null;f.forEach(function(b,T){if(!b&&x!==null){l.push(`M${x+s} ${m+s}h${T-x}v1H${x+s}z`),x=null;return}if(T===f.length-1){if(!b)return;x===null?l.push(`M${T+s},${m+s} h1v1H${T+s}z`):l.push(`M${x+s},${m+s} h${T+1-x}v1H${x+s}z`);return}b&&x===null&&(x=T)})}),l.join("")}function aw(r,s){return r.slice().map((l,f)=>f<s.y||f>=s.y+s.h?l:l.map((m,x)=>x<s.x||x>=s.x+s.w?m:!1))}function ZS(r,s,l,f){if(f==null)return null;const m=r.length+l*2,x=Math.floor(s*WS),b=m/s,T=(f.width||x)*b,v=(f.height||x)*b,y=f.x==null?r.length/2-T/2:f.x*b,C=f.y==null?r.length/2-v/2:f.y*b,N=f.opacity==null?1:f.opacity;let _=null;if(f.excavate){let L=Math.floor(y),H=Math.floor(C),V=Math.ceil(T+y-L),Y=Math.ceil(v+C-H);_={x:L,y:H,w:V,h:Y}}const P=f.crossOrigin;return{x:y,y:C,h:v,w:T,excavation:_,opacity:N,crossOrigin:P}}function KS(r,s){return s!=null?Math.max(Math.floor(s),0):r?YS:qS}function ow({value:r,level:s,minVersion:l,includeMargin:f,marginSize:m,imageSettings:x,size:b,boostLevel:T}){let v=Bn.useMemo(()=>{const L=(Array.isArray(r)?r:[r]).reduce((H,V)=>(H.push(...go.QrSegment.makeSegments(V)),H),[]);return go.QrCode.encodeSegments(L,XS[s],l,void 0,void 0,T)},[r,s,l,T]);const{cells:y,margin:C,numCells:N,calculatedImageSettings:_}=Bn.useMemo(()=>{let P=v.getModules();const L=KS(f,m),H=P.length+L*2,V=ZS(P,b,L,x);return{cells:P,margin:L,numCells:H,calculatedImageSettings:V}},[v,b,x,f,m]);return{qrcode:v,margin:C,cells:y,numCells:N,calculatedImageSettings:_}}var QS=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),JS=Bn.forwardRef(function(s,l){const f=s,{value:m,size:x=$y,level:b=ew,bgColor:T=tw,fgColor:v=nw,includeMargin:y=rw,minVersion:C=iw,boostLevel:N,marginSize:_,imageSettings:P}=f,H=Xd(f,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:V}=H,Y=Xd(H,["style"]),Q=P==null?void 0:P.src,G=Bn.useRef(null),oe=Bn.useRef(null),$=Bn.useCallback(Fe=>{G.current=Fe,typeof l=="function"?l(Fe):l&&(l.current=Fe)},[l]),[pe,ae]=Bn.useState(!1),{margin:ve,cells:ue,numCells:Je,calculatedImageSettings:Ye}=ow({value:m,level:b,minVersion:C,boostLevel:N,includeMargin:y,marginSize:_,imageSettings:P,size:x});Bn.useEffect(()=>{if(G.current!=null){const Fe=G.current,K=Fe.getContext("2d");if(!K)return;let ee=ue;const ie=oe.current,Me=Ye!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;Me&&Ye.excavation!=null&&(ee=aw(ue,Ye.excavation));const je=window.devicePixelRatio||1;Fe.height=Fe.width=x*je;const B=x/Je*je;K.scale(B,B),K.fillStyle=T,K.fillRect(0,0,Je,Je),K.fillStyle=v,QS?K.fill(new Path2D(sw(ee,ve))):ue.forEach(function(F,de){F.forEach(function(me,Ee){me&&K.fillRect(Ee+ve,de+ve,1,1)})}),Ye&&(K.globalAlpha=Ye.opacity),Me&&K.drawImage(ie,Ye.x+ve,Ye.y+ve,Ye.w,Ye.h)}}),Bn.useEffect(()=>{ae(!1)},[Q]);const Be=Gd({height:x,width:x},V);let _e=null;return Q!=null&&(_e=Bn.createElement("img",{src:Q,key:Q,style:{display:"none"},onLoad:()=>{ae(!0)},ref:oe,crossOrigin:Ye==null?void 0:Ye.crossOrigin})),Bn.createElement(Bn.Fragment,null,Bn.createElement("canvas",Gd({style:Be,height:x,width:x,ref:$,role:"img"},Y)),_e)});JS.displayName="QRCodeCanvas";var lw=Bn.forwardRef(function(s,l){const f=s,{value:m,size:x=$y,level:b=ew,bgColor:T=tw,fgColor:v=nw,includeMargin:y=rw,minVersion:C=iw,boostLevel:N,title:_,marginSize:P,imageSettings:L}=f,H=Xd(f,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:V,cells:Y,numCells:Q,calculatedImageSettings:G}=ow({value:m,level:b,minVersion:C,boostLevel:N,includeMargin:y,marginSize:P,imageSettings:L,size:x});let oe=Y,$=null;L!=null&&G!=null&&(G.excavation!=null&&(oe=aw(Y,G.excavation)),$=Bn.createElement("image",{href:L.src,height:G.h,width:G.w,x:G.x+V,y:G.y+V,preserveAspectRatio:"none",opacity:G.opacity,crossOrigin:G.crossOrigin}));const pe=sw(oe,V);return Bn.createElement("svg",Gd({height:x,width:x,viewBox:`0 0 ${Q} ${Q}`,ref:l,role:"img"},H),!!_&&Bn.createElement("title",null,_),Bn.createElement("path",{fill:T,d:`M0,0 h${Q}v${Q}H0z`,shapeRendering:"crispEdges"}),Bn.createElement("path",{fill:v,d:pe,shapeRendering:"crispEdges"}),$)});lw.displayName="QRCodeSVG";const $S="/assets/completeset-D43gVDHr.png",e6="/assets/spoon-CEbK6RUn.png",t6="/assets/fork-DHp_OrtK.png",n6="/assets/plate-DFb0h10_.png",r6="/assets/bowl-CVk1PRzS.png",i6="/assets/glassofwater-BSKDd2Rv.png",s6="/assets/saucer-BxezbMFa.png";function a6(){const{user:r,logout:s}=vo(),l=Aa(),[f,m]=U.useState(0),[x,b]=U.useState([]),[T,v]=U.useState(""),[y,C]=U.useState(!1),[N,_]=U.useState(0),[P,L]=U.useState(""),[H,V]=U.useState(""),[Y,Q]=U.useState("home"),[G,oe]=U.useState(!1),[$,pe]=U.useState(!1),[ae,ve]=U.useState(""),[ue,Je]=U.useState(""),[Ye,Be]=U.useState(!1),[_e,Fe]=U.useState([]),[K,ee]=U.useState([{id:1,name:"Complete Set",image:$S,description:"Complete dining set (1 Plate, 1 Spoon, 1 Fork, Tray)",cartQuantity:0,isSet:!0},{id:2,name:"Spoon",image:e6,description:"Stainless steel spoon for your dining needs",cartQuantity:0},{id:3,name:"Fork",image:t6,description:"Stainless steel fork for your dining needs",cartQuantity:0},{id:4,name:"Plate",image:n6,description:"Ceramic plate",cartQuantity:0},{id:5,name:"Bowl",image:r6,description:"Ceramic bowl",cartQuantity:0},{id:6,name:"Saucer",image:s6,description:"Smaller plate",cartQuantity:0},{id:7,name:"Glass",image:i6,description:"Glass for water and beverages",cartQuantity:0}]),[ie,Me]=U.useState(!1),[je,B]=U.useState(null),[F,de]=U.useState(!1),[me,Ee]=U.useState(!1),De="https://varda-loyalty-reward-system.onrender.com";U.useEffect(()=>{(async()=>{oe(!0);try{const Pe=r.token,[Le,qe]=await Promise.all([gt.get(`${De}/api/student/points`,{headers:{Authorization:`Bearer ${Pe}`}}),gt.get(`${De}/api/rewards`,{headers:{Authorization:`Bearer ${Pe}`}})]);m(Le.data.points),b(qe.data)}catch(Pe){console.error("Error fetching data:",Pe),L("Failed to load data. Please try again.")}finally{oe(!1)}})()},[r.token]);const ge=async()=>{if(!T.trim()){L("Please enter a code");return}try{oe(!0);const ye=r.token,Pe=await gt.post(`${De}/api/student/claim-code`,{code:T},{headers:{Authorization:`Bearer ${ye}`}});C(!0),L(""),V("Code accepted! Please rate your experience."),hd({particleCount:100,spread:70,origin:{y:.6}})}catch(ye){console.error("Error submitting code:",ye),ye.response&&ye.response.status===400?L(ye.response.data.message||"Code is invalid or already used."):L("An unexpected error occurred. Please try again.")}finally{oe(!1)}},Ue=()=>{s(),l("/login")},Ie=async()=>{var ye,Pe;if(!N){L("Please select a rating!");return}try{oe(!0);const Le=r.token;await gt.post(`${De}/api/student/submit-feedback`,{code:T,rating:N},{headers:{Authorization:`Bearer ${Le}`}});const qe=await gt.get(`${De}/api/student/points`,{headers:{Authorization:`Bearer ${Le}`}});m(qe.data.points),V("Feedback submitted!"),C(!1),v(""),_(0),hd({particleCount:N*20,spread:70,origin:{y:.6}}),setTimeout(()=>V(""),3e3)}catch(Le){console.error("Error submitting feedback:",Le),L(((Pe=(ye=Le.response)==null?void 0:ye.data)==null?void 0:Pe.message)||"Failed to submit feedback")}finally{oe(!1)}},at=async ye=>{var Pe,Le;try{oe(!0);const qe=await gt.post(`${De}/api/student/claim-reward/${ye}`,{},{headers:{Authorization:`Bearer ${r.token}`}});m(qe.data.newPoints);const Jt=x.find(ke=>ke._id===ye);ve((Jt==null?void 0:Jt.name)||"Reward"),Je(new Date().toLocaleString()),pe(!0),hd({particleCount:150,spread:100,origin:{y:.6}})}catch(qe){L(((Le=(Pe=qe.response)==null?void 0:Pe.data)==null?void 0:Le.message)||"Failed to claim reward")}finally{oe(!1)}},dt=ye=>{ee(Pe=>Pe.map(Le=>Le.id===ye?{...Le,cartQuantity:Le.cartQuantity+1}:Le))},Ke=ye=>{ee(Pe=>Pe.map(Le=>Le.id===ye&&Le.cartQuantity>0?{...Le,cartQuantity:Le.cartQuantity-1}:Le))},Ct=async()=>{const ye=K.filter(Le=>Le.cartQuantity>0);if(ye.length===0){L("Your cart is empty. Please add items before confirming your borrow.");return}const Pe={studentName:r.name,studentId:r._id,items:ye.map(Le=>({name:Le.name,quantity:Le.cartQuantity})),timestamp:new Date().toISOString()};try{B(JSON.stringify(Pe)),Me(!0),Ee(!0),ee(Le=>Le.map(qe=>({...qe,cartQuantity:0})))}catch(Le){console.error("Error creating order:",Le),L("Failed to create order. Please try again.")}},Xe=ye=>{ee(Pe=>Pe.map(Le=>Le.id===ye?{...Le,borrowed:Le.borrowed-1}:Le)),Fe(Pe=>Pe.filter(Le=>Le.id!==ye)),V("Item returned successfully!"),setTimeout(()=>V(""),3e3)},rt={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},xt={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return A.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-[#0f172a] to-[#1e293b]",children:[A.jsxs(Mt.div,{className:"flex-grow p-6 pb-24 space-y-6 max-w-2xl mx-auto w-full",variants:rt,initial:"hidden",animate:"visible",children:[H&&A.jsxs(Mt.div,{className:"p-4 bg-green-900/50 border-2 border-green-700 text-green-200 rounded-lg shadow-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},children:["🎉 ",H]}),P&&A.jsxs(Mt.div,{className:"p-4 bg-red-900/50 border-2 border-red-700 text-red-200 rounded-lg shadow-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},children:["⚠️ ",P]}),G&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm z-50 p-2 sm:p-4",children:A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl flex flex-col items-center",children:[A.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),A.jsx("p",{className:"text-lg font-medium",children:"Loading..."})]})}),Y==="home"&&A.jsxs(Mt.div,{variants:xt,className:"space-y-6",children:[A.jsxs(Mt.div,{className:"relative mx-auto p-3 sm:p-4 md:p-6 w-full max-w-md bg-gradient-to-br from-indigo-600 via-purple-700 to-purple-800 rounded-2xl shadow-2xl text-white overflow-hidden",whileHover:{scale:1.02},whileTap:{scale:.98},style:{perspective:"1000px",transformStyle:"preserve-3d",height:"clamp(220px, 50vw, 280px)",width:"clamp(280px, 85vw, 400px)",margin:"0 auto"},children:[A.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("div",{className:"text-xs font-medium text-white/80",children:"LOYALTY CARD"}),A.jsx("div",{className:"w-8 sm:w-10 h-6 sm:h-8 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-md flex items-center justify-center",children:A.jsx("div",{className:"w-6 sm:w-8 h-4 sm:h-6 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-sm border border-yellow-200/50 flex items-center justify-center",children:A.jsx("div",{className:"w-4 sm:w-5 h-3 sm:h-4 bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-xs border border-yellow-300/50"})})})]}),A.jsxs(Mt.div,{initial:{scale:1.1,opacity:.8},animate:{scale:1,opacity:1},className:"text-center flex-grow flex flex-col justify-center py-2 sm:py-4",children:[A.jsx("p",{className:"text-xs text-white/80 mb-1",children:"POINTS BALANCE:"}),A.jsxs("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight text-white flex items-center justify-center",children:[f," ",A.jsx("span",{className:"text-lg sm:text-xl ml-2",children:"⭐"})]})]},f),A.jsxs("div",{className:"flex justify-between items-end mt-auto pt-2 sm:pt-3",children:[A.jsx("div",{className:"max-w-[60%]",children:A.jsx("p",{className:"text-xs sm:text-sm font-medium tracking-wider text-white/90 truncate",children:`${r.firstName} ${r.lastName}`.toUpperCase()})}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-xs text-white/80",children:"STATUS"}),A.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[A.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),A.jsx("p",{className:"text-xs sm:text-sm font-medium text-white/90",children:"ACTIVE"})]})]})]})]}),A.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 hover:opacity-30 transition-opacity duration-300"})})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[A.jsxs(Mt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Q("claim"),v(""),C(!1),L(""),V("")},className:"flex flex-col items-center p-4 bg-[#1e293b] rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-700/50",children:[A.jsx(aE,{className:"h-8 w-8 text-blue-400"}),A.jsx("span",{className:"mt-2 font-medium text-gray-200",children:"Redeem"})]}),A.jsxs(Mt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Q("rewards"),L(""),V("")},className:"flex flex-col items-center p-4 bg-[#1e293b] rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-700/50",children:[A.jsx(Cd,{className:"h-8 w-8 text-pink-400"}),A.jsx("span",{className:"mt-2 font-medium text-gray-200",children:"Rewards"})]}),A.jsxs(Mt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q("borrow"),className:"flex flex-col items-center p-4 bg-[#1e293b] rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-700/50",children:[A.jsx(iE,{className:"h-8 w-8 text-purple-400"}),A.jsx("span",{className:"mt-2 font-medium text-gray-200",children:"Borrow"})]})]})]}),Y==="claim"&&A.jsxs(Mt.div,{variants:xt,className:"space-y-6",children:[A.jsx("div",{className:"text-center",children:A.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Redeem Your Code"})}),A.jsx(Mt.div,{className:"bg-[#1e293b] p-6 rounded-2xl shadow-lg border-2 border-dashed border-gray-700/50",initial:{scale:.9},animate:{scale:1},children:A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{className:"text-center mb-4",children:A.jsx("div",{className:"inline-block bg-blue-900/50 px-4 py-2 rounded-full",children:A.jsx("span",{className:"font-bold text-blue-300",children:"✨  Enter Code ✨"})})}),A.jsx("div",{className:"space-y-2",children:A.jsx("input",{id:"code-input",className:"w-full border-2 border-gray-700 bg-gray-800/50 p-4 rounded-xl text-center font-mono text-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-500",placeholder:"ex. 123456",value:T,onChange:ye=>v(ye.target.value.toUpperCase()),disabled:G,style:{letterSpacing:"2px"}})}),A.jsx("button",{onClick:ge,disabled:G,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-4 rounded-xl font-bold text-lg shadow-lg transition-all disabled:opacity-70",children:G?A.jsx("span",{className:"flex items-center justify-center",children:A.jsx("span",{className:"animate-pulse",children:"🔍 Checking Code..."})}):"🎁 Redeem Now!"})]})}),y&&A.jsxs(Mt.div,{className:"mt-6 w-full max-w-md mx-auto p-4 sm:p-6 bg-[#1e293b] rounded-2xl shadow-lg border-2 border-gray-700/50 space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"How was it? 🤔"}),A.jsx("p",{className:"text-gray-400 mt-1",children:"Rate your experience to earn bonus points!"})]}),A.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:[1,2,3,4,5].map(ye=>A.jsxs("button",{"aria-label":`Rate ${ye} star`,className:`p-4 rounded-full border-4 text-2xl text-white ${N>=ye?"bg-yellow-900/50 border-yellow-600 scale-110":"bg-gray-800/50 border-gray-700"} transition-all`,onClick:()=>_(ye),disabled:G,children:[ye,"⭐"]},ye))}),A.jsx("div",{className:"text-center",children:A.jsx("button",{onClick:Ie,disabled:!N||G,className:`px-6 py-3 w-full rounded-xl font-bold text-lg shadow-md transition-all ${!N||G?"bg-gray-800 text-gray-600":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white"}`,children:G?"Sending...":A.jsx("span",{className:"flex items-center justify-center gap-2",children:"Submit"})})})]})]}),Y==="rewards"&&A.jsxs(Mt.div,{variants:xt,className:"space-y-6",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Rewards Available!"}),A.jsx("p",{className:"text-gray-400 mt-1",children:"Redeem your points for awesome rewards!"})]}),A.jsxs(Mt.div,{className:"bg-[#1e293b] p-4 rounded-2xl shadow-inner border-2 border-gray-700/50",initial:{opacity:0},animate:{opacity:1},children:[A.jsx("div",{className:"text-center mb-4",children:A.jsx("div",{className:"inline-block bg-blue-900/50 px-4 py-2 rounded-full",children:A.jsxs("span",{className:"font-bold text-blue-300",children:["🌟 You have: ",f," points 🌟"]})})}),x.length===0?A.jsxs("div",{className:"text-center py-8",children:[A.jsx("p",{className:"text-gray-400 text-lg",children:"No rewards available right now"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Check back later!"})]}):A.jsx("div",{className:"grid gap-4",children:x.sort((ye,Pe)=>ye.cost-Pe.cost).map(ye=>A.jsx(Mt.div,{variants:xt,whileHover:{scale:1.03},className:`p-1 rounded-xl ${f>=ye.cost?"bg-gradient-to-r from-indigo-600 via-purple-700 to-purple-800":"bg-gray-800/50"}`,children:A.jsxs("div",{className:"bg-gradient-to-br from-indigo-400 via-purple-600 to-purple-700 p-4 rounded-lg border-2 border-dashed border-white/20 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-white"}),A.jsxs("div",{className:"absolute top-2 right-2 text-xs font-bold bg-white/10 px-2 py-1 rounded text-white",children:[ye.cost," pts"]}),A.jsxs("div",{className:"flex justify-between items-center pl-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-white",children:ye.name}),A.jsx("p",{className:"text-sm text-white/80",children:ye.description||"Awesome reward!"})]}),A.jsx("button",{onClick:()=>at(ye._id),disabled:f<ye.cost||G,className:`px-4 py-2 rounded-lg font-bold shadow-md transition-all ${f>=ye.cost?"bg-blue-400 hover:bg-blue-500 text-white":"bg-gray-800 text-gray-600"}`,children:"Claim!"})]})]})},ye._id))})]})]}),Y==="borrow"&&A.jsxs(Mt.div,{variants:xt,className:"space-y-6",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Borrow Items"}),A.jsx("p",{className:"text-gray-400 mt-1",children:"Select items to borrow for your needs"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:K.map(ye=>A.jsxs(Mt.div,{whileHover:{scale:1.02},className:`bg-[#1e293b] rounded-xl shadow-md overflow-hidden border border-gray-700/50 ${ye.isSet?"md:col-span-2":""}`,children:[A.jsxs("div",{className:"relative h-48 overflow-hidden",children:[A.jsx("img",{src:ye.image,alt:ye.name,className:"w-full h-full object-cover"}),ye.isSet&&A.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("span",{className:"text-white text-sm",children:"Includes:"}),A.jsx("span",{className:"text-white/90 text-sm",children:"1 Plate"}),A.jsx("span",{className:"text-white/90 text-sm",children:"•"}),A.jsx("span",{className:"text-white/90 text-sm",children:"1 Spoon"}),A.jsx("span",{className:"text-white/90 text-sm",children:"•"}),A.jsx("span",{className:"text-white/90 text-sm",children:"1 Fork"})]})})]}),A.jsxs("div",{className:"p-4",children:[A.jsx("h4",{className:"font-bold text-lg text-gray-200",children:ye.name}),A.jsx("p",{className:"text-sm text-gray-400 mb-3",children:ye.description}),A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>Ke(ye.id),disabled:ye.cartQuantity===0,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-all ${ye.cartQuantity===0?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:"-"}),A.jsx("span",{className:"w-8 text-center font-medium text-gray-200",children:ye.cartQuantity}),A.jsx("button",{onClick:()=>dt(ye.id),className:"w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-all bg-blue-600 text-white hover:bg-blue-700",children:"+"})]})})]})]},ye.id))}),K.some(ye=>ye.cartQuantity>0)&&A.jsxs(Mt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>de(!0),className:"fixed bottom-24 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all flex items-center space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),A.jsx("span",{className:"font-bold",children:K.reduce((ye,Pe)=>ye+Pe.cartQuantity,0)})]}),F&&A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:A.jsx(Mt.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"absolute right-0 top-0 h-full w-full max-w-md bg-[#1e293b] shadow-xl border-l border-gray-700/50",children:A.jsxs("div",{className:"p-6 h-full flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-200",children:"Your Cart"}),A.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-gray-200",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"flex-grow overflow-y-auto",children:K.some(ye=>ye.cartQuantity>0)?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"bg-blue-900/50 p-4 rounded-xl mb-4",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-blue-300 font-medium",children:"Total Items:"}),A.jsx("span",{className:"text-blue-200 font-bold",children:K.reduce((ye,Pe)=>ye+Pe.cartQuantity,0)})]})}),K.filter(ye=>ye.cartQuantity>0).map(ye=>A.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800/50 rounded-xl mb-4",children:[A.jsx("img",{src:ye.image,alt:ye.name,className:"w-20 h-20 object-cover rounded-lg"}),A.jsxs("div",{className:"flex-grow",children:[A.jsx("h4",{className:"font-medium text-gray-200",children:ye.name}),A.jsx("p",{className:"text-sm text-gray-400 mt-1",children:ye.description}),A.jsxs("div",{className:"flex items-center justify-between mt-2",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>Ke(ye.id),className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold bg-red-600 text-white hover:bg-red-700",children:"-"}),A.jsx("span",{className:"w-8 text-center font-medium text-gray-200",children:ye.cartQuantity}),A.jsx("button",{onClick:()=>dt(ye.id),className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold bg-blue-600 text-white hover:bg-blue-700",children:"+"})]}),A.jsx("span",{className:"text-sm font-medium text-gray-400",children:ye.isSet?"Complete Set":"Individual Item"})]})]})]},ye.id))]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),A.jsx("h4",{className:"text-lg font-medium text-gray-400 mb-2",children:"Your cart is empty"}),A.jsx("p",{className:"text-gray-500",children:"Add items to your cart to proceed with your borrow"})]})}),A.jsxs("div",{className:"mt-6 space-y-4",children:[K.some(ye=>ye.cartQuantity>0)&&A.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl",children:[A.jsx("h4",{className:"font-medium text-gray-200 mb-2",children:"Borrow Summary"}),A.jsx("div",{className:"space-y-2",children:K.filter(ye=>ye.cartQuantity>0).map(ye=>A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsxs("span",{className:"text-gray-400",children:[ye.name," x ",ye.cartQuantity]}),A.jsx("span",{className:"font-medium text-gray-300",children:ye.isSet?"Complete Set":"Individual Item"})]},ye.id))})]}),A.jsx("button",{onClick:()=>{Ct(),de(!1)},disabled:!K.some(ye=>ye.cartQuantity>0),className:`w-full py-4 rounded-xl font-bold transition-all ${K.some(ye=>ye.cartQuantity>0)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:K.some(ye=>ye.cartQuantity>0)?"Confirm Borrow":"Add Items to Cart"})]})]})})}),_e.length>0&&A.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-2xl shadow-lg mt-6 border border-gray-700/50",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-200 mb-4",children:"Your Orders"}),A.jsx("div",{className:"space-y-4",children:_e.map(ye=>A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-xl",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("img",{src:ye.image,alt:ye.name,className:"w-16 h-16 object-cover rounded-lg"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-gray-200",children:ye.name}),A.jsxs("p",{className:"text-sm text-gray-400",children:["Ordered: ",new Date(ye.borrowTime).toLocaleString()]})]})]}),A.jsx("button",{onClick:()=>Xe(ye.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:"Return"})]},ye.id))})]})]}),Y==="settings"&&A.jsx(o6,{user:r,onBack:()=>Q("home")})]}),$&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:A.jsxs(Mt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-[#1e293b] rounded-2xl p-6 max-w-sm w-full shadow-lg border-2 border-gray-700/50 text-center space-y-4",children:[A.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"🎉 Congrats!"}),A.jsxs("p",{className:"text-gray-200",children:["You've successfully claimed:",A.jsx("br",{}),A.jsx("span",{className:"font-bold text-blue-400",children:ae})]}),A.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Claimed on: ",A.jsx("span",{className:"font-medium text-gray-300",children:ue})]}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please show this screen to the cashier as proof of reward redemption."}),A.jsx("button",{onClick:()=>pe(!1),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition",children:"Got it!"})]})}),ie&&je&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:A.jsx(Mt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-[#1e293b] rounded-2xl p-6 max-w-sm w-full shadow-xl border-2 border-gray-700/50",children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"Scan Me!"}),A.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl border-2 border-dashed border-gray-700/50",children:A.jsx(lw,{value:je,size:200,level:"H",includeMargin:!0,className:"mx-auto"})}),A.jsxs("div",{className:"text-left bg-gray-800/50 p-4 rounded-xl",children:[A.jsx("h4",{className:"font-semibold text-gray-200 mb-2",children:"Order Details:"}),A.jsx("ul",{className:"space-y-1 text-sm text-gray-400",children:JSON.parse(je).items.map((ye,Pe)=>A.jsxs("li",{children:["• ",ye.name," (x",ye.quantity,")"]},Pe))})]}),A.jsx("button",{onClick:()=>Me(!1),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition",children:"Close"})]})})}),me&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:A.jsx(Mt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-[#1e293b] rounded-2xl p-6 max-w-sm w-full shadow-xl border-2 border-gray-700/50",children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("div",{className:"w-16 h-16 bg-green-900/50 rounded-full flex items-center justify-center mx-auto",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),A.jsx("h3",{className:"text-xl font-bold text-gray-200",children:"Borrow Created!"}),A.jsx("p",{className:"text-gray-400",children:"Show the QR code to the Concierge"}),A.jsx("button",{onClick:()=>{Ee(!1),de(!1)},className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-all",children:"OK"})]})})}),A.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#1e293b] border-t border-gray-700/50 shadow-md flex justify-around py-2 z-40",children:[A.jsx("button",{onClick:()=>Q("settings"),className:"flex items-center justify-center p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 text-gray-400 hover:text-gray-200 transition-all","aria-label":"Settings",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),A.jsx("div",{className:"relative",children:A.jsx("button",{onClick:()=>{Q("home"),L(""),V("")},className:`absolute -top-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-blue-800 text-white shadow-lg hover:shadow-xl transition-all ${Y==="home"?"ring-4 ring-blue-500/50":""}`,"aria-label":"Home",children:A.jsx(eE,{className:"h-8 w-8"})})}),A.jsx("button",{onClick:()=>Be(!0),className:"flex items-center justify-center p-2 rounded-full bg-gray-800/50 hover:bg-red-900/50 text-red-400 hover:text-red-300 transition-all","aria-label":"Logout",children:A.jsx(vp,{className:"h-8 w-8"})})]}),Ye&&A.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-[#1e293b] rounded-2xl p-6 w-80 shadow-2xl space-y-4 border border-gray-700/50",children:[A.jsx("h2",{className:"text-lg font-bold text-gray-200",children:"Confirm Logout"}),A.jsx("p",{className:"text-sm text-gray-400",children:"Are you sure you want to log out?"}),A.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[A.jsx("button",{onClick:()=>Be(!1),className:"px-4 py-2 text-sm rounded-full border border-gray-300 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all",children:"Cancel"}),A.jsx("button",{onClick:Ue,className:"px-4 py-2 text-sm rounded-full bg-red-600 text-white hover:bg-red-700 transition-all",children:"Logout"})]})]})})]})}function o6({user:r,onBack:s}){const[l,f]=U.useState(""),[m,x]=U.useState(""),[b,T]=U.useState(""),[v,y]=U.useState(""),[C,N]=U.useState(""),[_,P]=U.useState(!1),[L,H]=U.useState("profile"),V="https://varda-loyalty-reward-system.onrender.com",Y=async Q=>{var G,oe,$,pe;if(Q.preventDefault(),N(""),y(""),!l){N("Please enter your current password");return}if(m!==b){N("New passwords do not match");return}try{P(!0);const ae=r.token;await gt.put(`${V}/api/student/profile`,{currentPassword:l,newPassword:m},{headers:{Authorization:`Bearer ${ae}`}}),y("Password updated successfully!"),f(""),x(""),T("")}catch(ae){((oe=(G=ae.response)==null?void 0:G.data)==null?void 0:oe.message)==="Current password is incorrect"?N("Current password is incorrect. Please try again."):N(((pe=($=ae.response)==null?void 0:$.data)==null?void 0:pe.message)||"Failed to update profile")}finally{P(!1)}};return A.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-2xl shadow-lg mt-8 mb-24",children:[A.jsxs("div",{className:"flex items-center mb-6",children:[A.jsx("button",{onClick:s,className:"mr-4 text-purple-600 hover:text-purple-800",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),A.jsx("h2",{className:"text-2xl font-bold text-purple-800",children:"Settings"})]}),A.jsxs("div",{className:"flex space-x-2 mb-6",children:[A.jsx("button",{onClick:()=>H("profile"),className:`flex-1 py-2 rounded-lg font-semibold ${L==="profile"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:"Profile"}),A.jsx("button",{onClick:()=>H("about"),className:`flex-1 py-2 rounded-lg font-semibold ${L==="about"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:"About"}),A.jsx("button",{onClick:()=>H("help"),className:`flex-1 py-2 rounded-lg font-semibold ${L==="help"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:"Help"})]}),L==="profile"&&A.jsx("div",{className:"space-y-6",children:A.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),A.jsx("input",{type:"password",className:"w-full border-2 border-purple-200 rounded-lg p-2",value:l,onChange:Q=>f(Q.target.value),placeholder:"Enter current password",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),A.jsx("input",{type:"password",className:"w-full border-2 border-purple-200 rounded-lg p-2",value:m,onChange:Q=>x(Q.target.value),placeholder:"Enter new password",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),A.jsx("input",{type:"password",className:"w-full border-2 border-purple-200 rounded-lg p-2",value:b,onChange:Q=>T(Q.target.value),placeholder:"Confirm new password",required:!0})]}),C&&A.jsxs("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded-lg flex items-start space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),A.jsx("span",{className:"text-red-700 font-medium",children:C})]}),v&&A.jsxs("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 rounded-lg flex items-start space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),A.jsx("span",{className:"text-green-700 font-medium",children:v})]}),A.jsx("button",{type:"submit",disabled:_,className:"w-full py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-all",children:_?"Saving...":"Update Password"})]})}),L==="about"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About 2gonz"}),A.jsx("p",{className:"text-gray-600",children:"2gonz is a loyalty reward system designed to encourage sustainable practices by rewarding students for borrowing and returning items properly."})]}),L==="help"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Need Help?"}),A.jsx("p",{className:"text-gray-600",children:"If you need assistance, please head towards the cashier for assistance."})]})]})}var ze;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var C2=new Map([[ze.QR_CODE,"QR_CODE"],[ze.AZTEC,"AZTEC"],[ze.CODABAR,"CODABAR"],[ze.CODE_39,"CODE_39"],[ze.CODE_93,"CODE_93"],[ze.CODE_128,"CODE_128"],[ze.DATA_MATRIX,"DATA_MATRIX"],[ze.MAXICODE,"MAXICODE"],[ze.ITF,"ITF"],[ze.EAN_13,"EAN_13"],[ze.EAN_8,"EAN_8"],[ze.PDF_417,"PDF_417"],[ze.RSS_14,"RSS_14"],[ze.RSS_EXPANDED,"RSS_EXPANDED"],[ze.UPC_A,"UPC_A"],[ze.UPC_E,"UPC_E"],[ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),S2;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(S2||(S2={}));function l6(r){return Object.values(ze).includes(r)}var _u;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(_u||(_u={}));var c6=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[_u.SCAN_TYPE_CAMERA,_u.SCAN_TYPE_FILE],r}(),cw=function(){function r(s,l){this.format=s,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(s){if(!C2.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new r(s,C2.get(s))},r}(),T2=function(){function r(){}return r.createFromText=function(s){var l={text:s};return{decodedText:s,result:l}},r.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},r}(),Yd;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Yd||(Yd={}));var u6=function(){function r(){}return r.createFrom=function(s){return{errorMessage:s,type:Yd.UNKWOWN_ERROR}},r}(),f6=function(){function r(s){this.verbose=s}return r.prototype.log=function(s){this.verbose&&console.log(s)},r.prototype.warn=function(s){this.verbose&&console.warn(s)},r.prototype.logError=function(s,l){(this.verbose||l===!0)&&console.error(s)},r.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},r}();function $i(r){return typeof r>"u"||r===null}var xo=function(){function r(){}return r.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},r.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),uw=function(){function r(){}return r.isMediaStreamConstraintsValid=function(s,l){if(typeof s!="object"){var f=typeof s;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(m),b=Object.keys(s),T=0,v=b;T<v.length;T++){var y=v[T];if(x.has(y))return l.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},r}(),Nl={exports:{}},d6=Nl.exports,N2;function h6(){return N2||(N2=1,function(r,s){(function(l,f){f(s)})(d6,function(l){function f(M){return M==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,t){M.__proto__=t}||function(M,t){for(var i in t)t.hasOwnProperty(i)&&(M[i]=t[i])};function x(M,t){m(M,t);function i(){this.constructor=M}M.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function b(M,t){var i=Object.setPrototypeOf;i?i(M,t):M.__proto__=t}function T(M,t){t===void 0&&(t=M.constructor);var i=Error.captureStackTrace;i&&i(M,t)}var v=function(M){x(t,M);function t(i){var a=this.constructor,c=M.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),b(c,a.prototype),T(c),c}return t}(Error);class y extends v{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class C extends y{}C.kind="ArgumentException";class N extends y{}N.kind="IllegalArgumentException";class _{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,a,c){const u=this.binarizer.getLuminanceSource().crop(t,i,a,c);return new _(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends y{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class L{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class H{static arraycopy(t,i,a,c,u){for(;u--;)a[c++]=t[i++]}static currentTimeMillis(){return Date.now()}}class V extends y{}V.kind="IndexOutOfBoundsException";class Y extends V{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}Y.kind="ArrayIndexOutOfBoundsException";class Q{static fill(t,i){for(let a=0,c=t.length;a<c;a++)t[a]=i}static fillWithin(t,i,a,c){Q.rangeCheck(t.length,i,a);for(let u=i;u<a;u++)t[u]=c}static rangeCheck(t,i,a){if(i>a)throw new N("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new Y(i);if(a>t)throw new Y(a)}static asList(...t){return t}static create(t,i,a){return Array.from({length:t}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(t,i,a){return Array.from({length:t}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let a=0,c=t.length;a<c;a++)if(t[a]!==i[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const a of t)i=31*i+a;return i}static fillUint8Array(t,i){for(let a=0;a!==t.length;a++)t[a]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const a=new Uint8Array(i);return a.set(t),a}return t.slice(0,i)}static copyOfRange(t,i,a){const c=a-i,u=new Int32Array(c);return H.arraycopy(t,i,u,0,c),u}static binarySearch(t,i,a){a===void 0&&(a=Q.numberComparator);let c=0,u=t.length-1;for(;c<=u;){const h=u+c>>1,g=a(i,t[h]);if(g>0)c=h+1;else if(g<0)u=h-1;else return h}return-c-1}static numberComparator(t,i){return t-i}}class G{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let a=31;return i=t<<16,i!==0&&(a-=16,t=i),i=t<<8,i!==0&&(a-=8,t=i),i=t<<4,i!==0&&(a-=4,t=i),i=t<<2,i!==0&&(a-=2,t=i),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=oe.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=oe.makeArray(t);H.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const a=this.bits;let c=Math.floor(t/32),u=a[c];u&=~((1<<(t&31))-1);const h=a.length;for(;u===0;){if(++c===h)return i;u=a[c]}const g=c*32+G.numberOfTrailingZeros(u);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const a=this.bits;let c=Math.floor(t/32),u=~a[c];u&=~((1<<(t&31))-1);const h=a.length;for(;u===0;){if(++c===h)return i;u=~a[c]}const g=c*32+G.numberOfTrailingZeros(u);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new N;if(i===t)return;i--;const a=Math.floor(t/32),c=Math.floor(i/32),u=this.bits;for(let h=a;h<=c;h++){const g=h>a?0:t&31,S=(2<<(h<c?31:i&31))-(1<<g);u[h]|=S}}clear(){const t=this.bits.length,i=this.bits;for(let a=0;a<t;a++)i[a]=0}isRange(t,i,a){if(i<t||t<0||i>this.size)throw new N;if(i===t)return!0;i--;const c=Math.floor(t/32),u=Math.floor(i/32),h=this.bits;for(let g=c;g<=u;g++){const w=g>c?0:t&31,R=(2<<(g<u?31:i&31))-(1<<w)&4294967295;if((h[g]&R)!==(a?R:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=t.bits[a]}toBytes(t,i,a,c){for(let u=0;u<c;u++){let h=0;for(let g=0;g<8;g++)this.get(t)&&(h|=1<<7-g),t++;i[a+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[i-u]=h}if(this.size!==a*32){const u=a*32-this.size;let h=t[0]>>>u;for(let g=1;g<a;g++){const w=t[g];h|=w<<32-u,t[g-1]=h,h=w>>>u}t[a-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof oe))return!1;const i=t;return this.size===i.size&&Q.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let t="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new oe(this.size,this.bits.slice())}}var $;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var pe=$;class ae extends y{static getFormatInstance(){return new ae}}ae.kind="FormatException";var ve;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(ve||(ve={}));class ue{constructor(t,i,a,...c){this.valueIdentifier=t,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,ue.VALUE_IDENTIFIER_TO_ECI.set(t,this),ue.NAME_TO_ECI.set(a,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const w=u[h];ue.VALUES_TO_ECI.set(w,this)}for(const h of c)ue.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ae("incorect value");const i=ue.VALUES_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}static getCharacterSetECIByName(t){const i=ue.NAME_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}equals(t){if(!(t instanceof ue))return!1;const i=t;return this.getName()===i.getName()}}ue.VALUE_IDENTIFIER_TO_ECI=new Map,ue.VALUES_TO_ECI=new Map,ue.NAME_TO_ECI=new Map,ue.Cp437=new ue(ve.Cp437,Int32Array.from([0,2]),"Cp437"),ue.ISO8859_1=new ue(ve.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ue.ISO8859_2=new ue(ve.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ue.ISO8859_3=new ue(ve.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ue.ISO8859_4=new ue(ve.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ue.ISO8859_5=new ue(ve.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ue.ISO8859_6=new ue(ve.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ue.ISO8859_7=new ue(ve.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ue.ISO8859_8=new ue(ve.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ue.ISO8859_9=new ue(ve.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ue.ISO8859_10=new ue(ve.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ue.ISO8859_11=new ue(ve.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ue.ISO8859_13=new ue(ve.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ue.ISO8859_14=new ue(ve.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ue.ISO8859_15=new ue(ve.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ue.ISO8859_16=new ue(ve.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ue.SJIS=new ue(ve.SJIS,20,"SJIS","Shift_JIS"),ue.Cp1250=new ue(ve.Cp1250,21,"Cp1250","windows-1250"),ue.Cp1251=new ue(ve.Cp1251,22,"Cp1251","windows-1251"),ue.Cp1252=new ue(ve.Cp1252,23,"Cp1252","windows-1252"),ue.Cp1256=new ue(ve.Cp1256,24,"Cp1256","windows-1256"),ue.UnicodeBigUnmarked=new ue(ve.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ue.UTF8=new ue(ve.UTF8,26,"UTF8","UTF-8"),ue.ASCII=new ue(ve.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ue.Big5=new ue(ve.Big5,28,"Big5"),ue.GB18030=new ue(ve.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ue.EUC_KR=new ue(ve.EUC_KR,30,"EUC_KR","EUC-KR");class Je extends y{}Je.kind="UnsupportedOperationException";class Ye{static decode(t,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Ye.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ue?t:ue.getCharacterSetECIByName(t)}static decodeFallback(t,i){const a=this.encodingCharacterSet(i);if(Ye.isDecodeFallbackSupported(a)){let c="";for(let u=0,h=t.length;u<h;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(a.equals(ue.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Je(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ue.UTF8)||t.equals(ue.ISO8859_1)||t.equals(ue.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class Be{static castAsNonUtf8Char(t,i=null){const a=i?i.getName():this.ISO88591;return Ye.decode(new Uint8Array([t]),a)}static guessEncoding(t,i){if(i!=null&&i.get(pe.CHARACTER_SET)!==void 0)return i.get(pe.CHARACTER_SET).toString();const a=t.length;let c=!0,u=!0,h=!0,g=0,w=0,S=0,R=0,D=0,I=0,z=0,q=0,W=0,te=0,ce=0;const Te=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Ne=0;Ne<a&&(c||u||h);Ne++){const Se=t[Ne]&255;h&&(g>0?(Se&128)===0?h=!1:g--:(Se&128)!==0&&((Se&64)===0?h=!1:(g++,(Se&32)===0?w++:(g++,(Se&16)===0?S++:(g++,(Se&8)===0?R++:h=!1))))),c&&(Se>127&&Se<160?c=!1:Se>159&&(Se<192||Se===215||Se===247)&&ce++),u&&(D>0?Se<64||Se===127||Se>252?u=!1:D--:Se===128||Se===160||Se>239?u=!1:Se>160&&Se<224?(I++,q=0,z++,z>W&&(W=z)):Se>127?(D++,z=0,q++,q>te&&(te=q)):(z=0,q=0))}return h&&g>0&&(h=!1),u&&D>0&&(u=!1),h&&(Te||w+S+R>0)?Be.UTF8:u&&(Be.ASSUME_SHIFT_JIS||W>=3||te>=3)?Be.SHIFT_JIS:c&&u?W===2&&I===2||ce*10>=a?Be.SHIFT_JIS:Be.ISO88591:c?Be.ISO88591:u?Be.SHIFT_JIS:h?Be.UTF8:Be.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let a=-1;function c(h,g,w,S,R,D){if(h==="%%")return"%";if(i[++a]===void 0)return;h=S?parseInt(S.substr(1)):void 0;let I=R?parseInt(R.substr(1)):void 0,z;switch(D){case"s":z=i[a];break;case"c":z=i[a][0];break;case"f":z=parseFloat(i[a]).toFixed(h);break;case"p":z=parseFloat(i[a]).toPrecision(h);break;case"e":z=parseFloat(i[a]).toExponential(h);break;case"x":z=parseInt(i[a]).toString(I||16);break;case"d":z=parseFloat(parseInt(i[a],I||10).toPrecision(h)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(I);let q=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;z.length<q;)z=g!==void 0?z+W:W+z;return z}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}static getBytes(t,i){return Ye.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Be.SHIFT_JIS=ue.SJIS.getName(),Be.GB2312="GB2312",Be.ISO88591=ue.ISO8859_1.getName(),Be.EUC_JP="EUC_JP",Be.UTF8=ue.UTF8.getName(),Be.PLATFORM_DEFAULT_ENCODING=Be.UTF8,Be.ASSUME_SHIFT_JIS=!1;class _e{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Be.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,a){for(let c=i;i<i+a;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Fe{constructor(t,i,a,c){if(this.width=t,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=t),this.height=i,t<1||i<1)throw new N("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,a=t[0].length,c=new Fe(a,i);for(let u=0;u<i;u++){const h=t[u];for(let g=0;g<a;g++)h[g]&&c.set(g,u)}return c}static parseFromString(t,i,a){if(t===null)throw new N("stringRepresentation cannot be null");const c=new Array(t.length);let u=0,h=0,g=-1,w=0,S=0;for(;S<t.length;)if(t.charAt(S)===`
`||t.charAt(S)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new N("row lengths do not match");h=u,w++}S++}else if(t.substring(S,S+i.length)===i)S+=i.length,c[u]=!0,u++;else if(t.substring(S,S+a.length)===a)S+=a.length,c[u]=!1,u++;else throw new N("illegal character encountered: "+t.substring(S));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new N("row lengths do not match");w++}const R=new Fe(g,w);for(let D=0;D<u;D++)c[D]&&R.set(Math.floor(D%g),Math.floor(D/g));return R}get(t,i){const a=i*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const i=new oe(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*a,w=t.getRow(u,i).getBitArray();for(let S=0;S<a;S++)c[g+S]^=w[S]}}clear(){const t=this.bits,i=t.length;for(let a=0;a<i;a++)t[a]=0}setRegion(t,i,a,c){if(i<0||t<0)throw new N("Left and top must be nonnegative");if(c<1||a<1)throw new N("Height and width must be at least 1");const u=t+a,h=i+c;if(h>this.height||u>this.width)throw new N("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let S=i;S<h;S++){const R=S*g;for(let D=t;D<u;D++)w[R+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new oe(this.width):i.clear();const a=this.rowSize,c=this.bits,u=t*a;for(let h=0;h<a;h++)i.setBulk(h*32,c[u+h]);return i}setRow(t,i){H.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let a=new oe(t),c=new oe(t);for(let u=0,h=Math.floor((i+1)/2);u<h;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const t=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=t,h=i,g=-1,w=-1;for(let S=0;S<i;S++)for(let R=0;R<a;R++){const D=c[S*a+R];if(D!==0){if(S<h&&(h=S),S>w&&(w=S),R*32<u){let I=0;for(;(D<<31-I&4294967295)===0;)I++;R*32+I<u&&(u=R*32+I)}if(R*32+31>g){let I=31;for(;!(D>>>I);)I--;R*32+I>g&&(g=R*32+I)}}}return g<u||w<h?null:Int32Array.from([u,h,g-u+1,w-h+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/t;let u=a%t*32;const h=i[a];let g=0;for(;(h<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/t);let u=Math.floor(a%t)*32;const h=i[a];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Fe))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Q.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Q.hashCode(this.bits),t}toString(t="X ",i="  ",a=`
`){return this.buildToString(t,i,a)}buildToString(t,i,a){let c=new _e;for(let u=0,h=this.height;u<h;u++){for(let g=0,w=this.width;g<w;g++)c.append(this.get(g,u)?t:i);c.append(a)}return c.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends y{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class ee extends L{constructor(t){super(t),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(t,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new oe(c):i.clear(),this.initArrays(c);const u=a.getRow(t,this.luminances),h=this.buckets;for(let w=0;w<c;w++)h[(u[w]&255)>>ee.LUMINANCE_SHIFT]++;const g=ee.estimateBlackPoint(h);if(c<3)for(let w=0;w<c;w++)(u[w]&255)<g&&i.set(w);else{let w=u[0]&255,S=u[1]&255;for(let R=1;R<c-1;R++){const D=u[R+1]&255;(S*4-w-D)/2<g&&i.set(R),w=S,S=D}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight(),c=new Fe(i,a);this.initArrays(i);const u=this.buckets;for(let w=1;w<5;w++){const S=Math.floor(a*w/5),R=t.getRow(S,this.luminances),D=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<D;I++){const z=R[I]&255;u[z>>ee.LUMINANCE_SHIFT]++}}const h=ee.estimateBlackPoint(u),g=t.getMatrix();for(let w=0;w<a;w++){const S=w*i;for(let R=0;R<i;R++)(g[S+R]&255)<h&&c.set(R,w)}return c}createBinarizer(t){return new ee(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let a=0;a<ee.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(t){const i=t.length;let a=0,c=0,u=0;for(let R=0;R<i;R++)t[R]>u&&(c=R,u=t[R]),t[R]>a&&(a=t[R]);let h=0,g=0;for(let R=0;R<i;R++){const D=R-c,I=t[R]*D*D;I>g&&(h=R,g=I)}if(c>h){const R=c;c=h,h=R}if(h-c<=i/16)throw new K;let w=h-1,S=-1;for(let R=h-1;R>c;R--){const D=R-c,I=D*D*(h-R)*(a-t[R]);I>S&&(w=R,S=I)}return w<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class ie extends ee{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight();if(i>=ie.MINIMUM_DIMENSION&&a>=ie.MINIMUM_DIMENSION){const c=t.getMatrix();let u=i>>ie.BLOCK_SIZE_POWER;(i&ie.BLOCK_SIZE_MASK)!==0&&u++;let h=a>>ie.BLOCK_SIZE_POWER;(a&ie.BLOCK_SIZE_MASK)!==0&&h++;const g=ie.calculateBlackPoints(c,u,h,i,a),w=new Fe(i,a);ie.calculateThresholdForBlock(c,u,h,i,a,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ie(t)}static calculateThresholdForBlock(t,i,a,c,u,h,g){const w=u-ie.BLOCK_SIZE,S=c-ie.BLOCK_SIZE;for(let R=0;R<a;R++){let D=R<<ie.BLOCK_SIZE_POWER;D>w&&(D=w);const I=ie.cap(R,2,a-3);for(let z=0;z<i;z++){let q=z<<ie.BLOCK_SIZE_POWER;q>S&&(q=S);const W=ie.cap(z,2,i-3);let te=0;for(let Te=-2;Te<=2;Te++){const Ne=h[I+Te];te+=Ne[W-2]+Ne[W-1]+Ne[W]+Ne[W+1]+Ne[W+2]}const ce=te/25;ie.thresholdBlock(t,q,D,ce,c,g)}}}static cap(t,i,a){return t<i?i:t>a?a:t}static thresholdBlock(t,i,a,c,u,h){for(let g=0,w=a*u+i;g<ie.BLOCK_SIZE;g++,w+=u)for(let S=0;S<ie.BLOCK_SIZE;S++)(t[w+S]&255)<=c&&h.set(i+S,a+g)}static calculateBlackPoints(t,i,a,c,u){const h=u-ie.BLOCK_SIZE,g=c-ie.BLOCK_SIZE,w=new Array(a);for(let S=0;S<a;S++){w[S]=new Int32Array(i);let R=S<<ie.BLOCK_SIZE_POWER;R>h&&(R=h);for(let D=0;D<i;D++){let I=D<<ie.BLOCK_SIZE_POWER;I>g&&(I=g);let z=0,q=255,W=0;for(let ce=0,Te=R*c+I;ce<ie.BLOCK_SIZE;ce++,Te+=c){for(let Ne=0;Ne<ie.BLOCK_SIZE;Ne++){const Se=t[Te+Ne]&255;z+=Se,Se<q&&(q=Se),Se>W&&(W=Se)}if(W-q>ie.MIN_DYNAMIC_RANGE)for(ce++,Te+=c;ce<ie.BLOCK_SIZE;ce++,Te+=c)for(let Ne=0;Ne<ie.BLOCK_SIZE;Ne++)z+=t[Te+Ne]&255}let te=z>>ie.BLOCK_SIZE_POWER*2;if(W-q<=ie.MIN_DYNAMIC_RANGE&&(te=q/2,S>0&&D>0)){const ce=(w[S-1][D]+2*w[S][D-1]+w[S-1][D-1])/4;q<ce&&(te=ce)}w[S][D]=te}}return w}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Me{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,a,c){throw new Je("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Je("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Je("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new _e;for(let a=0;a<this.height;a++){const c=this.getRow(a,t);for(let u=0;u<this.width;u++){const h=c[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class je extends Me{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const a=this.delegate.getRow(t,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(t[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,a,c){return new je(this.delegate.crop(t,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new je(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new je(this.delegate.rotateCounterClockwise45())}}class B extends Me{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return B.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,h=0,g=t.length;u<g;u+=4,h++){let w;if(t[u+3]===0)w=255;else{const R=t[u],D=t[u+1],I=t[u+2];w=306*R+601*D+117*I+512>>10}c[h]=w}return c}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const a=this.getWidth(),c=t*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,a,c){return super.crop(t,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=t*B.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),w=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return i.width=g,i.height=w,a.translate(g/2,w/2),a.rotate(c),a.drawImage(this.canvas,u/-2,h/-2),this.buffer=B.makeBufferFromCanvasImageData(i),this}invert(){return new je(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class F{constructor(t,i,a){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||ou||self||window||void 0)&&(globalThis||ou||self||window||void 0).__awaiter||function(M,t,i,a){function c(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function g(R){try{S(a.next(R))}catch(D){h(D)}}function w(R){try{S(a.throw(R))}catch(D){h(D)}}function S(R){R.done?u(R.value):c(R.value).then(g,w)}S((a=a.apply(M,t||[])).next())})};class me{constructor(t,i=500,a){this.reader=t,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of t){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,h=a.label||`Video device ${i.length+1}`,g=a.groupId,w={deviceId:u,label:h,kind:c,groupId:g};i.push(w)}return i})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new F(i.deviceId,i.label))})}findDeviceById(t){return de(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return de(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(t,i){return de(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(t,i){return de(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,i,a){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,a)})}decodeFromVideoDevice(t,i,a){return de(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(t,i,a){return de(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(t,i,a){return de(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return de(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((i,a)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const a=document.getElementById(t);if(!a)throw new C(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new C(`element with id '${t}' must be an ${i} element`);return a}decodeFromImage(t,i){if(!t&&!i)throw new C("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,a){if(t===void 0&&i===void 0)throw new C("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new C("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(t){if(!t)throw new C("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=t,a}decodeFromVideoUrl(t){if(!t)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=t,a}decodeFromVideoUrlContinuously(t,i){if(!t)throw new C("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=t,c}_decodeOnLoadImage(t){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const w=i&&g instanceof K,R=(g instanceof P||g instanceof ae)&&a;if(w||R)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof P||c instanceof ae,h=c instanceof K;(u||h)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,a){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),a=new B(i),c=new ie(a);return new _(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ee{constructor(t,i,a=i==null?0:8*i.length,c,u,h=H.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=H.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(i.length+t.length);H.arraycopy(i,0,a,0,i.length),H.arraycopy(t,0,a,i.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var De;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(De||(De={}));var ge=De,Ue;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ue||(Ue={}));var Ie=Ue;class at{constructor(t,i,a,c,u=-1,h=-1){this.rawBytes=t,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class Ke{constructor(t,i){if(i.length===0)throw new N;this.field=t;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),H.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(t===1){a=0;for(let h=0,g=i.length;h!==g;h++){const w=i[h];a=dt.addOrSubtract(a,w)}return a}a=i[0];const c=i.length,u=this.field;for(let h=1;h<c;h++)a=dt.addOrSubtract(u.multiply(t,a),i[h]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){const h=i;i=a,a=h}let c=new Int32Array(a.length);const u=a.length-i.length;H.arraycopy(a,0,c,0,u);for(let h=u;h<a.length;h++)c[h]=dt.addOrSubtract(i[h-u],a[h]);return new Ke(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=t.coefficients,u=c.length,h=new Int32Array(a+u-1),g=this.field;for(let w=0;w<a;w++){const S=i[w];for(let R=0;R<u;R++)h[w+R]=dt.addOrSubtract(h[w+R],g.multiply(S,c[R]))}return new Ke(g,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let h=0;h<i;h++)c[h]=a.multiply(u[h],t);return new Ke(a,c)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+t),h=this.field;for(let g=0;g<c;g++)u[g]=h.multiply(a[g],i);return new Ke(h,u)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=t.getCoefficient(t.getDegree()),h=i.inverse(u);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const g=c.getDegree()-t.getDegree(),w=i.multiply(c.getCoefficient(c.getDegree()),h),S=t.multiplyByMonomial(g,w),R=i.buildMonomial(g,w);a=a.addOrSubtract(R),c=c.addOrSubtract(S)}return[a,c]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Ct extends y{}Ct.kind="ArithmeticException";class Xe extends dt{constructor(t,i,a){super(),this.primitive=t,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let g=0;g<i;g++)c[g]=u,u*=2,u>=i&&(u^=t,u&=i-1);this.expTable=c;const h=new Int32Array(i);for(let g=0;g<i-1;g++)h[c[g]]=g;this.logTable=h,this.zero=new Ke(this,Int32Array.from([0])),this.one=new Ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;const a=new Int32Array(t+1);return a[0]=i,new Ke(this,a)}inverse(t){if(t===0)throw new Ct;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Xe.AZTEC_DATA_12=new Xe(4201,4096,1),Xe.AZTEC_DATA_10=new Xe(1033,1024,1),Xe.AZTEC_DATA_6=new Xe(67,64,1),Xe.AZTEC_PARAM=new Xe(19,16,1),Xe.QR_CODE_FIELD_256=new Xe(285,256,0),Xe.DATA_MATRIX_FIELD_256=new Xe(301,256,1),Xe.AZTEC_DATA_8=Xe.DATA_MATRIX_FIELD_256,Xe.MAXICODE_FIELD_64=Xe.AZTEC_DATA_6;class rt extends y{}rt.kind="ReedSolomonException";class xt extends y{}xt.kind="IllegalStateException";class ye{constructor(t){this.field=t}decode(t,i){const a=this.field,c=new Ke(a,t),u=new Int32Array(i);let h=!0;for(let z=0;z<i;z++){const q=c.evaluateAt(a.exp(z+a.getGeneratorBase()));u[u.length-1-z]=q,q!==0&&(h=!1)}if(h)return;const g=new Ke(a,u),w=this.runEuclideanAlgorithm(a.buildMonomial(i,1),g,i),S=w[0],R=w[1],D=this.findErrorLocations(S),I=this.findErrorMagnitudes(R,D);for(let z=0;z<D.length;z++){const q=t.length-1-a.log(D[z]);if(q<0)throw new rt("Bad error location");t[q]=Xe.addOrSubtract(t[q],I[z])}}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){const z=t;t=i,i=z}const c=this.field;let u=t,h=i,g=c.getZero(),w=c.getOne();for(;h.getDegree()>=(a/2|0);){let z=u,q=g;if(u=h,g=w,u.isZero())throw new rt("r_{i-1} was zero");h=z;let W=c.getZero();const te=u.getCoefficient(u.getDegree()),ce=c.inverse(te);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const Te=h.getDegree()-u.getDegree(),Ne=c.multiply(h.getCoefficient(h.getDegree()),ce);W=W.addOrSubtract(c.buildMonomial(Te,Ne)),h=h.addOrSubtract(u.multiplyByMonomial(Te,Ne))}if(w=W.multiply(g).addOrSubtract(q),h.getDegree()>=u.getDegree())throw new xt("Division algorithm failed to reduce polynomial?")}const S=w.getCoefficient(0);if(S===0)throw new rt("sigmaTilde(0) was zero");const R=c.inverse(S),D=w.multiplyScalar(R),I=h.multiplyScalar(R);return[D,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<i;h++)t.evaluateAt(h)===0&&(a[c]=u.inverse(h),c++);if(c!==i)throw new rt("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let h=0;h<a;h++){const g=u.inverse(i[h]);let w=1;for(let S=0;S<a;S++)if(h!==S){const R=u.multiply(i[S],g),D=(R&1)===0?R|1:R&-2;w=u.multiply(w,D)}c[h]=u.multiply(t.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],g))}return c}}var Pe;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(Pe||(Pe={}));class Le{decode(t){this.ddata=t;let i=t.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=Le.convertBoolArrayToByteArray(c),h=Le.getEncodedData(c),g=new at(u,h,null,null);return g.setNumBits(c.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,a=Pe.UPPER,c=Pe.UPPER,u="",h=0;for(;h<i;)if(c===Pe.BINARY){if(i-h<5)break;let g=Le.readCode(t,h,5);if(h+=5,g===0){if(i-h<11)break;g=Le.readCode(t,h,11)+31,h+=11}for(let w=0;w<g;w++){if(i-h<8){h=i;break}const S=Le.readCode(t,h,8);u+=Be.castAsNonUtf8Char(S),h+=8}c=a}else{let g=c===Pe.DIGIT?4:5;if(i-h<g)break;let w=Le.readCode(t,h,g);h+=g;let S=Le.getCharacter(c,w);S.startsWith("CTRL_")?(a=c,c=Le.getTable(S.charAt(5)),S.charAt(6)==="L"&&(a=c)):(u+=S,c=a)}return u}static getTable(t){switch(t){case"L":return Pe.LOWER;case"P":return Pe.PUNCT;case"M":return Pe.MIXED;case"D":return Pe.DIGIT;case"B":return Pe.BINARY;case"U":default:return Pe.UPPER}}static getCharacter(t,i){switch(t){case Pe.UPPER:return Le.UPPER_TABLE[i];case Pe.LOWER:return Le.LOWER_TABLE[i];case Pe.MIXED:return Le.MIXED_TABLE[i];case Pe.PUNCT:return Le.PUNCT_TABLE[i];case Pe.DIGIT:return Le.DIGIT_TABLE[i];default:throw new xt("Bad table")}}correctBits(t){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Xe.AZTEC_DATA_10):(a=12,i=Xe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=t.length/a;if(u<c)throw new ae;let h=t.length%a,g=new Int32Array(u);for(let I=0;I<u;I++,h+=a)g[I]=Le.readCode(t,h,a);try{new ye(i).decode(g,u-c)}catch(I){throw new ae(I)}let w=(1<<a)-1,S=0;for(let I=0;I<c;I++){let z=g[I];if(z===0||z===w)throw new ae;(z===1||z===w-1)&&S++}let R=new Array(c*a-S),D=0;for(let I=0;I<c;I++){let z=g[I];if(z===1||z===w-1)R.fill(z>1,D,D+a-1),D+=a-1;else for(let q=a-1;q>=0;--q)R[D++]=(z&1<<q)!==0}return R}extractBits(t){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(a,i));if(i)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*G.truncDivision(G.truncDivision(c,2)-1,15),w=c/2,S=G.truncDivision(g,2);for(let R=0;R<w;R++){let D=R+G.truncDivision(R,15);u[w-R-1]=S-D-1,u[w+R]=S+D+1}}for(let g=0,w=0;g<a;g++){let S=(a-g)*4+(i?9:12),R=g*2,D=c-1-R;for(let I=0;I<S;I++){let z=I*2;for(let q=0;q<2;q++)h[w+z+q]=t.get(u[R+q],u[R+I]),h[w+2*S+z+q]=t.get(u[R+I],u[D-q]),h[w+4*S+z+q]=t.get(u[D-q],u[D-I]),h[w+6*S+z+q]=t.get(u[D-I],u[R+q])}w+=S*8}return h}static readCode(t,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,t[u]&&(c|=1);return c}static readByte(t,i){let a=t.length-i;return a>=8?Le.readCode(t,i,8):Le.readCode(t,i,a)<<8-a}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let a=0;a<i.length;a++)i[a]=Le.readByte(t,8*a);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Le.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Le.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Le.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Le.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Le.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class qe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,a,c){const u=t-a,h=i-c;return Math.sqrt(u*u+h*h)}static sum(t){let i=0;for(let a=0,c=t.length;a!==c;a++){const u=t[a];i+=u}return i}}class Jt{static floatToIntBits(t){return t}}Jt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ke){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Jt.floatToIntBits(this.x)+Jt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let u,h,g;if(a>=i&&a>=c?(h=t[0],u=t[1],g=t[2]):c>=a&&c>=i?(h=t[1],u=t[0],g=t[2]):(h=t[2],u=t[0],g=t[1]),this.crossProductZ(u,h,g)<0){const w=u;u=g,g=w}t[0]=u,t[1]=h,t[2]=g}static distance(t,i){return qe.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,a){const c=i.x,u=i.y;return(a.x-c)*(t.y-u)-(a.y-u)*(t.x-c)}}class si{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ai extends si{constructor(t,i,a,c,u){super(t,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Nn{constructor(t,i,a,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Nn.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let t=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,h=!0,g=!1,w=!1,S=!1,R=!1,D=!1;const I=this.width,z=this.height;for(;h;){h=!1;let q=!0;for(;(q||!w)&&i<I;)q=this.containsBlackPoint(a,c,i,!1),q?(i++,h=!0,w=!0):w||i++;if(i>=I){u=!0;break}let W=!0;for(;(W||!S)&&c<z;)W=this.containsBlackPoint(t,i,c,!0),W?(c++,h=!0,S=!0):S||c++;if(c>=z){u=!0;break}let te=!0;for(;(te||!R)&&t>=0;)te=this.containsBlackPoint(a,c,t,!1),te?(t--,h=!0,R=!0):R||t--;if(t<0){u=!0;break}let ce=!0;for(;(ce||!D)&&a>=0;)ce=this.containsBlackPoint(t,i,a,!0),ce?(a--,h=!0,D=!0):D||a--;if(a<0){u=!0;break}h&&(g=!0)}if(!u&&g){const q=i-t;let W=null;for(let Ne=1;W===null&&Ne<q;Ne++)W=this.getBlackPointOnSegment(t,c-Ne,t+Ne,c);if(W==null)throw new K;let te=null;for(let Ne=1;te===null&&Ne<q;Ne++)te=this.getBlackPointOnSegment(t,a+Ne,t+Ne,a);if(te==null)throw new K;let ce=null;for(let Ne=1;ce===null&&Ne<q;Ne++)ce=this.getBlackPointOnSegment(i,a+Ne,i-Ne,a);if(ce==null)throw new K;let Te=null;for(let Ne=1;Te===null&&Ne<q;Ne++)Te=this.getBlackPointOnSegment(i,c-Ne,i-Ne,c);if(Te==null)throw new K;return this.centerEdges(Te,W,ce,te)}else throw new K}getBlackPointOnSegment(t,i,a,c){const u=qe.round(qe.distance(t,i,a,c)),h=(a-t)/u,g=(c-i)/u,w=this.image;for(let S=0;S<u;S++){const R=qe.round(t+S*h),D=qe.round(i+S*g);if(w.get(R,D))return new ke(R,D)}return null}centerEdges(t,i,a,c){const u=t.getX(),h=t.getY(),g=i.getX(),w=i.getY(),S=a.getX(),R=a.getY(),D=c.getX(),I=c.getY(),z=Nn.CORR;return u<this.width/2?[new ke(D-z,I+z),new ke(g+z,w+z),new ke(S-z,R-z),new ke(u+z,h-z)]:[new ke(D+z,I+z),new ke(g+z,w-z),new ke(S-z,R+z),new ke(u-z,h-z)]}containsBlackPoint(t,i,a,c){const u=this.image;if(c){for(let h=t;h<=i;h++)if(u.get(h,a))return!0}else for(let h=t;h<=i;h++)if(u.get(a,h))return!0;return!1}}Nn.INIT_SIZE=10,Nn.CORR=1;class oi{static checkAndNudgePoints(t,i){const a=t.getWidth(),c=t.getHeight();let u=!0;for(let h=0;h<i.length&&u;h+=2){const g=Math.floor(i[h]),w=Math.floor(i[h+1]);if(g<-1||g>a||w<-1||w>c)throw new K;u=!1,g===-1?(i[h]=0,u=!0):g===a&&(i[h]=a-1,u=!0),w===-1?(i[h+1]=0,u=!0):w===c&&(i[h+1]=c-1,u=!0)}u=!0;for(let h=i.length-2;h>=0&&u;h-=2){const g=Math.floor(i[h]),w=Math.floor(i[h+1]);if(g<-1||g>a||w<-1||w>c)throw new K;u=!1,g===-1?(i[h]=0,u=!0):g===a&&(i[h]=a-1,u=!0),w===-1?(i[h+1]=0,u=!0):w===c&&(i[h+1]=c-1,u=!0)}}}class an{constructor(t,i,a,c,u,h,g,w,S){this.a11=t,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=h,this.a13=g,this.a23=w,this.a33=S}static quadrilateralToQuadrilateral(t,i,a,c,u,h,g,w,S,R,D,I,z,q,W,te){const ce=an.quadrilateralToSquare(t,i,a,c,u,h,g,w);return an.squareToQuadrilateral(S,R,D,I,z,q,W,te).times(ce)}transformPoints(t){const i=t.length,a=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,S=this.a31,R=this.a32,D=this.a33;for(let I=0;I<i;I+=2){const z=t[I],q=t[I+1],W=u*z+w*q+D;t[I]=(a*z+h*q+S)/W,t[I+1]=(c*z+g*q+R)/W}}transformPointsWithValues(t,i){const a=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,S=this.a31,R=this.a32,D=this.a33,I=t.length;for(let z=0;z<I;z++){const q=t[z],W=i[z],te=u*q+w*W+D;t[z]=(a*q+h*W+S)/te,i[z]=(c*q+g*W+R)/te}}static squareToQuadrilateral(t,i,a,c,u,h,g,w){const S=t-a+u-g,R=i-c+h-w;if(S===0&&R===0)return new an(a-t,u-a,t,c-i,h-c,i,0,0,1);{const D=a-u,I=g-u,z=c-h,q=w-h,W=D*q-I*z,te=(S*q-I*R)/W,ce=(D*R-S*z)/W;return new an(a-t+te*a,g-t+ce*g,t,c-i+te*c,w-i+ce*w,i,te,ce,1)}}static quadrilateralToSquare(t,i,a,c,u,h,g,w){return an.squareToQuadrilateral(t,i,a,c,u,h,g,w).buildAdjoint()}buildAdjoint(){return new an(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new an(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Rn extends oi{sampleGrid(t,i,a,c,u,h,g,w,S,R,D,I,z,q,W,te,ce,Te,Ne){const Se=an.quadrilateralToQuadrilateral(c,u,h,g,w,S,R,D,I,z,q,W,te,ce,Te,Ne);return this.sampleGridWithTransform(t,i,a,Se)}sampleGridWithTransform(t,i,a,c){if(i<=0||a<=0)throw new K;const u=new Fe(i,a),h=new Float32Array(2*i);for(let g=0;g<a;g++){const w=h.length,S=g+.5;for(let R=0;R<w;R+=2)h[R]=R/2+.5,h[R+1]=S;c.transformPoints(h),oi.checkAndNudgePoints(t,h);try{for(let R=0;R<w;R+=2)t.get(Math.floor(h[R]),Math.floor(h[R+1]))&&u.set(R/2,g)}catch{throw new K}}return u}}class wn{static setGridSampler(t){wn.gridSampler=t}static getInstance(){return wn.gridSampler}}wn.gridSampler=new Rn;class Tt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class _i{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(t){let h=a[0];a[0]=a[2],a[2]=h}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new ai(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new K;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let h=0;h<4;h++){let g=a[(this.shift+h)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,i){let a=0;t.forEach((c,u,h)=>{let g=(c>>i-2<<1)+(c&1);a=(a<<3)+g}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(G.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new K}getCorrectedParameterData(t,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,h=new Int32Array(a);for(let w=a-1;w>=0;--w)h[w]=t&15,t>>=4;try{new ye(Xe.AZTEC_PARAM).decode(h,u)}catch{throw new K}let g=0;for(let w=0;w<c;w++)g=(g<<4)+h[w];return g}getBullsEyeCorners(t){let i=t,a=t,c=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(i,h,1,-1),I=this.getFirstDifferent(a,h,1,1),z=this.getFirstDifferent(c,h,-1,1),q=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(q,D)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(D,I,z,q))break}i=D,a=I,c=z,u=q,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let g=new ke(i.getX()+.5,i.getY()-.5),w=new ke(a.getX()+.5,a.getY()+.5),S=new ke(c.getX()-.5,c.getY()+.5),R=new ke(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,S,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,a,c;try{let g=new Nn(this.image).detect();t=g[0],i=g[1],a=g[2],c=g[3]}catch{let w=this.image.getWidth()/2,S=this.image.getHeight()/2;t=this.getFirstDifferent(new Tt(w+7,S-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Tt(w+7,S+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Tt(w-7,S+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Tt(w-7,S-7),!1,-1,-1).toResultPoint()}let u=qe.round((t.getX()+c.getX()+i.getX()+a.getX())/4),h=qe.round((t.getY()+c.getY()+i.getY()+a.getY())/4);try{let g=new Nn(this.image,15,u,h).detect();t=g[0],i=g[1],a=g[2],c=g[3]}catch{t=this.getFirstDifferent(new Tt(u+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Tt(u+7,h+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Tt(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Tt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=qe.round((t.getX()+c.getX()+i.getX()+a.getX())/4),h=qe.round((t.getY()+c.getY()+i.getY()+a.getY())/4),new Tt(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,a,c,u){let h=wn.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,S=g/2+this.nbCenterLayers;return h.sampleGrid(t,g,g,w,w,S,w,S,S,w,S,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(t,i,a){let c=0,u=this.distanceResultPoint(t,i),h=u/a,g=t.getX(),w=t.getY(),S=h*(i.getX()-t.getX())/u,R=h*(i.getY()-t.getY())/u;for(let D=0;D<a;D++)this.image.get(qe.round(g+D*S),qe.round(w+D*R))&&(c|=1<<a-D-1);return c}isWhiteOrBlackRectangle(t,i,a,c){let u=3;t=new Tt(t.getX()-u,t.getY()+u),i=new Tt(i.getX()-u,i.getY()-u),a=new Tt(a.getX()+u,a.getY()-u),c=new Tt(c.getX()+u,c.getY()+u);let h=this.getColor(c,t);if(h===0)return!1;let g=this.getColor(t,i);return g!==h||(g=this.getColor(i,a),g!==h)?!1:(g=this.getColor(a,c),g===h)}getColor(t,i){let a=this.distancePoint(t,i),c=(i.getX()-t.getX())/a,u=(i.getY()-t.getY())/a,h=0,g=t.getX(),w=t.getY(),S=this.image.get(t.getX(),t.getY()),R=Math.ceil(a);for(let I=0;I<R;I++)g+=c,w+=u,this.image.get(qe.round(g),qe.round(w))!==S&&h++;let D=h/a;return D>.1&&D<.9?0:D<=.1===S?1:-1}getFirstDifferent(t,i,a,c){let u=t.getX()+a,h=t.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=a,h+=c;for(u-=a,h-=c;this.isValid(u,h)&&this.image.get(u,h)===i;)u+=a;for(u-=a;this.isValid(u,h)&&this.image.get(u,h)===i;)h+=c;return h-=c,new Tt(u,h)}expandSquare(t,i,a){let c=a/(2*i),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,w=(t[0].getY()+t[2].getY())/2,S=new ke(g+c*u,w+c*h),R=new ke(g-c*u,w-c*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,w=(t[1].getY()+t[3].getY())/2;let D=new ke(g+c*u,w+c*h),I=new ke(g-c*u,w-c*h);return[S,D,R,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=qe.round(t.getX()),a=qe.round(t.getY());return this.isValid(i,a)}distancePoint(t,i){return qe.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return qe.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class Br{decode(t,i=null){let a=null,c=new _i(t.getBlackMatrix()),u=null,h=null;try{let R=c.detectMirror(!1);u=R.getPoints(),this.reportFoundResultPoints(i,u),h=new Le().decode(R)}catch(R){a=R}if(h==null)try{let R=c.detectMirror(!0);u=R.getPoints(),this.reportFoundResultPoints(i,u),h=new Le().decode(R)}catch(R){throw a??R}let g=new Ee(h.getText(),h.getRawBytes(),h.getNumBits(),u,ge.AZTEC,H.currentTimeMillis()),w=h.getByteSegments();w!=null&&g.putMetadata(Ie.BYTE_SEGMENTS,w);let S=h.getECLevel();return S!=null&&g.putMetadata(Ie.ERROR_CORRECTION_LEVEL,S),g}reportFoundResultPoints(t,i){if(t!=null){let a=t.get(pe.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,h)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class is extends me{constructor(t=500){super(new Br,t)}}class Pt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(pe.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,i),g=h.getResultMetadata();let w=270;g!==null&&g.get(Ie.ORIENTATION)===!0&&(w=w+g.get(Ie.ORIENTATION)%360),h.putMetadata(Ie.ORIENTATION,w);const S=h.getResultPoints();if(S!==null){const R=u.getHeight();for(let D=0;D<S.length;D++)S[D]=new ke(R-S[D].getY()-1,S[D].getX())}return h}else throw new K}}reset(){}doDecode(t,i){const a=t.getWidth(),c=t.getHeight();let u=new oe(a);const h=i&&i.get(pe.TRY_HARDER)===!0,g=Math.max(1,c>>(h?8:5));let w;h?w=c:w=15;const S=Math.trunc(c/2);for(let R=0;R<w;R++){const D=Math.trunc((R+1)/2),I=(R&1)===0,z=S+g*(I?D:-D);if(z<0||z>=c)break;try{u=t.getBlackRow(z,u)}catch{continue}for(let q=0;q<2;q++){if(q===1&&(u.reverse(),i&&i.get(pe.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((te,ce)=>W.set(ce,te)),W.delete(pe.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(z,u,i);if(q===1){W.putMetadata(Ie.ORIENTATION,180);const te=W.getResultPoints();te!==null&&(te[0]=new ke(a-te[0].getX()-1,te[0].getY()),te[1]=new ke(a-te[1].getX()-1,te[1].getY()))}return W}catch{}}}throw new K}static recordPattern(t,i,a){const c=a.length;for(let S=0;S<c;S++)a[S]=0;const u=t.getSize();if(i>=u)throw new K;let h=!t.get(i),g=0,w=i;for(;w<u;){if(t.get(w)!==h)a[g]++;else{if(++g===c)break;a[g]=1,h=!h}w++}if(!(g===c||g===c-1&&w===u))throw new K}static recordPatternInReverse(t,i,a){let c=a.length,u=t.get(i);for(;i>0&&c>=0;)t.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new K;Pt.recordPattern(t,i+1,a)}static patternMatchVariance(t,i,a){const c=t.length;let u=0,h=0;for(let S=0;S<c;S++)u+=t[S],h+=i[S];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;a*=g;let w=0;for(let S=0;S<c;S++){const R=t[S],D=i[S]*g,I=R>D?R-D:D-R;if(I>a)return Number.POSITIVE_INFINITY;w+=I}return w/u}}class Oe extends Pt{static findStartPattern(t){const i=t.getSize(),a=t.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=a,g=!1;const w=6;for(let S=a;S<i;S++)if(t.get(S)!==g)u[c]++;else{if(c===w-1){let R=Oe.MAX_AVG_VARIANCE,D=-1;for(let I=Oe.CODE_START_A;I<=Oe.CODE_START_C;I++){const z=Pt.patternMatchVariance(u,Oe.CODE_PATTERNS[I],Oe.MAX_INDIVIDUAL_VARIANCE);z<R&&(R=z,D=I)}if(D>=0&&t.isRange(Math.max(0,h-(S-h)/2),h,!1))return Int32Array.from([h,S,D]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new K}static decodeCode(t,i,a){Pt.recordPattern(t,a,i);let c=Oe.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<Oe.CODE_PATTERNS.length;h++){const g=Oe.CODE_PATTERNS[h],w=this.patternMatchVariance(i,g,Oe.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=h)}if(u>=0)return u;throw new K}decodeRow(t,i,a){const c=a&&a.get(pe.ASSUME_GS1)===!0,u=Oe.findStartPattern(i),h=u[2];let g=0;const w=new Uint8Array(20);w[g++]=h;let S;switch(h){case Oe.CODE_START_A:S=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:S=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:S=Oe.CODE_CODE_C;break;default:throw new ae}let R=!1,D=!1,I="",z=u[0],q=u[1];const W=Int32Array.from([0,0,0,0,0,0]);let te=0,ce=0,Te=h,Ne=0,Se=!0,ut=!1,ot=!1;for(;!R;){const vi=D;switch(D=!1,te=ce,ce=Oe.decodeCode(i,W,q),w[g++]=ce,ce!==Oe.CODE_STOP&&(Se=!0),ce!==Oe.CODE_STOP&&(Ne++,Te+=Ne*ce),z=q,q+=W.reduce((Sr,oc)=>Sr+oc,0),ce){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new ae}switch(S){case Oe.CODE_CODE_A:if(ce<64)ot===ut?I+=String.fromCharCode(32+ce):I+=String.fromCharCode(32+ce+128),ot=!1;else if(ce<96)ot===ut?I+=String.fromCharCode(ce-64):I+=String.fromCharCode(ce+64),ot=!1;else switch(ce!==Oe.CODE_STOP&&(Se=!1),ce){case Oe.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!ut&&ot?(ut=!0,ot=!1):ut&&ot?(ut=!1,ot=!1):ot=!0;break;case Oe.CODE_SHIFT:D=!0,S=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:S=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:S=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:R=!0;break}break;case Oe.CODE_CODE_B:if(ce<96)ot===ut?I+=String.fromCharCode(32+ce):I+=String.fromCharCode(32+ce+128),ot=!1;else switch(ce!==Oe.CODE_STOP&&(Se=!1),ce){case Oe.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!ut&&ot?(ut=!0,ot=!1):ut&&ot?(ut=!1,ot=!1):ot=!0;break;case Oe.CODE_SHIFT:D=!0,S=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:S=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:S=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:R=!0;break}break;case Oe.CODE_CODE_C:if(ce<100)ce<10&&(I+="0"),I+=ce;else switch(ce!==Oe.CODE_STOP&&(Se=!1),ce){case Oe.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_CODE_A:S=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:S=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:R=!0;break}break}vi&&(S=S===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const Zn=q-z;if(q=i.getNextUnset(q),!i.isRange(q,Math.min(i.getSize(),q+(q-z)/2),!1))throw new K;if(Te-=Ne*te,Te%103!==te)throw new P;const pr=I.length;if(pr===0)throw new K;pr>0&&Se&&(S===Oe.CODE_CODE_C?I=I.substring(0,pr-2):I=I.substring(0,pr-1));const rr=(u[1]+u[0])/2,Vt=z+Zn/2,Un=w.length,ir=new Uint8Array(Un);for(let vi=0;vi<Un;vi++)ir[vi]=w[vi];const Fi=[new ke(rr,t),new ke(Vt,t)];return new Ee(I,ir,0,Fi,ge.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class kt extends Pt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=kt.findAsteriskPattern(i,c),h=i.getNextSet(u[1]),g=i.getSize(),w,S;do{kt.recordPattern(i,h,c);let W=kt.toNarrowWidePattern(c);if(W<0)throw new K;w=kt.patternToChar(W),this.decodeRowResult+=w,S=h;for(let te of c)h+=te;h=i.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let W of c)R+=W;let D=h-S-R;if(h!==g&&D*2<R)throw new K;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,te=0;for(let ce=0;ce<W;ce++)te+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ce));if(this.decodeRowResult.charAt(W)!==kt.ALPHABET_STRING.charAt(te%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new K;let I;this.extendedMode?I=kt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let z=(u[1]+u[0])/2,q=S+R/2;return new Ee(I,null,0,[new ke(z,t),new ke(q,t)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let a=t.getSize(),c=t.getNextSet(0),u=0,h=c,g=!1,w=i.length;for(let S=c;S<a;S++)if(t.get(S)!==g)i[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(i)===kt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((S-h)/2)),h,!1))return[h,S];h+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,g=!g}throw new K}static toNarrowWidePattern(t){let i=t.length,a=0,c;do{let u=2147483647;for(let w of t)w<u&&w>a&&(u=w);a=u,c=0;let h=0,g=0;for(let w=0;w<i;w++){let S=t[w];S>a&&(g|=1<<i-1-w,c++,h+=S)}if(c===3){for(let w=0;w<i&&c>0;w++){let S=t[w];if(S>a&&(c--,S*2>=h))return-1}return g}}while(c>3);return-1}static patternToChar(t){for(let i=0;i<kt.CHARACTER_ENCODINGS.length;i++)if(kt.CHARACTER_ENCODINGS[i]===t)return kt.ALPHABET_STRING.charAt(i);if(t===kt.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(t){let i=t.length,a="";for(let c=0;c<i;c++){let u=t.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(c+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new ae;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new ae;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new ae;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new ae;break}a+=g,c++}else a+=u}return a}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class Rt extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),h=new _e;Rt.decodeMiddle(i,c[1],u[0],h);let g=h.toString(),w=null;a!=null&&(w=a.get(pe.ALLOWED_LENGTHS)),w==null&&(w=Rt.DEFAULT_ALLOWED_LENGTHS);let S=g.length,R=!1,D=0;for(let q of w){if(S===q){R=!0;break}q>D&&(D=q)}if(!R&&S>D&&(R=!0),!R)throw new ae;const I=[new ke(c[1],t),new ke(u[0],t)];return new Ee(g,null,0,I,ge.ITF,new Date().getTime())}static decodeMiddle(t,i,a,c){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);i<a;){Pt.recordPattern(t,i,u);for(let S=0;S<5;S++){let R=2*S;h[S]=u[R],g[S]=u[R+1]}let w=Rt.decodeDigit(h);c.append(w.toString()),w=this.decodeDigit(g),c.append(w.toString()),u.forEach(function(S){i+=S})}}decodeStart(t){let i=Rt.skipWhiteSpace(t),a=Rt.findGuardPattern(t,i,Rt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!t.get(c);c--)a--;if(a!==0)throw new K}static skipWhiteSpace(t){const i=t.getSize(),a=t.getNextSet(0);if(a===i)throw new K;return a}decodeEnd(t){t.reverse();try{let i=Rt.skipWhiteSpace(t),a;try{a=Rt.findGuardPattern(t,i,Rt.END_PATTERN_REVERSED[0])}catch(u){u instanceof K&&(a=Rt.findGuardPattern(t,i,Rt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let c=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-c,a}finally{t.reverse()}}static findGuardPattern(t,i,a){let c=a.length,u=new Int32Array(c),h=t.getSize(),g=!1,w=0,S=i;u.fill(0);for(let R=i;R<h;R++)if(t.get(R)!==g)u[w]++;else{if(w===c-1){if(Pt.patternMatchVariance(u,a,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return[S,R];S+=u[0]+u[1],H.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new K}static decodeDigit(t){let i=Rt.MAX_AVG_VARIANCE,a=-1,c=Rt.PATTERNS.length;for(let u=0;u<c;u++){let h=Rt.PATTERNS[u],g=Pt.patternMatchVariance(t,h,Rt.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,a=u):g===i&&(a=-1)}if(a>=0)return a%10;throw new K}}Rt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Rt.MAX_AVG_VARIANCE=.38,Rt.MAX_INDIVIDUAL_VARIANCE=.5,Rt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Rt.START_PATTERN=Int32Array.from([1,1,1,1]),Rt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=It.findGuardPattern(t,c,!1,this.START_END_PATTERN,u);let h=a[0];c=a[1];let g=h-(c-h);g>=0&&(i=t.isRange(g,h,!1))}return a}static checkChecksum(t){return It.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return It.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let c=i-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ae;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ae;a+=u}return(1e3-a)%10}static decodeEnd(t,i){return It.findGuardPattern(t,i,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,a,c){return this.findGuardPattern(t,i,a,c,new Int32Array(c.length))}static findGuardPattern(t,i,a,c,u){let h=t.getSize();i=a?t.getNextUnset(i):t.getNextSet(i);let g=0,w=i,S=c.length,R=a;for(let D=i;D<h;D++)if(t.get(D)!==R)u[g]++;else{if(g===S-1){if(Pt.patternMatchVariance(u,c,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([w,D]);w+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let z=0;z<g-1;z++)u[z]=I[z];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,R=!R}throw new K}static decodeDigit(t,i,a,c){this.recordPattern(t,a,i);let u=this.MAX_AVG_VARIANCE,h=-1,g=c.length;for(let w=0;w<g;w++){let S=c[w],R=Pt.patternMatchVariance(i,S,It.MAX_INDIVIDUAL_VARIANCE);R<u&&(u=R,h=w)}if(h>=0)return h;throw new K}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class li{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),h=c.toString(),g=li.parseExtensionString(h),w=[new ke((a[0]+a[1])/2,t),new ke(u,t)],S=new Ee(h,null,0,w,ge.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&S.putAllMetadata(g),S}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=i[1],g=0;for(let S=0;S<5&&h<u;S++){let R=It.decodeDigit(t,c,h,It.L_AND_G_PATTERNS);a+=String.fromCharCode(48+R%10);for(let D of c)h+=D;R>=10&&(g|=1<<4-S),S!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(a.length!==5)throw new K;let w=this.determineCheckDigit(g);if(li.extensionChecksum(a.toString())!==w)throw new K;return h}static extensionChecksum(t){let i=t.length,a=0;for(let c=i-2;c>=0;c-=2)a+=t.charAt(c).charCodeAt(0)-48;a*=3;for(let c=i-1;c>=0;c-=2)a+=t.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new K}static parseExtensionString(t){if(t.length!==5)return null;let i=li.parseExtension5String(t);return i==null?null:new Map([[Ie.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(t.substring(1)),c=(a/100).toString(),u=a%100,h=u<10?"0"+u:u.toString();return i+c+"."+h}}class Re{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),h=c.toString(),g=Re.parseExtensionString(h),w=[new ke((a[0]+a[1])/2,t),new ke(u,t)],S=new Ee(h,null,0,w,ge.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&S.putAllMetadata(g),S}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=i[1],g=0;for(let w=0;w<2&&h<u;w++){let S=It.decodeDigit(t,c,h,It.L_AND_G_PATTERNS);a+=String.fromCharCode(48+S%10);for(let R of c)h+=R;S>=10&&(g|=1<<1-w),w!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(a.length!==2)throw new K;if(parseInt(a.toString())%4!==g)throw new K;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(t)]])}}class lt{static decodeRow(t,i,a){let c=It.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new li().decodeRow(t,i,c)}catch{return new Re().decodeRow(t,i,c)}}}lt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qe extends It{constructor(){super(),this.decodeRowStringBuffer="",Qe.L_AND_G_PATTERNS=Qe.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=Qe.L_PATTERNS[t-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];Qe.L_AND_G_PATTERNS[t]=a}}decodeRow(t,i,a){let c=Qe.findStartGuardPattern(i),u=a==null?null:a.get(pe.NEED_RESULT_POINT_CALLBACK);if(u!=null){const Se=new ke((c[0]+c[1])/2,t);u.foundPossibleResultPoint(Se)}let h=this.decodeMiddle(i,c,this.decodeRowStringBuffer),g=h.rowOffset,w=h.resultString;if(u!=null){const Se=new ke(g,t);u.foundPossibleResultPoint(Se)}let S=this.decodeEnd(i,g);if(u!=null){const Se=new ke((S[0]+S[1])/2,t);u.foundPossibleResultPoint(Se)}let R=S[1],D=R+(R-S[0]);if(D>=i.getSize()||!i.isRange(R,D,!1))throw new K;let I=w.toString();if(I.length<8)throw new ae;if(!Qe.checkChecksum(I))throw new P;let z=(c[1]+c[0])/2,q=(S[1]+S[0])/2,W=this.getBarcodeFormat(),te=[new ke(z,t),new ke(q,t)],ce=new Ee(I,null,0,te,W,new Date().getTime()),Te=0;try{let Se=lt.decodeRow(t,i,S[1]);ce.putMetadata(Ie.UPC_EAN_EXTENSION,Se.getText()),ce.putAllMetadata(Se.getResultMetadata()),ce.addResultPoints(Se.getResultPoints()),Te=Se.getText().length}catch{}let Ne=a==null?null:a.get(pe.ALLOWED_EAN_EXTENSIONS);if(Ne!=null){let Se=!1;for(let ut in Ne)if(Te.toString()===ut){Se=!0;break}if(!Se)throw new K}return ce}decodeEnd(t,i){return Qe.findGuardPattern(t,i,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Qe.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return Qe.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let c=i-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ae;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ae;a+=u}return(1e3-a)%10}}class Zt extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=i[1],g=0;for(let S=0;S<6&&h<u;S++){let R=Qe.decodeDigit(t,c,h,Qe.L_AND_G_PATTERNS);a+=String.fromCharCode(48+R%10);for(let D of c)h+=D;R>=10&&(g|=1<<5-S)}a=Zt.determineFirstDigit(a,g),h=Qe.findGuardPattern(t,h,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&h<u;S++){let R=Qe.decodeDigit(t,c,h,Qe.L_PATTERNS);a+=String.fromCharCode(48+R);for(let D of c)h+=D}return{rowOffset:h,resultString:a}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(t,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new K}}Zt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class On extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=i[1];for(let w=0;w<4&&h<u;w++){let S=Qe.decodeDigit(t,c,h,Qe.L_PATTERNS);a+=String.fromCharCode(48+S);for(let R of c)h+=R}h=Qe.findGuardPattern(t,h,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<u;w++){let S=Qe.decodeDigit(t,c,h,Qe.L_PATTERNS);a+=String.fromCharCode(48+S);for(let R of c)h+=R}return{rowOffset:h,resultString:a}}getBarcodeFormat(){return ge.EAN_8}}class Wr extends Qe{constructor(){super(...arguments),this.ean13Reader=new Zt}getBarcodeFormat(){return ge.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,a))}decodeMiddle(t,i,a){return this.ean13Reader.decodeMiddle(t,i,a)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let a=new Ee(i.substring(1),null,null,t.getResultPoints(),ge.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new K}reset(){this.ean13Reader.reset()}}class mr extends Qe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,a){const c=this.decodeMiddleCounters.map(S=>S);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=t.getSize();let h=i[1],g=0;for(let S=0;S<6&&h<u;S++){const R=mr.decodeDigit(t,c,h,mr.L_AND_G_PATTERNS);a+=String.fromCharCode(48+R%10);for(let D of c)h+=D;R>=10&&(g|=1<<5-S)}let w=mr.determineNumSysAndCheckDigit(a,g);return{rowOffset:h,resultString:w}}decodeEnd(t,i){return mr.findGuardPatternWithoutCounters(t,i,!0,mr.MIDDLE_END_PATTERN)}checkChecksum(t){return Qe.checkChecksum(mr.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),h=String.fromCharCode(48+c);return u+t+h}throw K.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new _e;a.append(t.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}mr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class zs extends Pt{constructor(t){super();let i=t==null?null:t.get(pe.POSSIBLE_FORMATS),a=[];f(i)?(a.push(new Zt),a.push(new Wr),a.push(new On),a.push(new mr)):(i.indexOf(ge.EAN_13)>-1&&a.push(new Zt),i.indexOf(ge.UPC_A)>-1&&a.push(new Wr),i.indexOf(ge.EAN_8)>-1&&a.push(new On),i.indexOf(ge.UPC_E)>-1&&a.push(new mr)),this.readers=a}decodeRow(t,i,a){for(let c of this.readers)try{const u=c.decodeRow(t,i,a),h=u.getBarcodeFormat()===ge.EAN_13&&u.getText().charAt(0)==="0",g=a==null?null:a.get(pe.POSSIBLE_FORMATS),w=g==null||g.includes(ge.UPC_A);if(h&&w){const S=u.getRawBytes(),R=new Ee(u.getText().substring(1),S,S?S.length:null,u.getResultPoints(),ge.UPC_A);return R.putAllMetadata(u.getResultMetadata()),R}return u}catch{}throw new K}reset(){for(let t of this.readers)t.reset()}}class Mn extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let a=0;a<i.length;a++)if(Pt.patternMatchVariance(t,i[a],Mn.MAX_INDIVIDUAL_VARIANCE)<Mn.MAX_AVG_VARIANCE)return a;throw new K}static count(t){return qe.sum(new Int32Array(t))}static increment(t,i){let a=0,c=i[0];for(let u=1;u<t.length;u++)i[u]>c&&(c=i[u],a=u);t[a]++}static decrement(t,i){let a=0,c=i[0];for(let u=1;u<t.length;u++)i[u]<c&&(c=i[u],a=u);t[a]--}static isFinderPattern(t){let i=t[0]+t[1],a=i+t[2]+t[3],c=i/a;if(c>=Mn.MIN_FINDER_PATTERN_RATIO&&c<=Mn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of t)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}Mn.MAX_AVG_VARIANCE=.2,Mn.MAX_INDIVIDUAL_VARIANCE=.45,Mn.MIN_FINDER_PATTERN_RATIO=9.5/12,Mn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ii{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Ii))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ca{constructor(t,i,a,c,u){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ke(a,u)),this.resultPoints.push(new ke(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ca))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Ln{constructor(){}static getRSSvalue(t,i,a){let c=0;for(let w of t)c+=w;let u=0,h=0,g=t.length;for(let w=0;w<g-1;w++){let S;for(S=1,h|=1<<w;S<t[w];S++,h&=~(1<<w)){let R=Ln.combins(c-S-1,g-w-2);if(a&&h===0&&c-S-(g-w-1)>=g-w-1&&(R-=Ln.combins(c-S-(g-w),g-w-2)),g-w-1>1){let D=0;for(let I=c-S-(g-w-2);I>i;I--)D+=Ln.combins(c-S-I-1,g-w-3);R-=D*(g-1-w)}else c-S>i&&R--;u+=R}c-=S}return u}static combins(t,i){let a,c;t-i>i?(c=i,a=t-i):(c=t-i,a=i);let u=1,h=1;for(let g=t;g>a;g--)u*=g,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Hn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new oe(a),u=0,g=t[0].getRightChar().getValue();for(let w=11;w>=0;--w)(g&1<<w)!=0&&c.set(u),u++;for(let w=1;w<t.length;++w){let S=t[w],R=S.getLeftChar().getValue();for(let D=11;D>=0;--D)(R&1<<D)!=0&&c.set(u),u++;if(S.getRightChar()!=null){let D=S.getRightChar().getValue();for(let I=11;I>=0;--I)(D&1<<I)!=0&&c.set(u),u++}}return c}}class fn{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ci{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Gn extends ci{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class Bi extends ci{constructor(t,i,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gr extends ci{constructor(t,i,a){if(super(t),i<0||i>10||a<0||a>10)throw new ae;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gr.FNC1}isSecondDigitFNC1(){return this.secondDigit===gr.FNC1}isAnyFNC1(){return this.firstDigit===gr.FNC1||this.secondDigit===gr.FNC1}}gr.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new K;let i=t.substring(0,2);for(let u of Ve.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,u[2],t):Ve.processFixedAI(2,u[1],t);if(t.length<3)throw new K;let a=t.substring(0,3);for(let u of Ve.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,u[2],t):Ve.processFixedAI(3,u[1],t);for(let u of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,u[2],t):Ve.processFixedAI(4,u[1],t);if(t.length<4)throw new K;let c=t.substring(0,4);for(let u of Ve.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,u[2],t):Ve.processFixedAI(4,u[1],t);throw new K}static processFixedAI(t,i,a){if(a.length<t)throw new K;let c=a.substring(0,t);if(a.length<t+i)throw new K;let u=a.substring(t,t+i),h=a.substring(t+i),g="("+c+")"+u,w=Ve.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}static processVariableAI(t,i,a){let c=a.substring(0,t),u;a.length<t+i?u=a.length:u=t+i;let h=a.substring(t,u),g=a.substring(u),w="("+c+")"+h,S=Ve.parseFieldsInGeneralPurpose(g);return S==null?w:w+S}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class Lr{constructor(t){this.buffer=new _e,this.information=t}decodeAllCodes(t,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),h=Ve.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new gr(this.information.getSize(),gr.FNC1,gr.FNC1):new gr(this.information.getSize(),u-1,gr.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),a=(i-8)/11,c=(i-8)%11;return new gr(t+7,a,c)}extractNumericValueFromBitArray(t,i){return Lr.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,a){let c=0;for(let u=0;u<a;++u)t.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Bi(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Bi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Bi(this.current.getPosition(),this.buffer.toString()):i=new Bi(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new fn(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Bi(this.current.getPosition(),this.buffer.toString());return new fn(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Bi(this.current.getPosition(),this.buffer.toString());return new fn(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Bi(this.current.getPosition(),this.buffer.toString());return new fn(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fn(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Gn(t+5,Gn.FNC1);if(i>=5&&i<15)return new Gn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Gn(t+7,""+(a+1));if(a>=90&&a<116)return new Gn(t+7,""+(a+7));let c=this.extractNumericValueFromBitArray(t,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ae}return new Gn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Gn(t+5,Gn.FNC1);if(i>=5&&i<15)return new Gn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Gn(t+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new xt("Decoding invalid alphanumeric value: "+a)}return new Gn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class Hs{constructor(t){this.information=t,this.generalDecoder=new Lr(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class bn extends Hs{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,a)}encodeCompressedGtinWithoutAI(t,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}bn.appendCheckDigit(t,a)}static appendCheckDigit(t,i){let a=0;for(let c=0;c<13;c++){let u=t.charAt(c+i).charCodeAt(0)-48;a+=(c&1)===0?3*u:u}a=10-a%10,a===10&&(a=0),t.append(a)}}bn.GTIN_SIZE=40;class Ar extends bn{constructor(t){super(t)}parseInformation(){let t=new _e;t.append("(01)");let i=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Ar.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Ar.HEADER_SIZE+44)}}Ar.HEADER_SIZE=4;class ui extends Hs{constructor(t){super(t)}parseInformation(){let t=new _e;return this.getGeneralDecoder().decodeAllCodes(t,ui.HEADER_SIZE)}}ui.HEADER_SIZE=5;class Zr extends bn{constructor(t){super(t)}encodeCompressedWeight(t,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(t,c);let u=this.checkWeight(c),h=1e5;for(let g=0;g<5;++g)u/h===0&&t.append("0"),h/=10;t.append(u)}}class Ft extends Zr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Ft.HEADER_SIZE+Zr.GTIN_SIZE+Ft.WEIGHT_SIZE)throw new K;let t=new _e;return this.encodeCompressedGtin(t,Ft.HEADER_SIZE),this.encodeCompressedWeight(t,Ft.HEADER_SIZE+Zr.GTIN_SIZE,Ft.WEIGHT_SIZE),t.toString()}}Ft.HEADER_SIZE=5,Ft.WEIGHT_SIZE=15;class Jl extends Ft{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class $l extends Ft{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Xn extends bn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+bn.GTIN_SIZE)throw new K;let t=new _e;this.encodeCompressedGtin(t,Xn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+bn.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+bn.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Xn.HEADER_SIZE=8,Xn.LAST_DIGIT_SIZE=2;class dn extends bn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+bn.GTIN_SIZE)throw new K;let t=new _e;this.encodeCompressedGtin(t,dn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+bn.GTIN_SIZE,dn.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+bn.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+bn.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}dn.HEADER_SIZE=8,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class Kt extends Zr{constructor(t,i,a){super(t),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Kt.HEADER_SIZE+Kt.GTIN_SIZE+Kt.WEIGHT_SIZE+Kt.DATE_SIZE)throw new K;let t=new _e;return this.encodeCompressedGtin(t,Kt.HEADER_SIZE),this.encodeCompressedWeight(t,Kt.HEADER_SIZE+Kt.GTIN_SIZE,Kt.WEIGHT_SIZE),this.encodeCompressedDate(t,Kt.HEADER_SIZE+Kt.GTIN_SIZE+Kt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Kt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let h=a;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Kt.HEADER_SIZE=8,Kt.WEIGHT_SIZE=20,Kt.DATE_SIZE=16;function No(M){try{if(M.get(1))return new Ar(M);if(!M.get(2))return new ui(M);switch(Lr.extractNumericValueFromBitArray(M,1,4)){case 4:return new Jl(M);case 5:return new $l(M)}switch(Lr.extractNumericValueFromBitArray(M,1,5)){case 12:return new Xn(M);case 13:return new dn(M)}switch(Lr.extractNumericValueFromBitArray(M,1,7)){case 56:return new Kt(M,"310","11");case 57:return new Kt(M,"320","11");case 58:return new Kt(M,"310","13");case 59:return new Kt(M,"320","13");case 60:return new Kt(M,"310","15");case 61:return new Kt(M,"320","15");case 62:return new Kt(M,"310","17");case 63:return new Kt(M,"320","17")}}catch(t){throw console.log(t),new xt("unknown decoder: "+M)}}class Kr{constructor(t,i,a,c){this.leftchar=t,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Kr?Kr.equalsOrNull(t.leftchar,i.leftchar)&&Kr.equalsOrNull(t.rightchar,i.rightchar)&&Kr.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Kr.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ro{constructor(t,i,a){this.pairs=t,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Ro?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let a;return t.forEach((c,u)=>{i.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(a=!0)})}),a}}class Ce extends Mn{constructor(t){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,a){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(t,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(u){if(u instanceof K){if(!this.pairs.length)throw new K;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new K}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(c);try{return this.checkRows(u,a+1)}catch(h){this.verbose&&console.log(h)}}throw new K}static isValidSequence(t){for(let i of Ce.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let a=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(t,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let h=this.rows[a];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),a++}u||c||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Ro(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let a of i)if(a.getPairs().length!==t.length){for(let c of a.getPairs())for(let u of t)if(Kr.equals(c,u))break}}static isPartialRow(t,i){for(let a of i){let c=!0;for(let u of t){let h=!1;for(let g of a.getPairs())if(u.equals(g)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Hn.buildBitArray(t),c=No(i).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new Ee(c,null,null,g,ge.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);c+=w.getLeftChar().getChecksumPortion(),u++;let S=w.getRightChar();S!=null&&(c+=S.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(t,i){let a;return t.get(i)?(a=t.getNextUnset(i),a=t.getNextSet(a)):(a=t.getNextSet(i),a=t.getNextUnset(a)),a}retrieveNextPair(t,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,g=-1;do this.findNextPair(t,i,g),u=this.parseFoundFinderPattern(t,a,c),u==null?g=Ce.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(t,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new K;let S;try{S=this.decodeDataCharacter(t,u,c,!1)}catch(R){S=null,this.verbose&&console.log(R)}return new Kr(w,S,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h;a>=0?h=a:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;h<u&&(w=!t.get(h),!!w);)h++;let S=0,R=h;for(let D=h;D<u;D++)if(t.get(D)!=w)c[S]++;else{if(S==3){if(g&&Ce.reverseCounters(c),Ce.isFinderPattern(c)){this.startEnd[0]=R,this.startEnd[1]=D;return}g&&Ce.reverseCounters(c),R+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,S--}else S++;c[S]=1,w=!w}throw new K}static reverseCounters(t){let i=t.length;for(let a=0;a<i/2;++a){let c=t[a];t[a]=t[i-a-1],t[i-a-1]=c}}parseFoundFinderPattern(t,i,a){let c,u,h;if(a){let S=this.startEnd[0]-1;for(;S>=0&&!t.get(S);)S--;S++,c=this.startEnd[0]-S,u=S,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let g=this.getDecodeFinderCounters();H.arraycopy(g,0,g,1,g.length-1),g[0]=c;let w;try{w=this.parseFinderValue(g,Ce.FINDER_PATTERNS)}catch{return null}return new Ca(w,[u,h],u,h,i)}decodeDataCharacter(t,i,a,c){let u=this.getDataCharacterCounters();for(let Vt=0;Vt<u.length;Vt++)u[Vt]=0;if(c)Ce.recordPatternInReverse(t,i.getStartEnd()[0],u);else{Ce.recordPattern(t,i.getStartEnd()[1],u);for(let Vt=0,Un=u.length-1;Vt<Un;Vt++,Un--){let ir=u[Vt];u[Vt]=u[Un],u[Un]=ir}}let h=17,g=qe.sum(new Int32Array(u))/h,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new K;let S=this.getOddCounts(),R=this.getEvenCounts(),D=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Vt=0;Vt<u.length;Vt++){let Un=1*u[Vt]/g,ir=Un+.5;if(ir<1){if(Un<.3)throw new K;ir=1}else if(ir>8){if(Un>8.7)throw new K;ir=8}let Fi=Vt/2;(Vt&1)==0?(S[Fi]=ir,D[Fi]=Un-ir):(R[Fi]=ir,I[Fi]=Un-ir)}this.adjustOddEvenCounts(h);let z=4*i.getValue()+(a?0:2)+(c?0:1)-1,q=0,W=0;for(let Vt=S.length-1;Vt>=0;Vt--){if(Ce.isNotA1left(i,a,c)){let Un=Ce.WEIGHTS[z][2*Vt];W+=S[Vt]*Un}q+=S[Vt]}let te=0;for(let Vt=R.length-1;Vt>=0;Vt--)if(Ce.isNotA1left(i,a,c)){let Un=Ce.WEIGHTS[z][2*Vt+1];te+=R[Vt]*Un}let ce=W+te;if((q&1)!=0||q>13||q<4)throw new K;let Te=(13-q)/2,Ne=Ce.SYMBOL_WIDEST[Te],Se=9-Ne,ut=Ln.getRSSvalue(S,Ne,!0),ot=Ln.getRSSvalue(R,Se,!1),Zn=Ce.EVEN_TOTAL_SUBSET[Te],pr=Ce.GSUM[Te],rr=ut*Zn+ot+pr;return new Ii(rr,ce)}static isNotA1left(t,i,a){return!(t.getValue()==0&&i&&a)}adjustOddEvenCounts(t){let i=qe.sum(new Int32Array(this.getOddCounts())),a=qe.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let h=!1,g=!1;a>13?g=!0:a<4&&(h=!0);let w=i+a-t,S=(i&1)==1,R=(a&1)==0;if(w==1)if(S){if(R)throw new K;u=!0}else{if(!R)throw new K;g=!0}else if(w==-1)if(S){if(R)throw new K;c=!0}else{if(!R)throw new K;h=!0}else if(w==0){if(S){if(!R)throw new K;i<a?(c=!0,g=!0):(u=!0,h=!0)}else if(R)throw new K}else throw new K;if(c){if(u)throw new K;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new K;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class Sa extends Ii{constructor(t,i,a){super(t,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends Mn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,a){const c=this.decodePair(i,!1,t,a);Dt.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,t,a);Dt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Dt.checkChecksum(h,g))return Dt.constructResult(h,g)}throw new K}static addOrTally(t,i){if(i==null)return;let a=!1;for(let c of t)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let a=4537077*t.getValue()+i.getValue(),c=new String(a).toString(),u=new _e;for(let S=13-c.length;S>0;S--)u.append("0");u.append(c);let h=0;for(let S=0;S<13;S++){let R=u.charAt(S).charCodeAt(0)-48;h+=(S&1)===0?3*R:R}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=t.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new Ee(u.toString(),null,0,[g[0],g[1],w[0],w[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(t,i){let a=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(t,i,a,c){try{let u=this.findFinderPattern(t,i),h=this.parseFoundFinderPattern(t,a,i,u),g=c==null?null:c.get(pe.NEED_RESULT_POINT_CALLBACK);if(g!=null){let R=(u[0]+u[1])/2;i&&(R=t.getSize()-1-R),g.foundPossibleResultPoint(new ke(R,a))}let w=this.decodeDataCharacter(t,h,!0),S=this.decodeDataCharacter(t,h,!1);return new Sa(1597*w.getValue()+S.getValue(),w.getChecksumPortion()+4*S.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,i,a){let c=this.getDataCharacterCounters();for(let te=0;te<c.length;te++)c[te]=0;if(a)Pt.recordPatternInReverse(t,i.getStartEnd()[0],c);else{Pt.recordPattern(t,i.getStartEnd()[1]+1,c);for(let te=0,ce=c.length-1;te<ce;te++,ce--){let Te=c[te];c[te]=c[ce],c[ce]=Te}}let u=a?16:15,h=qe.sum(new Int32Array(c))/u,g=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let te=0;te<c.length;te++){let ce=c[te]/h,Te=Math.floor(ce+.5);Te<1?Te=1:Te>8&&(Te=8);let Ne=Math.floor(te/2);(te&1)===0?(g[Ne]=Te,S[Ne]=ce-Te):(w[Ne]=Te,R[Ne]=ce-Te)}this.adjustOddEvenCounts(a,u);let D=0,I=0;for(let te=g.length-1;te>=0;te--)I*=9,I+=g[te],D+=g[te];let z=0,q=0;for(let te=w.length-1;te>=0;te--)z*=9,z+=w[te],q+=w[te];let W=I+3*z;if(a){if((D&1)!==0||D>12||D<4)throw new K;let te=(12-D)/2,ce=Dt.OUTSIDE_ODD_WIDEST[te],Te=9-ce,Ne=Ln.getRSSvalue(g,ce,!1),Se=Ln.getRSSvalue(w,Te,!0),ut=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[te],ot=Dt.OUTSIDE_GSUM[te];return new Ii(Ne*ut+Se+ot,W)}else{if((q&1)!==0||q>10||q<4)throw new K;let te=(10-q)/2,ce=Dt.INSIDE_ODD_WIDEST[te],Te=9-ce,Ne=Ln.getRSSvalue(g,ce,!0),Se=Ln.getRSSvalue(w,Te,!1),ut=Dt.INSIDE_ODD_TOTAL_SUBSET[te],ot=Dt.INSIDE_GSUM[te];return new Ii(Se*ut+Ne+ot,W)}}findFinderPattern(t,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=t.getSize(),u=!1,h=0;for(;h<c&&(u=!t.get(h),i!==u);)h++;let g=0,w=h;for(let S=h;S<c;S++)if(t.get(S)!==u)a[g]++;else{if(g===3){if(Mn.isFinderPattern(a))return[w,S];w+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,u=!u}throw new K}parseFoundFinderPattern(t,i,a,c){let u=t.get(c[0]),h=c[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const g=c[0]-h,w=this.getDecodeFinderCounters(),S=new Int32Array(w.length);H.arraycopy(w,0,S,1,w.length-1),S[0]=g;const R=this.parseFinderValue(S,Dt.FINDER_PATTERNS);let D=h,I=c[1];return a&&(D=t.getSize()-1-D,I=t.getSize()-1-I),new Ca(R,[h,c[1]],D,I,i)}adjustOddEvenCounts(t,i){let a=qe.sum(new Int32Array(this.getOddCounts())),c=qe.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,w=!1;t?(a>12?h=!0:a<4&&(u=!0),c>12?w=!0:c<4&&(g=!0)):(a>11?h=!0:a<5&&(u=!0),c>10?w=!0:c<4&&(g=!0));let S=a+c-i,R=(a&1)===(t?1:0),D=(c&1)===1;if(S===1)if(R){if(D)throw new K;h=!0}else{if(!D)throw new K;w=!0}else if(S===-1)if(R){if(D)throw new K;u=!0}else{if(!D)throw new K;g=!0}else if(S===0){if(R){if(!D)throw new K;a<c?(u=!0,w=!0):(h=!0,g=!0)}else if(D)throw new K}else throw new K;if(u){if(h)throw new K;Mn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Mn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new K;Mn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Mn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class fi extends Pt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const a=t?t.get(pe.POSSIBLE_FORMATS):null,c=t&&t.get(pe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ge.EAN_13)||a.includes(ge.UPC_A)||a.includes(ge.EAN_8)||a.includes(ge.UPC_E))&&this.readers.push(new zs(t)),a.includes(ge.CODE_39)&&this.readers.push(new kt(c)),a.includes(ge.CODE_128)&&this.readers.push(new Oe),a.includes(ge.ITF)&&this.readers.push(new Rt),a.includes(ge.RSS_14)&&this.readers.push(new Dt),a.includes(ge.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new zs(t)),this.readers.push(new kt),this.readers.push(new zs(t)),this.readers.push(new Oe),this.readers.push(new Rt),this.readers.push(new Dt),this.readers.push(new Ce(this.verbose)))}decodeRow(t,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,i,a)}catch{}throw new K}reset(){this.readers.forEach(t=>t.reset())}}class ec extends me{constructor(t=500,i){super(new fi(i),t,i)}}class bt{constructor(t,i,a){this.ecCodewords=t,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Nt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pt{constructor(t,i,a,c,u,h){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const w=h.getECCodewords(),S=h.getECBlocks();for(let R of S)g+=R.getCount()*(R.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ae;for(let a of pt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===i)return a;throw new ae}toString(){return""+this.versionNumber}static buildVersions(){return[new pt(1,10,10,8,8,new bt(5,new Nt(1,3))),new pt(2,12,12,10,10,new bt(7,new Nt(1,5))),new pt(3,14,14,12,12,new bt(10,new Nt(1,8))),new pt(4,16,16,14,14,new bt(12,new Nt(1,12))),new pt(5,18,18,16,16,new bt(14,new Nt(1,18))),new pt(6,20,20,18,18,new bt(18,new Nt(1,22))),new pt(7,22,22,20,20,new bt(20,new Nt(1,30))),new pt(8,24,24,22,22,new bt(24,new Nt(1,36))),new pt(9,26,26,24,24,new bt(28,new Nt(1,44))),new pt(10,32,32,14,14,new bt(36,new Nt(1,62))),new pt(11,36,36,16,16,new bt(42,new Nt(1,86))),new pt(12,40,40,18,18,new bt(48,new Nt(1,114))),new pt(13,44,44,20,20,new bt(56,new Nt(1,144))),new pt(14,48,48,22,22,new bt(68,new Nt(1,174))),new pt(15,52,52,24,24,new bt(42,new Nt(2,102))),new pt(16,64,64,14,14,new bt(56,new Nt(2,140))),new pt(17,72,72,16,16,new bt(36,new Nt(4,92))),new pt(18,80,80,18,18,new bt(48,new Nt(4,114))),new pt(19,88,88,20,20,new bt(56,new Nt(4,144))),new pt(20,96,96,22,22,new bt(68,new Nt(4,174))),new pt(21,104,104,24,24,new bt(56,new Nt(6,136))),new pt(22,120,120,18,18,new bt(68,new Nt(6,175))),new pt(23,132,132,20,20,new bt(62,new Nt(8,163))),new pt(24,144,144,22,22,new bt(62,new Nt(8,156),new Nt(2,155))),new pt(25,8,18,6,16,new bt(7,new Nt(1,5))),new pt(26,8,32,6,14,new bt(11,new Nt(1,10))),new pt(27,12,26,10,24,new bt(14,new Nt(1,16))),new pt(28,12,36,10,16,new bt(18,new Nt(1,22))),new pt(29,16,36,14,16,new bt(24,new Nt(1,32))),new pt(30,16,48,14,22,new bt(28,new Nt(1,49)))]}}pt.VERSIONS=pt.buildVersions();class Oo{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ae;this.version=Oo.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),a=t.getWidth();return pt.getVersionForDimensions(i,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,w=!1,S=!1,R=!1;do if(a===u&&c===0&&!g)t[i++]=this.readCorner1(u,h)&255,a-=2,c+=2,g=!0;else if(a===u-2&&c===0&&(h&3)!==0&&!w)t[i++]=this.readCorner2(u,h)&255,a-=2,c+=2,w=!0;else if(a===u+4&&c===2&&(h&7)===0&&!S)t[i++]=this.readCorner3(u,h)&255,a-=2,c+=2,S=!0;else if(a===u-2&&c===0&&(h&7)===4&&!R)t[i++]=this.readCorner4(u,h)&255,a-=2,c+=2,R=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(t[i++]=this.readUtah(a,c,u,h)&255),a-=2,c+=2;while(a>=0&&c<h);a+=1,c+=3;do a>=0&&c<h&&!this.readMappingMatrix.get(c,a)&&(t[i++]=this.readUtah(a,c,u,h)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<h);if(i!==this.version.getTotalCodewords())throw new ae;return t}readModule(t,i,a,c){return t<0&&(t+=a,i+=4-(a+4&7)),i<0&&(i+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,a,c){let u=0;return this.readModule(t-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t-1,i,a,c)&&(u|=1),u<<=1,this.readModule(t,i-2,a,c)&&(u|=1),u<<=1,this.readModule(t,i-1,a,c)&&(u|=1),u<<=1,this.readModule(t,i,a,c)&&(u|=1),u}readCorner1(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,1,t,i)&&(a|=1),a<<=1,this.readModule(t-1,2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}readCorner2(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-4,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner3(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-3,t,i)&&(a|=1),a<<=1,this.readModule(1,i-2,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner4(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new N("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=i/c|0,g=a/u|0,w=h*c,S=g*u,R=new Fe(S,w);for(let D=0;D<h;++D){const I=D*c;for(let z=0;z<g;++z){const q=z*u;for(let W=0;W<c;++W){const te=D*(c+2)+1+W,ce=I+W;for(let Te=0;Te<u;++Te){const Ne=z*(u+2)+1+Te;if(t.get(Ne,te)){const Se=q+Te;R.set(Se,ce)}}}}}return R}}class Ta{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let W of u)c+=W.getCount();const h=new Array(c);let g=0;for(let W of u)for(let te=0;te<W.getCount();te++){const ce=W.getDataCodewords(),Te=a.getECCodewords()+ce;h[g++]=new Ta(ce,new Uint8Array(Te))}const S=h[0].codewords.length-a.getECCodewords(),R=S-1;let D=0;for(let W=0;W<R;W++)for(let te=0;te<g;te++)h[te].codewords[W]=t[D++];const I=i.getVersionNumber()===24,z=I?8:g;for(let W=0;W<z;W++)h[W].codewords[S-1]=t[D++];const q=h[0].codewords.length;for(let W=S;W<q;W++)for(let te=0;te<g;te++){const ce=I?(te+8)%g:te,Te=I&&ce>7?W-1:W;h[ce].codewords[Te]=t[D++]}if(D!==t.length)throw new N;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class er{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const h=8-a,g=t<h?t:h,w=h-g,S=255>>8-g<<w;i=(u[c]&S)>>w,t-=g,a+=g,a===8&&(a=0,c++)}if(t>0){for(;t>=8;)i=i<<8|u[c]&255,c++,t-=8;if(t>0){const h=8-t,g=255>>h<<h;i=i<<t|(u[c]&g)>>h,a+=t}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var hn;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(hn||(hn={}));class di{static decode(t){const i=new er(t),a=new _e,c=new _e,u=new Array;let h=hn.ASCII_ENCODE;do if(h===hn.ASCII_ENCODE)h=this.decodeAsciiSegment(i,a,c);else{switch(h){case hn.C40_ENCODE:this.decodeC40Segment(i,a);break;case hn.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case hn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case hn.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new ae}h=hn.ASCII_ENCODE}while(h!==hn.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new at(t,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,i,a){let c=!1;do{let u=t.readBits(8);if(u===0)throw new ae;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),hn.ASCII_ENCODE;if(u===129)return hn.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&i.append("0"),i.append(""+h)}else switch(u){case 230:return hn.C40_ENCODE;case 231:return hn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return hn.ANSIX12_ENCODE;case 239:return hn.TEXT_ENCODE;case 240:return hn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new ae;break}}while(t.available()>0);return hn.ASCII_ENCODE}static decodeC40Segment(t,i){let a=!1;const c=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[w];a?(i.append(String.fromCharCode(S.charCodeAt(0)+128)),a=!1):i.append(S)}else throw new ae;break;case 1:a?(i.append(String.fromCharCode(w+128)),a=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[w];a?(i.append(String.fromCharCode(S.charCodeAt(0)+128)),a=!1):i.append(S)}else switch(w){case 27:i.append("");break;case 30:a=!0;break;default:throw new ae}u=0;break;case 3:a?(i.append(String.fromCharCode(w+224)),a=!1):i.append(String.fromCharCode(w+96)),u=0;break;default:throw new ae}}}while(t.available()>0)}static decodeTextSegment(t,i){let a=!1,c=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[w];a?(i.append(String.fromCharCode(S.charCodeAt(0)+128)),a=!1):i.append(S)}else throw new ae;break;case 1:a?(i.append(String.fromCharCode(w+128)),a=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[w];a?(i.append(String.fromCharCode(S.charCodeAt(0)+128)),a=!1):i.append(S)}else switch(w){case 27:i.append("");break;case 30:a=!0;break;default:throw new ae}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[w];a?(i.append(String.fromCharCode(S.charCodeAt(0)+128)),a=!1):i.append(S),u=0}else throw new ae;break;default:throw new ae}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const a=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),a);for(let u=0;u<3;u++){const h=a[u];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new ae;break}}}while(t.available()>0)}static parseTwoBytes(t,i,a){let c=(t<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let c=t.readBits(6);if(c===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(c&32)===0&&(c|=64),i.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,i,a){let c=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),c++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),c++),h<0)throw new ae;const g=new Uint8Array(h);for(let w=0;w<h;w++){if(t.available()<8)throw new ae;g[w]=this.unrandomize255State(t.readBits(8),c++)}a.push(g);try{i.append(Ye.decode(g,Be.ISO88591))}catch(w){throw new xt("Platform does not support required encoding: "+w.message)}}static unrandomize255State(t,i){const a=149*i%255+1,c=t-a;return c>=0?c:c+256}}di.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],di.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],di.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],di.TEXT_SHIFT2_SET_CHARS=di.C40_SHIFT2_SET_CHARS,di.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Na{constructor(){this.rsDecoder=new ye(Xe.DATA_MATRIX_FIELD_256)}decode(t){const i=new Oo(t),a=i.getVersion(),c=i.readCodewords(),u=Ta.getDataBlocks(c,a);let h=0;for(let S of u)h+=S.getNumDataCodewords();const g=new Uint8Array(h),w=u.length;for(let S=0;S<w;S++){const R=u[S],D=R.getCodewords(),I=R.getNumDataCodewords();this.correctErrors(D,I);for(let z=0;z<I;z++)g[z*w+S]=D[z]}return di.decode(g)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new P}for(let c=0;c<i;c++)t[c]=a[c]}}class tn{constructor(t){this.image=t,this.rectangleDetector=new Nn(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new K;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],h=i[3];let g=this.transitionsBetween(a,h)+1,w=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let S=tn.sampleGrid(this.image,a,c,u,h,g,w);return new si(S,[a,c,u,h])}static shiftPoint(t,i,a){let c=(i.getX()-t.getX())/(a+1),u=(i.getY()-t.getY())/(a+1);return new ke(t.getX()+c,t.getY()+u)}static moveAway(t,i,a){let c=t.getX(),u=t.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new ke(c,u)}detectSolid1(t){let i=t[0],a=t[1],c=t[3],u=t[2],h=this.transitionsBetween(i,a),g=this.transitionsBetween(a,c),w=this.transitionsBetween(c,u),S=this.transitionsBetween(u,i),R=h,D=[u,i,a,c];return R>g&&(R=g,D[0]=i,D[1]=a,D[2]=c,D[3]=u),R>w&&(R=w,D[0]=a,D[1]=c,D[2]=u,D[3]=i),R>S&&(D[0]=c,D[1]=u,D[2]=i,D[3]=a),D}detectSolid2(t){let i=t[0],a=t[1],c=t[2],u=t[3],h=this.transitionsBetween(i,u),g=tn.shiftPoint(a,c,(h+1)*4),w=tn.shiftPoint(c,a,(h+1)*4),S=this.transitionsBetween(g,i),R=this.transitionsBetween(w,u);return S<R?(t[0]=i,t[1]=a,t[2]=c,t[3]=u):(t[0]=a,t[1]=c,t[2]=u,t[3]=i),t}correctTopRight(t){let i=t[0],a=t[1],c=t[2],u=t[3],h=this.transitionsBetween(i,u),g=this.transitionsBetween(a,u),w=tn.shiftPoint(i,a,(g+1)*4),S=tn.shiftPoint(c,a,(h+1)*4);h=this.transitionsBetween(w,u),g=this.transitionsBetween(S,u);let R=new ke(u.getX()+(c.getX()-a.getX())/(h+1),u.getY()+(c.getY()-a.getY())/(h+1)),D=new ke(u.getX()+(i.getX()-a.getX())/(g+1),u.getY()+(i.getY()-a.getY())/(g+1));if(!this.isValid(R))return this.isValid(D)?D:null;if(!this.isValid(D))return R;let I=this.transitionsBetween(w,R)+this.transitionsBetween(S,R),z=this.transitionsBetween(w,D)+this.transitionsBetween(S,D);return I>z?R:D}shiftToModuleCenter(t){let i=t[0],a=t[1],c=t[2],u=t[3],h=this.transitionsBetween(i,u)+1,g=this.transitionsBetween(c,u)+1,w=tn.shiftPoint(i,a,g*4),S=tn.shiftPoint(c,a,h*4);h=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(S,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let R=(i.getX()+a.getX()+c.getX()+u.getX())/4,D=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=tn.moveAway(i,R,D),a=tn.moveAway(a,R,D),c=tn.moveAway(c,R,D),u=tn.moveAway(u,R,D);let I,z;return w=tn.shiftPoint(i,a,g*4),w=tn.shiftPoint(w,u,h*4),I=tn.shiftPoint(a,i,g*4),I=tn.shiftPoint(I,c,h*4),S=tn.shiftPoint(c,u,g*4),S=tn.shiftPoint(S,a,h*4),z=tn.shiftPoint(u,c,g*4),z=tn.shiftPoint(z,i,h*4),[w,I,S,z]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,a,c,u,h,g){return wn.getInstance().sampleGrid(t,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(t,i){let a=Math.trunc(t.getX()),c=Math.trunc(t.getY()),u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),g=Math.abs(h-c)>Math.abs(u-a);if(g){let W=a;a=c,c=W,W=u,u=h,h=W}let w=Math.abs(u-a),S=Math.abs(h-c),R=-w/2,D=c<h?1:-1,I=a<u?1:-1,z=0,q=this.image.get(g?c:a,g?a:c);for(let W=a,te=c;W!==u;W+=I){let ce=this.image.get(g?te:W,g?W:te);if(ce!==q&&(z++,q=ce),R+=S,R>0){if(te===h)break;te+=D,R-=w}}return z}}class Cr{constructor(){this.decoder=new Na}decode(t,i=null){let a,c;if(i!=null&&i.has(pe.PURE_BARCODE)){const S=Cr.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(S),c=Cr.NO_POINTS}else{const S=new tn(t.getBlackMatrix()).detect();a=this.decoder.decode(S.getBits()),c=S.getPoints()}const u=a.getRawBytes(),h=new Ee(a.getText(),u,8*u.length,c,ge.DATA_MATRIX,H.currentTimeMillis()),g=a.getByteSegments();g!=null&&h.putMetadata(Ie.BYTE_SEGMENTS,g);const w=a.getECLevel();return w!=null&&h.putMetadata(Ie.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i==null||a==null)throw new K;const c=this.moduleSize(i,t);let u=i[1];const h=a[1];let g=i[0];const S=(a[0]-g+1)/c,R=(h-u+1)/c;if(S<=0||R<=0)throw new K;const D=c/2;u+=D,g+=D;const I=new Fe(S,R);for(let z=0;z<R;z++){const q=u+z*c;for(let W=0;W<S;W++)t.get(g+W*c,q)&&I.set(W,z)}return I}static moduleSize(t,i){const a=i.getWidth();let c=t[0];const u=t[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new K;const h=c-t[0];if(h===0)throw new K;return h}}Cr.NO_POINTS=[];class Wu extends me{constructor(t=500){super(new Cr,t)}}var jn;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(jn||(jn={}));class Lt{constructor(t,i,a){this.value=t,this.stringValue=i,this.bits=a,Lt.FOR_BITS.set(a,this),Lt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Lt.L;case"M":return Lt.M;case"Q":return Lt.Q;case"H":return Lt.H;default:throw new C(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Lt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=Lt.FOR_BITS.size)throw new N;return Lt.FOR_BITS.get(t)}}Lt.FOR_BITS=new Map,Lt.FOR_VALUE=new Map,Lt.L=new Lt(jn.L,"L",1),Lt.M=new Lt(jn.M,"M",0),Lt.Q=new Lt(jn.Q,"Q",3),Lt.H=new Lt(jn.H,"H",2);class Pn{constructor(t){this.errorCorrectionLevel=Lt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return G.bitCount(t^i)}static decodeFormatInformation(t,i){const a=Pn.doDecodeFormatInformation(t,i);return a!==null?a:Pn.doDecodeFormatInformation(t^Pn.FORMAT_INFO_MASK_QR,i^Pn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of Pn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===i)return new Pn(u[1]);let g=Pn.numBitsDiffering(t,h);g<a&&(c=u[1],a=g),t!==i&&(g=Pn.numBitsDiffering(i,h),g<a&&(c=u[1],a=g))}return a<=3?new Pn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Pn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Pn.FORMAT_INFO_MASK_QR=21522,Pn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ne{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const a of i)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(t,i,...a){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();for(const g of h)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ae;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ae}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return Ge.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Ge.VERSION_DECODE_INFO.length;c++){const u=Ge.VERSION_DECODE_INFO[c];if(u===t)return Ge.getVersionForNumber(c+7);const h=Pn.numBitsDiffering(t,u);h<i&&(a=c+7,i=h)}return i<=3?Ge.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Fe(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<a;h++)c===0&&(h===0||h===a-1)||c===a-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new ne(7,new k(1,19)),new ne(10,new k(1,16)),new ne(13,new k(1,13)),new ne(17,new k(1,9))),new Ge(2,Int32Array.from([6,18]),new ne(10,new k(1,34)),new ne(16,new k(1,28)),new ne(22,new k(1,22)),new ne(28,new k(1,16))),new Ge(3,Int32Array.from([6,22]),new ne(15,new k(1,55)),new ne(26,new k(1,44)),new ne(18,new k(2,17)),new ne(22,new k(2,13))),new Ge(4,Int32Array.from([6,26]),new ne(20,new k(1,80)),new ne(18,new k(2,32)),new ne(26,new k(2,24)),new ne(16,new k(4,9))),new Ge(5,Int32Array.from([6,30]),new ne(26,new k(1,108)),new ne(24,new k(2,43)),new ne(18,new k(2,15),new k(2,16)),new ne(22,new k(2,11),new k(2,12))),new Ge(6,Int32Array.from([6,34]),new ne(18,new k(2,68)),new ne(16,new k(4,27)),new ne(24,new k(4,19)),new ne(28,new k(4,15))),new Ge(7,Int32Array.from([6,22,38]),new ne(20,new k(2,78)),new ne(18,new k(4,31)),new ne(18,new k(2,14),new k(4,15)),new ne(26,new k(4,13),new k(1,14))),new Ge(8,Int32Array.from([6,24,42]),new ne(24,new k(2,97)),new ne(22,new k(2,38),new k(2,39)),new ne(22,new k(4,18),new k(2,19)),new ne(26,new k(4,14),new k(2,15))),new Ge(9,Int32Array.from([6,26,46]),new ne(30,new k(2,116)),new ne(22,new k(3,36),new k(2,37)),new ne(20,new k(4,16),new k(4,17)),new ne(24,new k(4,12),new k(4,13))),new Ge(10,Int32Array.from([6,28,50]),new ne(18,new k(2,68),new k(2,69)),new ne(26,new k(4,43),new k(1,44)),new ne(24,new k(6,19),new k(2,20)),new ne(28,new k(6,15),new k(2,16))),new Ge(11,Int32Array.from([6,30,54]),new ne(20,new k(4,81)),new ne(30,new k(1,50),new k(4,51)),new ne(28,new k(4,22),new k(4,23)),new ne(24,new k(3,12),new k(8,13))),new Ge(12,Int32Array.from([6,32,58]),new ne(24,new k(2,92),new k(2,93)),new ne(22,new k(6,36),new k(2,37)),new ne(26,new k(4,20),new k(6,21)),new ne(28,new k(7,14),new k(4,15))),new Ge(13,Int32Array.from([6,34,62]),new ne(26,new k(4,107)),new ne(22,new k(8,37),new k(1,38)),new ne(24,new k(8,20),new k(4,21)),new ne(22,new k(12,11),new k(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new ne(30,new k(3,115),new k(1,116)),new ne(24,new k(4,40),new k(5,41)),new ne(20,new k(11,16),new k(5,17)),new ne(24,new k(11,12),new k(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new ne(22,new k(5,87),new k(1,88)),new ne(24,new k(5,41),new k(5,42)),new ne(30,new k(5,24),new k(7,25)),new ne(24,new k(11,12),new k(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new ne(24,new k(5,98),new k(1,99)),new ne(28,new k(7,45),new k(3,46)),new ne(24,new k(15,19),new k(2,20)),new ne(30,new k(3,15),new k(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new ne(28,new k(1,107),new k(5,108)),new ne(28,new k(10,46),new k(1,47)),new ne(28,new k(1,22),new k(15,23)),new ne(28,new k(2,14),new k(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new ne(30,new k(5,120),new k(1,121)),new ne(26,new k(9,43),new k(4,44)),new ne(28,new k(17,22),new k(1,23)),new ne(28,new k(2,14),new k(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new ne(28,new k(3,113),new k(4,114)),new ne(26,new k(3,44),new k(11,45)),new ne(26,new k(17,21),new k(4,22)),new ne(26,new k(9,13),new k(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new ne(28,new k(3,107),new k(5,108)),new ne(26,new k(3,41),new k(13,42)),new ne(30,new k(15,24),new k(5,25)),new ne(28,new k(15,15),new k(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new ne(28,new k(4,116),new k(4,117)),new ne(26,new k(17,42)),new ne(28,new k(17,22),new k(6,23)),new ne(30,new k(19,16),new k(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new ne(28,new k(2,111),new k(7,112)),new ne(28,new k(17,46)),new ne(30,new k(7,24),new k(16,25)),new ne(24,new k(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new ne(30,new k(4,121),new k(5,122)),new ne(28,new k(4,47),new k(14,48)),new ne(30,new k(11,24),new k(14,25)),new ne(30,new k(16,15),new k(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new ne(30,new k(6,117),new k(4,118)),new ne(28,new k(6,45),new k(14,46)),new ne(30,new k(11,24),new k(16,25)),new ne(30,new k(30,16),new k(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new ne(26,new k(8,106),new k(4,107)),new ne(28,new k(8,47),new k(13,48)),new ne(30,new k(7,24),new k(22,25)),new ne(30,new k(22,15),new k(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new ne(28,new k(10,114),new k(2,115)),new ne(28,new k(19,46),new k(4,47)),new ne(28,new k(28,22),new k(6,23)),new ne(30,new k(33,16),new k(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new ne(30,new k(8,122),new k(4,123)),new ne(28,new k(22,45),new k(3,46)),new ne(30,new k(8,23),new k(26,24)),new ne(30,new k(12,15),new k(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new ne(30,new k(3,117),new k(10,118)),new ne(28,new k(3,45),new k(23,46)),new ne(30,new k(4,24),new k(31,25)),new ne(30,new k(11,15),new k(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new ne(30,new k(7,116),new k(7,117)),new ne(28,new k(21,45),new k(7,46)),new ne(30,new k(1,23),new k(37,24)),new ne(30,new k(19,15),new k(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new ne(30,new k(5,115),new k(10,116)),new ne(28,new k(19,47),new k(10,48)),new ne(30,new k(15,24),new k(25,25)),new ne(30,new k(23,15),new k(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new ne(30,new k(13,115),new k(3,116)),new ne(28,new k(2,46),new k(29,47)),new ne(30,new k(42,24),new k(1,25)),new ne(30,new k(23,15),new k(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new ne(30,new k(17,115)),new ne(28,new k(10,46),new k(23,47)),new ne(30,new k(10,24),new k(35,25)),new ne(30,new k(19,15),new k(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new ne(30,new k(17,115),new k(1,116)),new ne(28,new k(14,46),new k(21,47)),new ne(30,new k(29,24),new k(19,25)),new ne(30,new k(11,15),new k(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new ne(30,new k(13,115),new k(6,116)),new ne(28,new k(14,46),new k(23,47)),new ne(30,new k(44,24),new k(7,25)),new ne(30,new k(59,16),new k(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new ne(30,new k(12,121),new k(7,122)),new ne(28,new k(12,47),new k(26,48)),new ne(30,new k(39,24),new k(14,25)),new ne(30,new k(22,15),new k(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new ne(30,new k(6,121),new k(14,122)),new ne(28,new k(6,47),new k(34,48)),new ne(30,new k(46,24),new k(10,25)),new ne(30,new k(2,15),new k(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new ne(30,new k(17,122),new k(4,123)),new ne(28,new k(29,46),new k(14,47)),new ne(30,new k(49,24),new k(10,25)),new ne(30,new k(24,15),new k(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new ne(30,new k(4,122),new k(18,123)),new ne(28,new k(13,46),new k(32,47)),new ne(30,new k(48,24),new k(14,25)),new ne(30,new k(42,15),new k(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new ne(30,new k(20,117),new k(4,118)),new ne(28,new k(40,47),new k(7,48)),new ne(30,new k(43,24),new k(22,25)),new ne(30,new k(10,15),new k(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new ne(30,new k(19,118),new k(6,119)),new ne(28,new k(18,47),new k(31,48)),new ne(30,new k(34,24),new k(34,25)),new ne(30,new k(20,15),new k(61,16)))];var vn;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class kn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&t.flip(c,a)}}kn.values=new Map([[vn.DATA_MASK_000,new kn(vn.DATA_MASK_000,(M,t)=>(M+t&1)===0)],[vn.DATA_MASK_001,new kn(vn.DATA_MASK_001,(M,t)=>(M&1)===0)],[vn.DATA_MASK_010,new kn(vn.DATA_MASK_010,(M,t)=>t%3===0)],[vn.DATA_MASK_011,new kn(vn.DATA_MASK_011,(M,t)=>(M+t)%3===0)],[vn.DATA_MASK_100,new kn(vn.DATA_MASK_100,(M,t)=>(Math.floor(M/2)+Math.floor(t/3)&1)===0)],[vn.DATA_MASK_101,new kn(vn.DATA_MASK_101,(M,t)=>M*t%6===0)],[vn.DATA_MASK_110,new kn(vn.DATA_MASK_110,(M,t)=>M*t%6<3)],[vn.DATA_MASK_111,new kn(vn.DATA_MASK_111,(M,t)=>(M+t+M*t%3&1)===0)]]);class Zu{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ae;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Pn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ae}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ge.getVersionForNumber(i);let a=0;const c=t-11;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)a=this.copyBit(g,h,a);let u=Ge.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;a=0;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)a=this.copyBit(h,g,a);if(u=Ge.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new ae}copyBit(t,i,a){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),a=kn.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let h=!0;const g=new Uint8Array(i.getTotalCodewords());let w=0,S=0,R=0;for(let D=c-1;D>0;D-=2){D===6&&D--;for(let I=0;I<c;I++){const z=h?c-1-I:I;for(let q=0;q<2;q++)u.get(D-q,z)||(R++,S<<=1,this.bitMatrix.get(D-q,z)&&(S|=1),R===8&&(g[w++]=S,R=0,S=0))}h=!h}if(w!==i.getTotalCodewords())throw new ae;return g}remask(){if(this.parsedFormatInfo===null)return;const t=kn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,a=t.getWidth();i<a;i++)for(let c=i+1,u=t.getHeight();c<u;c++)t.get(i,c)!==t.get(c,i)&&(t.flip(c,i),t.flip(i,c))}}class Ra{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,a){if(t.length!==i.getTotalCodewords())throw new N;const c=i.getECBlocksForLevel(a);let u=0;const h=c.getECBlocks();for(const q of h)u+=q.getCount();const g=new Array(u);let w=0;for(const q of h)for(let W=0;W<q.getCount();W++){const te=q.getDataCodewords(),ce=c.getECCodewordsPerBlock()+te;g[w++]=new Ra(te,new Uint8Array(ce))}const S=g[0].codewords.length;let R=g.length-1;for(;R>=0&&g[R].codewords.length!==S;)R--;R++;const D=S-c.getECCodewordsPerBlock();let I=0;for(let q=0;q<D;q++)for(let W=0;W<w;W++)g[W].codewords[q]=t[I++];for(let q=R;q<w;q++)g[q].codewords[D]=t[I++];const z=g[0].codewords.length;for(let q=D;q<z;q++)for(let W=0;W<w;W++){const te=W<R?q:q+1;g[W].codewords[te]=t[I++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ur;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(ur||(ur={}));class We{constructor(t,i,a,c){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,We.FOR_BITS.set(c,this),We.FOR_VALUE.set(t,this)}static forBits(t){const i=We.FOR_BITS.get(t);if(i===void 0)throw new N;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof We))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(ur.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(ur.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(ur.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(ur.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(ur.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(ur.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(ur.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(ur.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(ur.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(ur.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $t{static decode(t,i,a,c){const u=new er(t);let h=new _e;const g=new Array;let w=-1,S=-1;try{let R=null,D=!1,I;do{if(u.available()<4)I=We.TERMINATOR;else{const z=u.readBits(4);I=We.forBits(z)}switch(I){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:D=!0;break;case We.STRUCTURED_APPEND:if(u.available()<16)throw new ae;w=u.readBits(8),S=u.readBits(8);break;case We.ECI:const z=$t.parseECIValue(u);if(R=ue.getCharacterSetECIByValue(z),R===null)throw new ae;break;case We.HANZI:const q=u.readBits(4),W=u.readBits(I.getCharacterCountBits(i));q===$t.GB2312_SUBSET&&$t.decodeHanziSegment(u,h,W);break;default:const te=u.readBits(I.getCharacterCountBits(i));switch(I){case We.NUMERIC:$t.decodeNumericSegment(u,h,te);break;case We.ALPHANUMERIC:$t.decodeAlphanumericSegment(u,h,te,D);break;case We.BYTE:$t.decodeByteSegment(u,h,te,R,g,c);break;case We.KANJI:$t.decodeKanjiSegment(u,h,te);break;default:throw new ae}break}}while(I!==We.TERMINATOR)}catch{throw new ae}return new at(t,h.toString(),g.length===0?null:g,a===null?null:a.toString(),w,S)}static decodeHanziSegment(t,i,a){if(a*13>t.available())throw new ae;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const h=t.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,a--}try{i.append(Ye.decode(c,Be.GB2312))}catch(h){throw new ae(h)}}static decodeKanjiSegment(t,i,a){if(a*13>t.available())throw new ae;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const h=t.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,a--}try{i.append(Ye.decode(c,Be.SHIFT_JIS))}catch(h){throw new ae(h)}}static decodeByteSegment(t,i,a,c,u,h){if(8*a>t.available())throw new ae;const g=new Uint8Array(a);for(let S=0;S<a;S++)g[S]=t.readBits(8);let w;c===null?w=Be.guessEncoding(g,h):w=c.getName();try{i.append(Ye.decode(g,w))}catch(S){throw new ae(S)}u.push(g)}static toAlphaNumericChar(t){if(t>=$t.ALPHANUMERIC_CHARS.length)throw new ae;return $t.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,a,c){const u=i.length();for(;a>1;){if(t.available()<11)throw new ae;const h=t.readBits(11);i.append($t.toAlphaNumericChar(Math.floor(h/45))),i.append($t.toAlphaNumericChar(h%45)),a-=2}if(a===1){if(t.available()<6)throw new ae;i.append($t.toAlphaNumericChar(t.readBits(6)))}if(c)for(let h=u;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(t,i,a){for(;a>=3;){if(t.available()<10)throw new ae;const c=t.readBits(10);if(c>=1e3)throw new ae;i.append($t.toAlphaNumericChar(Math.floor(c/100))),i.append($t.toAlphaNumericChar(Math.floor(c/10)%10)),i.append($t.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(t.available()<7)throw new ae;const c=t.readBits(7);if(c>=100)throw new ae;i.append($t.toAlphaNumericChar(Math.floor(c/10))),i.append($t.toAlphaNumericChar(c%10))}else if(a===1){if(t.available()<4)throw new ae;const c=t.readBits(4);if(c>=10)throw new ae;i.append($t.toAlphaNumericChar(c))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=t.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=t.readBits(16);return(i&31)<<16&4294967295|a}throw new ae}}$t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$t.GB2312_SUBSET=1;class tc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Oa{constructor(){this.rsDecoder=new ye(Xe.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Fe.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const a=new Zu(t);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new tc(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(t,i){const a=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=Ra.getDataBlocks(u,a,c);let g=0;for(const R of h)g+=R.getNumDataCodewords();const w=new Uint8Array(g);let S=0;for(const R of h){const D=R.getCodewords(),I=R.getNumDataCodewords();this.correctErrors(D,I);for(let z=0;z<I;z++)w[S++]=D[z]}return $t.decode(w,a,c,i)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new P}for(let c=0;c<i;c++)t[c]=a[c]}}class Gs extends ke{constructor(t,i,a){super(t,i),this.estimatedModuleSize=a}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const c=(this.getX()+i)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+a)/2;return new Gs(c,u,h)}}class ss{constructor(t,i,a,c,u,h,g){this.image=t,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,a=this.width,c=t+a,u=this.startY+i/2,h=new Int32Array(3),g=this.image;for(let w=0;w<i;w++){const S=u+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let R=t;for(;R<c&&!g.get(R,S);)R++;let D=0;for(;R<c;){if(g.get(R,S))if(D===1)h[1]++;else if(D===2){if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,S,R);if(I!==null)return I}h[0]=h[2],h[1]=1,h[2]=0,D=1}else h[++D]++;else D===1&&D++,h[D]++;R++}if(this.foundPatternCross(h)){const I=this.handlePossibleCenter(h,S,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-t[c])>=a)return!1;return!0}crossCheckVertical(t,i,a,c){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=t;for(;w>=0&&u.get(i,w)&&g[1]<=a;)g[1]++,w--;if(w<0||g[1]>a)return NaN;for(;w>=0&&!u.get(i,w)&&g[0]<=a;)g[0]++,w--;if(g[0]>a)return NaN;for(w=t+1;w<h&&u.get(i,w)&&g[1]<=a;)g[1]++,w++;if(w===h||g[1]>a)return NaN;for(;w<h&&!u.get(i,w)&&g[2]<=a;)g[2]++,w++;if(g[2]>a)return NaN;const S=g[0]+g[1]+g[2];return 5*Math.abs(S-c)>=2*c?NaN:this.foundPatternCross(g)?ss.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,a){const c=t[0]+t[1]+t[2],u=ss.centerFromEnd(t,a),h=this.crossCheckVertical(i,u,2*t[1],c);if(!isNaN(h)){const g=(t[0]+t[1]+t[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(g,h,u))return S.combineEstimate(h,u,g);const w=new Gs(u,h,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class hi extends ke{constructor(t,i,a,c){super(t,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,h=(this.count*this.getY()+t)/c,g=(this.count*this.estimatedModuleSize+a)/c;return new hi(u,h,g,c)}}class as{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class En{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(pe.TRY_HARDER)!==void 0,a=t!=null&&t.get(pe.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let g=Math.floor(3*u/(4*En.MAX_MODULES));(g<En.MIN_SKIP||i)&&(g=En.MIN_SKIP);let w=!1;const S=new Int32Array(5);for(let D=g-1;D<u&&!w;D+=g){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let I=0;for(let z=0;z<h;z++)if(c.get(z,D))(I&1)===1&&I++,S[I]++;else if((I&1)===0)if(I===4)if(En.foundPatternCross(S)){if(this.handlePossibleCenter(S,D,z,a)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>S[2]&&(D+=W-S[2]-g,z=h-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,I=3;continue}I=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,I=3;else S[++I]++;else S[I]++;En.foundPatternCross(S)&&this.handlePossibleCenter(S,D,h,a)===!0&&(g=S[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return ke.orderBestPatterns(R),new as(R)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;i+=h}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-t[0])<c&&Math.abs(a-t[1])<c&&Math.abs(3*a-t[2])<3*c&&Math.abs(a-t[3])<c&&Math.abs(a-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,a,c){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;t>=h&&i>=h&&g.get(i-h,t-h);)u[2]++,h++;if(t<h||i<h)return!1;for(;t>=h&&i>=h&&!g.get(i-h,t-h)&&u[1]<=a;)u[1]++,h++;if(t<h||i<h||u[1]>a)return!1;for(;t>=h&&i>=h&&g.get(i-h,t-h)&&u[0]<=a;)u[0]++,h++;if(u[0]>a)return!1;const w=g.getHeight(),S=g.getWidth();for(h=1;t+h<w&&i+h<S&&g.get(i+h,t+h);)u[2]++,h++;if(t+h>=w||i+h>=S)return!1;for(;t+h<w&&i+h<S&&!g.get(i+h,t+h)&&u[3]<a;)u[3]++,h++;if(t+h>=w||i+h>=S||u[3]>=a)return!1;for(;t+h<w&&i+h<S&&g.get(i+h,t+h)&&u[4]<a;)u[4]++,h++;if(u[4]>=a)return!1;const R=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(R-c)<2*c&&En.foundPatternCross(u)}crossCheckVertical(t,i,a,c){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(i,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(i,w)&&g[1]<=a;)g[1]++,w--;if(w<0||g[1]>a)return NaN;for(;w>=0&&u.get(i,w)&&g[0]<=a;)g[0]++,w--;if(g[0]>a)return NaN;for(w=t+1;w<h&&u.get(i,w);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(i,w)&&g[3]<a;)g[3]++,w++;if(w===h||g[3]>=a)return NaN;for(;w<h&&u.get(i,w)&&g[4]<a;)g[4]++,w++;if(g[4]>=a)return NaN;const S=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(S-c)>=2*c?NaN:En.foundPatternCross(g)?En.centerFromEnd(g,w):NaN}crossCheckHorizontal(t,i,a,c){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(w,i);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,i)&&g[1]<=a;)g[1]++,w--;if(w<0||g[1]>a)return NaN;for(;w>=0&&u.get(w,i)&&g[0]<=a;)g[0]++,w--;if(g[0]>a)return NaN;for(w=t+1;w<h&&u.get(w,i);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(w,i)&&g[3]<a;)g[3]++,w++;if(w===h||g[3]>=a)return NaN;for(;w<h&&u.get(w,i)&&g[4]<a;)g[4]++,w++;if(g[4]>=a)return NaN;const S=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(S-c)>=c?NaN:En.foundPatternCross(g)?En.centerFromEnd(g,w):NaN}handlePossibleCenter(t,i,a,c){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=En.centerFromEnd(t,a),g=this.crossCheckVertical(i,Math.floor(h),t[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),t[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),t[2],u)))){const w=u/7;let S=!1;const R=this.possibleCenters;for(let D=0,I=R.length;D<I;D++){const z=R[D];if(z.aboutEquals(w,g,h)){R[D]=z.combineEstimate(g,h,w),S=!0;break}}if(!S){const D=new hi(h,g,w);R.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=En.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const a=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=En.CENTER_QUORUM&&(t++,i+=h.getEstimatedModuleSize());if(t<3)return!1;const c=i/a;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new K;const i=this.possibleCenters;let a;if(t>3){let c=0,u=0;for(const w of this.possibleCenters){const S=w.getEstimatedModuleSize();c+=S,u+=S*S}a=c/t;let h=Math.sqrt(u/t-a*a);i.sort((w,S)=>{const R=Math.abs(S.getEstimatedModuleSize()-a),D=Math.abs(w.getEstimatedModuleSize()-a);return R<D?-1:R>D?1:0});const g=Math.max(.2*a,h);for(let w=0;w<i.length&&i.length>3;w++){const S=i[w];Math.abs(S.getEstimatedModuleSize()-a)>g&&(i.splice(w,1),w--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-a),w=Math.abs(u.getEstimatedModuleSize()-a);return g<w?1:g>w?-1:0}else return h.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}En.CENTER_QUORUM=2,En.MIN_SKIP=3,En.MAX_MODULES=57;class Li{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(pe.NEED_RESULT_POINT_CALLBACK);const a=new En(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const i=t.getTopLeft(),a=t.getTopRight(),c=t.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new K("No pattern found in proccess finder.");const h=Li.computeDimension(i,a,c,u),g=Ge.getProvisionalVersionForDimension(h),w=g.getDimensionForVersion()-7;let S=null;if(g.getAlignmentPatternCenters().length>0){const z=a.getX()-i.getX()+c.getX(),q=a.getY()-i.getY()+c.getY(),W=1-3/w,te=Math.floor(i.getX()+W*(z-i.getX())),ce=Math.floor(i.getY()+W*(q-i.getY()));for(let Te=4;Te<=16;Te<<=1)try{S=this.findAlignmentInRegion(u,te,ce,Te);break}catch(Ne){if(!(Ne instanceof K))throw Ne}}const R=Li.createTransform(i,a,c,S,h),D=Li.sampleGrid(this.image,R,h);let I;return S===null?I=[c,i,a]:I=[c,i,a,S],new si(D,I)}static createTransform(t,i,a,c,u){const h=u-3.5;let g,w,S,R;return c!==null?(g=c.getX(),w=c.getY(),S=h-3,R=S):(g=i.getX()-t.getX()+a.getX(),w=i.getY()-t.getY()+a.getY(),S=h,R=h),an.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,S,R,3.5,h,t.getX(),t.getY(),i.getX(),i.getY(),g,w,a.getX(),a.getY())}static sampleGrid(t,i,a){return wn.getInstance().sampleGridWithTransform(t,a,a,i)}static computeDimension(t,i,a,c){const u=qe.round(ke.distance(t,i)/c),h=qe.round(ke.distance(t,a)/c);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new K("Dimensions could be not found.")}return g}calculateModuleSize(t,i,a){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(t,i,a,c),h=1,g=t-(a-t);g<0?(h=t/(t-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let w=Math.floor(i-(c-i)*h);return h=1,w<0?(h=i/(i-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),g=Math.floor(t+(g-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,i,g,w),u-1}sizeOfBlackWhiteBlackRun(t,i,a,c){const u=Math.abs(c-i)>Math.abs(a-t);if(u){let z=t;t=i,i=z,z=a,a=c,c=z}const h=Math.abs(a-t),g=Math.abs(c-i);let w=-h/2;const S=t<a?1:-1,R=i<c?1:-1;let D=0;const I=a+S;for(let z=t,q=i;z!==I;z+=S){const W=u?q:z,te=u?z:q;if(D===1===this.image.get(W,te)){if(D===2)return qe.distance(z,q,t,i);D++}if(w+=g,w>0){if(q===c)break;q+=R,w-=h}}return D===2?qe.distance(a+S,c,t,i):NaN}findAlignmentInRegion(t,i,a,c){const u=Math.floor(c*t),h=Math.max(0,i-u),g=Math.min(this.image.getWidth()-1,i+u);if(g-h<t*3)throw new K("Alignment top exceeds estimated module size.");const w=Math.max(0,a-u),S=Math.min(this.image.getHeight()-1,a+u);if(S-w<t*3)throw new K("Alignment bottom exceeds estimated module size.");return new ss(this.image,h,w,g-h,S-w,t,this.resultPointCallback).find()}}class Qr{constructor(){this.decoder=new Oa}getDecoder(){return this.decoder}decode(t,i){let a,c;if(i!=null&&i.get(pe.PURE_BARCODE)!==void 0){const w=Qr.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(w,i),c=Qr.NO_POINTS}else{const w=new Li(t.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(w.getBits(),i),c=w.getPoints()}a.getOther()instanceof tc&&a.getOther().applyMirroredCorrection(c);const u=new Ee(a.getText(),a.getRawBytes(),void 0,c,ge.QR_CODE,void 0),h=a.getByteSegments();h!==null&&u.putMetadata(Ie.BYTE_SEGMENTS,h);const g=a.getECLevel();return g!==null&&u.putMetadata(Ie.ERROR_CORRECTION_LEVEL,g),a.hasStructuredAppend()&&(u.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(Ie.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i===null||a===null)throw new K;const c=this.moduleSize(i,t);let u=i[1],h=a[1],g=i[0],w=a[0];if(g>=w||u>=h)throw new K;if(h-u!==w-g&&(w=g+(h-u),w>=t.getWidth()))throw new K;const S=Math.round((w-g+1)/c),R=Math.round((h-u+1)/c);if(S<=0||R<=0)throw new K;if(R!==S)throw new K;const D=Math.floor(c/2);u+=D,g+=D;const I=g+Math.floor((S-1)*c)-w;if(I>0){if(I>D)throw new K;g-=I}const z=u+Math.floor((R-1)*c)-h;if(z>0){if(z>D)throw new K;u-=z}const q=new Fe(S,R);for(let W=0;W<R;W++){const te=u+Math.floor(W*c);for(let ce=0;ce<S;ce++)t.get(g+Math.floor(ce*c),te)&&q.set(ce,W)}return q}static moduleSize(t,i){const a=i.getHeight(),c=i.getWidth();let u=t[0],h=t[1],g=!0,w=0;for(;u<c&&h<a;){if(g!==i.get(u,h)){if(++w===5)break;g=!g}u++,h++}if(u===c||h===a)throw new K;return(u-t[0])/7}}Qr.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(t){return qe.sum(t)}static toIntArray(t){if(t==null||!t.length)return $e.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let a=0;for(const c of t)i[a++]=c;return i}static getCodeword(t){const i=Q.binarySearch($e.SYMBOL_TABLE,t&262143);return i<0?-1:($e.CODEWORD_TABLE[i]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Jr{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ct{static detectMultiple(t,i,a){let c=t.getBlackMatrix(),u=ct.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=ct.detect(a,c)),new Jr(c,u)}static detect(t,i){const a=new Array;let c=0,u=0,h=!1;for(;c<i.getHeight();){const g=ct.findVertices(i,c,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const w of a)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=ct.ROW_STEP;continue}if(h=!0,a.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return a}static findVertices(t,i,a){const c=t.getHeight(),u=t.getWidth(),h=new Array(8);return ct.copyToResult(h,ct.findRowsWithPattern(t,c,u,i,a,ct.START_PATTERN),ct.INDEXES_START_PATTERN),h[4]!=null&&(a=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),ct.copyToResult(h,ct.findRowsWithPattern(t,c,u,i,a,ct.STOP_PATTERN),ct.INDEXES_STOP_PATTERN),h}static copyToResult(t,i,a){for(let c=0;c<a.length;c++)t[a[c]]=i[c]}static findRowsWithPattern(t,i,a,c,u,h){const g=new Array(4);let w=!1;const S=new Int32Array(h.length);for(;c<i;c+=ct.ROW_STEP){let D=ct.findGuardPattern(t,u,c,a,!1,h,S);if(D!=null){for(;c>0;){const I=ct.findGuardPattern(t,u,--c,a,!1,h,S);if(I!=null)D=I;else{c++;break}}g[0]=new ke(D[0],c),g[1]=new ke(D[1],c),w=!0;break}}let R=c+1;if(w){let D=0,I=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;R<i;R++){const z=ct.findGuardPattern(t,I[0],R,a,!1,h,S);if(z!=null&&Math.abs(I[0]-z[0])<ct.MAX_PATTERN_DRIFT&&Math.abs(I[1]-z[1])<ct.MAX_PATTERN_DRIFT)I=z,D=0;else{if(D>ct.SKIPPED_ROW_COUNT_MAX)break;D++}}R-=D+1,g[2]=new ke(I[0],R),g[3]=new ke(I[1],R)}return R-c<ct.BARCODE_MIN_HEIGHT&&Q.fill(g,null),g}static findGuardPattern(t,i,a,c,u,h,g){Q.fillWithin(g,0,g.length,0);let w=i,S=0;for(;t.get(w,a)&&w>0&&S++<ct.MAX_PIXEL_DRIFT;)w--;let R=w,D=0,I=h.length;for(let z=u;R<c;R++)if(t.get(R,a)!==z)g[D]++;else{if(D===I-1){if(ct.patternMatchVariance(g,h,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return new Int32Array([w,R]);w+=g[0]+g[1],H.arraycopy(g,2,g,0,D-1),g[D-1]=0,g[D]=0,D--}else D++;g[D]=1,z=!z}return D===I-1&&ct.patternMatchVariance(g,h,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE?new Int32Array([w,R-1]):null}static patternMatchVariance(t,i,a){let c=t.length,u=0,h=0;for(let S=0;S<c;S++)u+=t[S],h+=i[S];if(u<h)return 1/0;let g=u/h;a*=g;let w=0;for(let S=0;S<c;S++){let R=t[S],D=i[S]*g,I=R>D?R-D:D-R;if(I>a)return 1/0;w+=I}return w/u}}ct.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ct.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ct.MAX_AVG_VARIANCE=.42,ct.MAX_INDIVIDUAL_VARIANCE=.8,ct.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ct.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ct.MAX_PIXEL_DRIFT=3,ct.MAX_PATTERN_DRIFT=5,ct.SKIPPED_ROW_COUNT_MAX=25,ct.ROW_STEP=5,ct.BARCODE_MIN_HEIGHT=10;class on{constructor(t,i){if(i.length===0)throw new N;this.field=t;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),H.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(t,i),this.coefficients[c]);return i}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){let h=i;i=a,a=h}let c=new Int32Array(a.length),u=a.length-i.length;H.arraycopy(a,0,c,0,u);for(let h=u;h<a.length;h++)c[h]=this.field.add(i[h-u],a[h]);return new on(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof on?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new on(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=t.coefficients,u=c.length,h=new Int32Array(a+u-1);for(let g=0;g<a;g++){let w=i[g];for(let S=0;S<u;S++)h[g+S]=this.field.add(h[g+S],this.field.multiply(w,c[S]))}return new on(this.field,h)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let a=0;a<t;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new on(this.field,i)}multiplyScalar(t){if(t===0)return new on(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],t);return new on(this.field,a)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return new on(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+t);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new on(this.field,c)}toString(){let t=new _e;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(i===0||a!==1)&&t.append(a),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class mi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Ct;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Xs extends mi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let c=0;c<t;c++)this.expTable[c]=a,a=a*i%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new on(this,new Int32Array([0])),this.one=new on(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;let a=new Int32Array(t+1);return a[0]=i,new on(this,a)}}Xs.PDF417_GF=new Xs($e.NUMBER_OF_CODEWORDS,3);class Ys{constructor(){this.field=Xs.PDF417_GF}decode(t,i,a){let c=new on(this.field,t),u=new Int32Array(i),h=!1;for(let q=i;q>0;q--){let W=c.evaluateAt(this.field.exp(q));u[i-q]=W,W!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(a!=null)for(const q of a){let W=this.field.exp(t.length-1-q),te=new on(this.field,new Int32Array([this.field.subtract(0,W),1]));g=g.multiply(te)}let w=new on(this.field,u),S=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),R=S[0],D=S[1],I=this.findErrorLocations(R),z=this.findErrorMagnitudes(D,R,I);for(let q=0;q<I.length;q++){let W=t.length-1-this.field.log(I[q]);if(W<0)throw P.getChecksumInstance();t[W]=this.field.subtract(t[W],z[q])}return I.length}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let c=t,u=i,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let I=c,z=h;if(c=u,h=g,c.isZero())throw P.getChecksumInstance();u=I;let q=this.field.getZero(),W=c.getCoefficient(c.getDegree()),te=this.field.inverse(W);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ce=u.getDegree()-c.getDegree(),Te=this.field.multiply(u.getCoefficient(u.getDegree()),te);q=q.add(this.field.buildMonomial(ce,Te)),u=u.subtract(c.multiplyByMonomial(ce,Te))}g=q.multiply(h).subtract(z).negative()}let w=g.getCoefficient(0);if(w===0)throw P.getChecksumInstance();let S=this.field.inverse(w),R=g.multiply(S),D=u.multiply(S);return[R,D]}findErrorLocations(t){let i=t.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)t.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw P.getChecksumInstance();return a}findErrorMagnitudes(t,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let S=1;S<=c;S++)u[c-S]=this.field.multiply(S,i.getCoefficient(S));let h=new on(this.field,u),g=a.length,w=new Int32Array(g);for(let S=0;S<g;S++){let R=this.field.inverse(a[S]),D=this.field.subtract(0,t.evaluateAt(R)),I=this.field.inverse(h.evaluateAt(R));w[S]=this.field.multiply(D,I)}return w}}class gi{constructor(t,i,a,c,u){t instanceof gi?this.constructor_2(t):this.constructor_1(t,i,a,c,u)}constructor_1(t,i,a,c,u){const h=i==null||a==null,g=c==null||u==null;if(h&&g)throw new K;h?(i=new ke(0,c.getY()),a=new ke(0,u.getY())):g&&(c=new ke(t.getWidth()-1,i.getY()),u=new ke(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new gi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,a){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(t>0){let w=a?this.topLeft:this.topRight,S=Math.trunc(w.getY()-t);S<0&&(S=0);let R=new ke(w.getX(),S);a?c=R:h=R}if(i>0){let w=a?this.bottomLeft:this.bottomRight,S=Math.trunc(w.getY()+i);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let R=new ke(w.getX(),S);a?u=R:g=R}return new gi(this.image,c,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ma{constructor(t,i,a,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xi{constructor(){this.buffer=""}static form(t,i){let a=-1;function c(h,g,w,S,R,D){if(h==="%%")return"%";if(i[++a]===void 0)return;h=S?parseInt(S.substr(1)):void 0;let I=R?parseInt(R.substr(1)):void 0,z;switch(D){case"s":z=i[a];break;case"c":z=i[a][0];break;case"f":z=parseFloat(i[a]).toFixed(h);break;case"p":z=parseFloat(i[a]).toPrecision(h);break;case"e":z=parseFloat(i[a]).toExponential(h);break;case"x":z=parseInt(i[a]).toString(I||16);break;case"d":z=parseFloat(parseInt(i[a],I||10).toPrecision(h)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(I);let q=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;z.length<q;)z=g!==void 0?z+W:W+z;return z}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}format(t,...i){this.buffer+=xi.form(t,i)}toString(){return this.buffer}}class os{constructor(t){this.boundingBox=new gi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let a=1;a<os.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(t)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(t)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new xi;let i=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return t.toString()}}os.MAX_NEARBY_DISTANCE=5;class Dn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>t?(t=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===t&&i.push(u.getKey())}return $e.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class pi extends os{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,S=1,R=0;for(let D=h;D<g;D++){if(i[D]==null)continue;let I=i[D],z=I.getRowNumber()-w;if(z===0)R++;else if(z===1)S=Math.max(S,R),R=1,w=I.getRowNumber();else if(z<0||I.getRowNumber()>=t.getRowCount()||z>D)i[D]=null;else{let q;S>2?q=(S-2)*z:q=z;let W=q>=D;for(let te=1;te<=q&&!W;te++)W=i[D-te]!=null;W?i[D]=null:(w=I.getRowNumber(),R=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),w=-1;for(let S=u;S<h;S++){if(g[S]==null)continue;let R=g[S];R.setRowNumberAsRowIndicatorColumn();let D=R.getRowNumber()-w;D===0||(D===1?w=R.getRowNumber():R.getRowNumber()>=t.getRowCount()?g[S]=null:w=R.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new Dn,a=new Dn,c=new Dn,u=new Dn;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,S=g.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:a.setValue(w*3+1);break;case 1:u.setValue(w/3),c.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let h=new Ma(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,i){for(let a=0;a<t.length;a++){let c=t[a];if(t[a]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>i.getRowCount()){t[a]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(t[a]=null);break;case 2:u+1!==i.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=$e.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&i[a]!=null&&t[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(t[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[a];g!=null&&(u=yi.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[a];g!=null&&(u=yi.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,a){if(!this.detectionResultColumns[t-1])return;let c=a[i],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[i],g[3]=h[i],i>0&&(g[0]=a[i-1],g[4]=u[i-1],g[5]=h[i-1]),i>1&&(g[8]=a[i-2],g[10]=u[i-2],g[11]=h[i-2]),i<a.length-1&&(g[1]=a[i+1],g[6]=u[i+1],g[7]=h[i+1]),i<a.length-2&&(g[9]=a[i+2],g[12]=u[i+2],g[13]=h[i+2]);for(let w of g)if(yi.adjustRowNumber(c,w))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new xi;for(let a=0;a<t.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class $r{constructor(t,i,a,c){this.rowNumber=$r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==$r.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}$r.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let t=0;t<$e.SYMBOL_TABLE.length;t++){let i=$e.SYMBOL_TABLE[t],a=i&1;for(let c=0;c<$e.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,tr.RATIOS_TABLE[t]||(tr.RATIOS_TABLE[t]=new Array($e.BARS_IN_MODULE)),tr.RATIOS_TABLE[t][$e.BARS_IN_MODULE-c-1]=Math.fround(u/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=tr.getDecodedCodewordValue(tr.sampleBitCounts(t));return i!==-1?i:tr.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=qe.sum(t),a=new Int32Array($e.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<$e.MODULES_IN_CODEWORD;h++){let g=i/(2*$e.MODULES_IN_CODEWORD)+h*i/$e.MODULES_IN_CODEWORD;u+t[c]<=g&&(u+=t[c],c++),a[c]++}return a}static getDecodedCodewordValue(t){let i=tr.getBitValue(t);return $e.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let a=0;a<t.length;a++)for(let c=0;c<t[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=qe.sum(t),a=new Array($e.BARS_IN_MODULE);if(i>1)for(let h=0;h<a.length;h++)a[h]=Math.fround(t[h]/i);let c=Jt.MAX_VALUE,u=-1;this.bSymbolTableReady||tr.initialize();for(let h=0;h<tr.RATIOS_TABLE.length;h++){let g=0,w=tr.RATIOS_TABLE[h];for(let S=0;S<$e.BARS_IN_MODULE;S++){let R=Math.fround(w[S]-a[S]);if(g+=Math.fround(R*R),g>=c)break}g<c&&(c=g,u=$e.SYMBOL_TABLE[h])}return u}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(M=>new Array($e.BARS_IN_MODULE));class Da{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class _a{static parseLong(t,i=void 0){return parseInt(t,i)}}class ls extends y{}ls.kind="NullPointerException";class Ia{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,a){if(t==null)throw new ls;if(i<0||i>t.length||a<0||i+a>t.length||i+a<0)throw new V;if(a===0)return;for(let c=0;c<a;c++)this.write(t[i+c])}flush(){}close(){}}class nc extends y{}class Ku extends Ia{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new nc;a=G.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,a){if(i<0||i>t.length||a<0||i+a-t.length>0)throw new V;this.ensureCapacity(this.count+a),H.arraycopy(t,i,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var jt;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function rc(){if(typeof window<"u")return window.BigInt||null;if(typeof ou<"u")return ou.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cs;function wi(M){if(typeof cs>"u"&&(cs=rc()),cs===null)throw new Error("BigInt is not supported!");return cs(M)}function Qu(){let M=[];M[0]=wi(1);let t=wi(900);M[1]=t;for(let i=2;i<16;i++)M[i]=M[i-1]*t;return M}class he{static decode(t,i){let a=new _e(""),c=ue.ISO8859_1;a.enableDecoding(c);let u=1,h=t[u++],g=new Da;for(;u<t[0];){switch(h){case he.TEXT_COMPACTION_MODE_LATCH:u=he.textCompaction(t,u,a);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:u=he.byteCompaction(h,t,c,u,a);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[u++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:u=he.numericCompaction(t,u,a);break;case he.ECI_CHARSET:ue.getCharacterSetECIByValue(t[u++]);break;case he.ECI_GENERAL_PURPOSE:u+=2;break;case he.ECI_USER_DEFINED:u++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=he.decodeMacroBlock(t,u,g);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new ae;default:u--,u=he.textCompaction(t,u,a);break}if(u<t.length)h=t[u++];else throw ae.getFormatInstance()}if(a.length()===0)throw ae.getFormatInstance();let w=new at(null,a.toString(),null,i);return w.setOther(g),w}static decodeMacroBlock(t,i,a){if(i+he.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ae.getFormatInstance();let c=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<he.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)c[g]=t[i];a.setSegmentIndex(G.parseInt(he.decodeBase900toBase10(c,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new _e;i=he.textCompaction(t,i,u),a.setFileId(u.toString());let h=-1;for(t[i]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<t[0];)switch(t[i]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new _e;i=he.textCompaction(t,i+1,g),a.setFileName(g.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new _e;i=he.textCompaction(t,i+1,w),a.setSender(w.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new _e;i=he.textCompaction(t,i+1,S),a.setAddressee(S.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new _e;i=he.numericCompaction(t,i+1,R),a.setSegmentCount(G.parseInt(R.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new _e;i=he.numericCompaction(t,i+1,D),a.setTimestamp(_a.parseLong(D.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new _e;i=he.numericCompaction(t,i+1,I),a.setChecksum(G.parseInt(I.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new _e;i=he.numericCompaction(t,i+1,z),a.setFileSize(_a.parseLong(z.toString()));break;default:throw ae.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw ae.getFormatInstance()}if(h!==-1){let g=i-h;a.isLastSegment()&&g--,a.setOptionalData(Q.copyOfRange(t,h,h+g))}return i}static textCompaction(t,i,a){let c=new Int32Array((t[0]-i)*2),u=new Int32Array((t[0]-i)*2),h=0,g=!1;for(;i<t[0]&&!g;){let w=t[i++];if(w<he.TEXT_COMPACTION_MODE_LATCH)c[h]=w/30,c[h+1]=w%30,h+=2;else switch(w){case he.TEXT_COMPACTION_MODE_LATCH:c[h++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=t[i++],u[h]=w,h++;break}}return he.decodeTextCompaction(c,u,h,a),i}static decodeTextCompaction(t,i,a,c){let u=jt.ALPHA,h=jt.ALPHA,g=0;for(;g<a;){let w=t[g],S="";switch(u){case jt.ALPHA:if(w<26)S=String.fromCharCode(65+w);else switch(w){case 26:S=" ";break;case he.LL:u=jt.LOWER;break;case he.ML:u=jt.MIXED;break;case he.PS:h=u,u=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.LOWER:if(w<26)S=String.fromCharCode(97+w);else switch(w){case 26:S=" ";break;case he.AS:h=u,u=jt.ALPHA_SHIFT;break;case he.ML:u=jt.MIXED;break;case he.PS:h=u,u=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.MIXED:if(w<he.PL)S=he.MIXED_CHARS[w];else switch(w){case he.PL:u=jt.PUNCT;break;case 26:S=" ";break;case he.LL:u=jt.LOWER;break;case he.AL:u=jt.ALPHA;break;case he.PS:h=u,u=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.PUNCT:if(w<he.PAL)S=he.PUNCT_CHARS[w];else switch(w){case he.PAL:u=jt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(u=h,w<26)S=String.fromCharCode(65+w);else switch(w){case 26:S=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(u=h,w<he.PAL)S=he.PUNCT_CHARS[w];else switch(w){case he.PAL:u=jt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case he.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break}S!==""&&c.append(S),g++}}static byteCompaction(t,i,a,c,u){let h=new Ku,g=0,w=0,S=!1;switch(t){case he.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),D=i[c++];for(;c<i[0]&&!S;)switch(R[g++]=D,w=900*w+D,D=i[c++],D){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:c--,S=!0;break;default:if(g%5===0&&g>0){for(let I=0;I<6;++I)h.write(Number(wi(w)>>wi(8*(5-I))));w=0,g=0}break}c===i[0]&&D<he.TEXT_COMPACTION_MODE_LATCH&&(R[g++]=D);for(let I=0;I<g;I++)h.write(R[I]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!S;){let I=i[c++];if(I<he.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+I;else switch(I){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:c--,S=!0;break}if(g%5===0&&g>0){for(let z=0;z<6;++z)h.write(Number(wi(w)>>wi(8*(5-z))));w=0,g=0}}break}return u.append(Ye.decode(h.toByteArray(),a)),c}static numericCompaction(t,i,a){let c=0,u=!1,h=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!u;){let g=t[i++];if(i===t[0]&&(u=!0),g<he.TEXT_COMPACTION_MODE_LATCH)h[c]=g,c++;else switch(g){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%he.MAX_NUMERIC_CODEWORDS===0||g===he.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(he.decodeBase900toBase10(h,c)),c=0)}return i}static decodeBase900toBase10(t,i){let a=wi(0);for(let u=0;u<i;u++)a+=he.EXP900[i-u-1]*wi(t[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new ae;return c.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=rc()?Qu():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ht{constructor(){}static decode(t,i,a,c,u,h,g){let w=new gi(t,i,a,c,u),S=null,R=null,D;for(let q=!0;;q=!1){if(i!=null&&(S=ht.getRowIndicatorColumn(t,w,i,!0,h,g)),c!=null&&(R=ht.getRowIndicatorColumn(t,w,c,!1,h,g)),D=ht.merge(S,R),D==null)throw K.getNotFoundInstance();let W=D.getBoundingBox();if(q&&W!=null&&(W.getMinY()<w.getMinY()||W.getMaxY()>w.getMaxY()))w=W;else break}D.setBoundingBox(w);let I=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,S),D.setDetectionResultColumn(I,R);let z=S!=null;for(let q=1;q<=I;q++){let W=z?q:I-q;if(D.getDetectionResultColumn(W)!==void 0)continue;let te;W===0||W===I?te=new pi(w,W===0):te=new os(w),D.setDetectionResultColumn(W,te);let ce=-1,Te=ce;for(let Ne=w.getMinY();Ne<=w.getMaxY();Ne++){if(ce=ht.getStartColumn(D,W,Ne,z),ce<0||ce>w.getMaxX()){if(Te===-1)continue;ce=Te}let Se=ht.detectCodeword(t,w.getMinX(),w.getMaxX(),z,ce,Ne,h,g);Se!=null&&(te.setCodeword(Ne,Se),Te=ce,h=Math.min(h,Se.getWidth()),g=Math.max(g,Se.getWidth()))}}return ht.createDecoderResult(D)}static merge(t,i){if(t==null&&i==null)return null;let a=ht.getBarcodeMetadata(t,i);if(a==null)return null;let c=gi.merge(ht.adjustBoundingBox(t),ht.adjustBoundingBox(i));return new yi(a,c)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let a=ht.getMax(i),c=0;for(let g of i)if(c+=a-g,g>0)break;let u=t.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let h=0;for(let g=i.length-1;g>=0&&(h+=a-i[g],!(i[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return t.getBoundingBox().addMissingRows(c,h,t.isLeft())}static getMax(t){let i=-1;for(let a of t)i=Math.max(i,a);return i}static getBarcodeMetadata(t,i){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(t,i,a,c,u,h){let g=new pi(i,c);for(let w=0;w<2;w++){let S=w===0?1:-1,R=Math.trunc(Math.trunc(a.getX()));for(let D=Math.trunc(Math.trunc(a.getY()));D<=i.getMaxY()&&D>=i.getMinY();D+=S){let I=ht.detectCodeword(t,0,t.getWidth(),c,R,D,u,h);I!=null&&(g.setCodeword(D,I),c?R=I.getStartX():R=I.getEndX())}}return g}static adjustCodewordCount(t,i){let a=i[0][1],c=a.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ht.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(u<1||u>$e.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(t){let i=ht.createBarcodeMatrix(t);ht.adjustCodewordCount(t,i);let a=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let w=0;w<t.getBarcodeRowCount();w++)for(let S=0;S<t.getBarcodeColumnCount();S++){let R=i[w][S+1].getValue(),D=w*t.getBarcodeColumnCount()+S;R.length===0?a.push(D):R.length===1?c[D]=R[0]:(h.push(D),u.push(R))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return ht.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,$e.toIntArray(a),$e.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(t,i,a,c,u){let h=new Int32Array(c.length),g=100;for(;g-- >0;){for(let w=0;w<h.length;w++)i[c[w]]=u[w][h[w]];try{return ht.decodeCodewords(i,t,a)}catch(w){if(!(w instanceof P))throw w}if(h.length===0)throw P.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<u[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw P.getChecksumInstance()}throw P.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new Dn;let a=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,a,c){let u=c?1:-1,h=null;if(ht.isValidBarcodeColumn(t,i-u)&&(h=t.getDetectionResultColumn(i-u).getCodeword(a)),h!=null)return c?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(i).getCodewordNearby(a),h!=null)return c?h.getStartX():h.getEndX();if(ht.isValidBarcodeColumn(t,i-u)&&(h=t.getDetectionResultColumn(i-u).getCodewordNearby(a)),h!=null)return c?h.getEndX():h.getStartX();let g=0;for(;ht.isValidBarcodeColumn(t,i-u);){i-=u;for(let w of t.getDetectionResultColumn(i).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,a,c,u,h,g,w){u=ht.adjustCodewordStartColumn(t,i,a,c,u,h);let S=ht.getModuleBitCount(t,i,a,c,u,h);if(S==null)return null;let R,D=qe.sum(S);if(c)R=u+D;else{for(let q=0;q<S.length/2;q++){let W=S[q];S[q]=S[S.length-1-q],S[S.length-1-q]=W}R=u,u=R-D}if(!ht.checkCodewordSkew(D,g,w))return null;let I=tr.getDecodedValue(S),z=$e.getCodeword(I);return z===-1?null:new $r(u,R,ht.getCodewordBucketNumber(I),z)}static getModuleBitCount(t,i,a,c,u,h){let g=u,w=new Int32Array(8),S=0,R=c?1:-1,D=c;for(;(c?g<a:g>=i)&&S<w.length;)t.get(g,h)===D?(w[S]++,g+=R):(S++,D=!D);return S===w.length||g===(c?a:i)&&S===w.length-1?w:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,a,c,u,h){let g=u,w=c?-1:1;for(let S=0;S<2;S++){for(;(c?g>=i:g<a)&&c===t.get(g,h);){if(Math.abs(u-g)>ht.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,c=!c}return g}static checkCodewordSkew(t,i,a){return i-ht.CODEWORD_SKEW_SIZE<=t&&t<=a+ht.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,a){if(t.length===0)throw ae.getFormatInstance();let c=1<<i+1,u=ht.correctErrors(t,a,c);ht.verifyCodewordCount(t,c);let h=he.decode(t,""+i);return h.setErrorsCorrected(u),h.setErasures(a.length),h}static correctErrors(t,i,a){if(i!=null&&i.length>a/2+ht.MAX_ERRORS||a<0||a>ht.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return ht.errorCorrection.decode(t,a,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ae.getFormatInstance();let a=t[0];if(a>t.length)throw ae.getFormatInstance();if(a===0)if(i<t.length)t[0]=t.length-i;else throw ae.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((t&1)!==a&&(a=t&1,c--,c<0));)i[c]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ht.getCodewordBucketNumber(ht.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new xi;for(let a=0;a<t.length;a++){i.format("Row %2d: ",a);for(let c=0;c<t[a].length;c++){let u=t[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}ht.CODEWORD_SKEW_SIZE=2,ht.MAX_ERRORS=3,ht.MAX_EC_CODEWORDS=512,ht.errorCorrection=new Ys;class Fn{decode(t,i=null){let a=Fn.decode(t,i,!1);if(a==null||a.length===0||a[0]==null)throw K.getNotFoundInstance();return a[0]}decodeMultiple(t,i=null){try{return Fn.decode(t,i,!0)}catch(a){throw a instanceof ae||a instanceof P?K.getNotFoundInstance():a}}static decode(t,i,a){const c=new Array,u=ct.detectMultiple(t,i,a);for(const h of u.getPoints()){const g=ht.decode(u.getBits(),h[4],h[5],h[6],h[7],Fn.getMinCodewordWidth(h),Fn.getMaxCodewordWidth(h)),w=new Ee(g.getText(),g.getRawBytes(),void 0,h,ge.PDF_417);w.putMetadata(Ie.ERROR_CORRECTION_LEVEL,g.getECLevel());const S=g.getOther();S!=null&&w.putMetadata(Ie.PDF417_EXTRA_METADATA,S),c.push(w)}return c.map(h=>h)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?G.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Fn.getMaxWidth(t[0],t[4]),Fn.getMaxWidth(t[6],t[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Fn.getMaxWidth(t[1],t[5]),Fn.getMaxWidth(t[7],t[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Fn.getMinWidth(t[0],t[4]),Fn.getMinWidth(t[6],t[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Fn.getMinWidth(t[1],t[5]),Fn.getMinWidth(t[7],t[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class qs extends y{}qs.kind="ReaderException";class ic{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!f(t)&&t.get(pe.TRY_HARDER)===!0,a=f(t)?null:t.get(pe.POSSIBLE_FORMATS),c=new Array;if(!f(a)){const u=a.some(h=>h===ge.UPC_A||h===ge.UPC_E||h===ge.EAN_13||h===ge.EAN_8||h===ge.CODABAR||h===ge.CODE_39||h===ge.CODE_93||h===ge.CODE_128||h===ge.ITF||h===ge.RSS_14||h===ge.RSS_EXPANDED);u&&!i&&c.push(new fi(t,this.verbose)),a.includes(ge.QR_CODE)&&c.push(new Qr),a.includes(ge.DATA_MATRIX)&&c.push(new Cr),a.includes(ge.AZTEC)&&c.push(new Br),a.includes(ge.PDF_417)&&c.push(new Fn),u&&i&&c.push(new fi(t,this.verbose))}c.length===0&&(i||c.push(new fi(t,this.verbose)),c.push(new Qr),c.push(new Cr),c.push(new Br),c.push(new Fn),i&&c.push(new fi(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new qs("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(a){if(a instanceof qs)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class Ju extends me{constructor(t=null,i=500){const a=new ic;a.setHints(t),super(a,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class $u extends me{constructor(t=500){super(new Fn,t)}}class ef extends me{constructor(t=500){super(new Qr,t)}}var Ws;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Ws||(Ws={}));var An=Ws;class Mo{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ke(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=t;u++){const h=a.multiply(new Ke(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(h),a=h}}return i[t]}encode(t,i){if(i===0)throw new N("No error correction bytes");const a=t.length-i;if(a<=0)throw new N("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);H.arraycopy(t,0,u,0,a);let h=new Ke(this.field,u);h=h.multiplyByMonomial(i,1);const w=h.divide(c)[1].getCoefficients(),S=i-w.length;for(let R=0;R<S;R++)t[a+R]=0;H.arraycopy(w,0,t,a+S,w.length)}}class nn{constructor(){}static applyMaskPenaltyRule1(t){return nn.applyMaskPenaltyRule1Internal(t,!0)+nn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const g=a[h];for(let w=0;w<c-1;w++){const S=g[w];S===g[w+1]&&S===a[h+1][w]&&S===a[h+1][w+1]&&i++}}return nn.N2*i}static applyMaskPenaltyRule3(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let g=0;g<c;g++){const w=a[h];g+6<c&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(nn.isWhiteHorizontal(w,g-4,g)||nn.isWhiteHorizontal(w,g+7,g+11))&&i++,h+6<u&&a[h][g]===1&&a[h+1][g]===0&&a[h+2][g]===1&&a[h+3][g]===1&&a[h+4][g]===1&&a[h+5][g]===0&&a[h+6][g]===1&&(nn.isWhiteVertical(a,g,h-4,h)||nn.isWhiteVertical(a,g,h+7,h+11))&&i++}return i*nn.N3}static isWhiteHorizontal(t,i,a){i=Math.max(i,0),a=Math.min(a,t.length);for(let c=i;c<a;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,i,a,c){a=Math.max(a,0),c=Math.min(c,t.length);for(let u=a;u<c;u++)if(t[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const a=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let w=0;w<u;w++){const S=a[w];for(let R=0;R<c;R++)S[R]===1&&i++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*nn.N4}static getDataMaskBit(t,i,a){let c,u;switch(t){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,i){let a=0;const c=i?t.getHeight():t.getWidth(),u=i?t.getWidth():t.getHeight(),h=t.getArray();for(let g=0;g<c;g++){let w=0,S=-1;for(let R=0;R<u;R++){const D=i?h[g][R]:h[R][g];D===S?w++:(w>=5&&(a+=nn.N1+(w-5)),w=1,S=D)}w>=5&&(a+=nn.N1+(w-5))}return a}}nn.N1=3,nn.N2=3,nn.N3=40,nn.N4=10;class Zs{constructor(t,i){this.width=t,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,a){this.bytes[i][t]=a}setBoolean(t,i,a){this.bytes[i][t]=a?1:0}clear(t){for(const i of this.bytes)Q.fill(i,t)}equals(t){if(!(t instanceof Zs))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],h=i.bytes[a];for(let g=0,w=this.width;g<w;++g)if(u[g]!==h[g])return!1}return!0}toString(){const t=new _e;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new _e;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ji.NUM_MASK_PATTERNS}}ji.NUM_MASK_PATTERNS=8;class Ut extends y{}Ut.kind="WriterException";class et{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,a,c,u){et.clearMatrix(u),et.embedBasicPatterns(a,u),et.embedTypeInfo(i,c,u),et.maybeEmbedVersionInfo(a,u),et.embedDataBits(t,c,u)}static embedBasicPatterns(t,i){et.embedPositionDetectionPatternsAndSeparators(i),et.embedDarkDotAtLeftBottomCorner(i),et.maybeEmbedPositionAdjustmentPatterns(t,i),et.embedTimingPatterns(i)}static embedTypeInfo(t,i,a){const c=new oe;et.makeTypeInfoBits(t,i,c);for(let u=0,h=c.getSize();u<h;++u){const g=c.get(c.getSize()-1-u),w=et.TYPE_INFO_COORDINATES[u],S=w[0],R=w[1];if(a.setBoolean(S,R,g),u<8){const D=a.getWidth()-u-1;a.setBoolean(D,8,g)}else{const I=a.getHeight()-7+(u-8);a.setBoolean(8,I,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const a=new oe;et.makeVersionInfoBits(t,a);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+h,g),i.setBoolean(i.getHeight()-11+h,u,g)}}static embedDataBits(t,i,a){let c=0,u=-1,h=a.getWidth()-1,g=a.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<a.getHeight();){for(let w=0;w<2;++w){const S=h-w;if(!et.isEmpty(a.get(S,g)))continue;let R;c<t.getSize()?(R=t.get(c),++c):R=!1,i!==255&&nn.getDataMaskBit(i,S,g)&&(R=!R),a.setBoolean(S,g,R)}g+=u}u=-u,g+=u,h-=2}if(c!==t.getSize())throw new Ut("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-G.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new N("0 polynomial");const a=et.findMSBSet(i);for(t<<=a-1;et.findMSBSet(t)>=a;)t^=i<<et.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,i,a){if(!ji.isValidMaskPattern(i))throw new Ut("Invalid mask pattern");const c=t.getBits()<<3|i;a.appendBits(c,5);const u=et.calculateBCHCode(c,et.TYPE_INFO_POLY);a.appendBits(u,10);const h=new oe;if(h.appendBits(et.TYPE_INFO_MASK_PATTERN,15),a.xor(h),a.getSize()!==15)throw new Ut("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const a=et.calculateBCHCode(t.getVersionNumber(),et.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Ut("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const a=(i+1)%2;et.isEmpty(t.get(i,6))&&t.setNumber(i,6,a),et.isEmpty(t.get(6,i))&&t.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ut;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,a){for(let c=0;c<8;++c){if(!et.isEmpty(a.get(t+c,i)))throw new Ut;a.setNumber(t+c,i,0)}}static embedVerticalSeparationPattern(t,i,a){for(let c=0;c<7;++c){if(!et.isEmpty(a.get(t,i+c)))throw new Ut;a.setNumber(t,i+c,0)}}static embedPositionAdjustmentPattern(t,i,a){for(let c=0;c<5;++c){const u=et.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)a.setNumber(t+h,i+c,u[h])}}static embedPositionDetectionPattern(t,i,a){for(let c=0;c<7;++c){const u=et.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)a.setNumber(t+h,i+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const i=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,t),et.embedPositionDetectionPattern(t.getWidth()-i,0,t),et.embedPositionDetectionPattern(0,t.getWidth()-i,t);const a=8;et.embedHorizontalSeparationPattern(0,a-1,t),et.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),et.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const c=7;et.embedVerticalSeparationPattern(c,0,t),et.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),et.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,c=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,h=c.length;u!==h;u++){const g=c[u];if(g>=0)for(let w=0;w!==h;w++){const S=c[w];S>=0&&et.isEmpty(i.get(S,g))&&et.embedPositionAdjustmentPattern(S-2,g-2,i)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class tf{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qt{constructor(){}static calculateMaskPenalty(t){return nn.applyMaskPenaltyRule1(t)+nn.applyMaskPenaltyRule2(t)+nn.applyMaskPenaltyRule3(t)+nn.applyMaskPenaltyRule4(t)}static encode(t,i,a=null){let c=qt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(An.CHARACTER_SET)!==void 0;u&&(c=a.get(An.CHARACTER_SET).toString());const h=this.chooseMode(t,c),g=new oe;if(h===We.BYTE&&(u||qt.DEFAULT_BYTE_MODE_ENCODING!==c)){const Ne=ue.getCharacterSetECIByName(c);Ne!==void 0&&this.appendECI(Ne,g)}this.appendModeInfo(h,g);const w=new oe;this.appendBytes(t,h,w,c);let S;if(a!==null&&a.get(An.QR_VERSION)!==void 0){const Ne=Number.parseInt(a.get(An.QR_VERSION).toString(),10);S=Ge.getVersionForNumber(Ne);const Se=this.calculateBitsNeeded(h,g,w,S);if(!this.willFit(Se,S,i))throw new Ut("Data too big for requested version")}else S=this.recommendVersion(i,h,g,w);const R=new oe;R.appendBitArray(g);const D=h===We.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(D,S,h,R),R.appendBitArray(w);const I=S.getECBlocksForLevel(i),z=S.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(z,R);const q=this.interleaveWithECBytes(R,S.getTotalCodewords(),z,I.getNumBlocks()),W=new ji;W.setECLevel(i),W.setMode(h),W.setVersion(S);const te=S.getDimensionForVersion(),ce=new Zs(te,te),Te=this.chooseMaskPattern(q,i,S,ce);return W.setMaskPattern(Te),et.buildMatrix(q,i,S,Te,ce),W.setMatrix(ce),W}static recommendVersion(t,i,a,c){const u=this.calculateBitsNeeded(i,a,c,Ge.getVersionForNumber(1)),h=this.chooseVersion(u,t),g=this.calculateBitsNeeded(i,a,c,h);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,a,c){return i.getSize()+t.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(t){return t<qt.ALPHANUMERIC_TABLE.length?qt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ue.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return We.KANJI;let a=!1,c=!1;for(let u=0,h=t.length;u<h;++u){const g=t.charAt(u);if(qt.isDigit(g))a=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return We.BYTE}return c?We.ALPHANUMERIC:a?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ye.encode(t,ue.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,i,a,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<ji.NUM_MASK_PATTERNS;g++){et.buildMatrix(t,i,a,g,c);let w=this.calculateMaskPenalty(c);w<u&&(u=w,h=g)}return h}static chooseVersion(t,i){for(let a=1;a<=40;a++){const c=Ge.getVersionForNumber(a);if(qt.willFit(t,c,i))return c}throw new Ut("Data too big")}static willFit(t,i,a){const c=i.getTotalCodewords(),h=i.getECBlocksForLevel(a).getTotalECCodewords(),g=c-h,w=(t+7)/8;return g>=w}static terminateBits(t,i){const a=t*8;if(i.getSize()>a)throw new Ut("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let h=0;h<4&&i.getSize()<a;++h)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let h=c;h<8;h++)i.appendBit(!1);const u=t-i.getSizeInBytes();for(let h=0;h<u;++h)i.appendBits((h&1)===0?236:17,8);if(i.getSize()!==a)throw new Ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,a,c,u,h){if(c>=a)throw new Ut("Block ID too large");const g=t%a,w=a-g,S=Math.floor(t/a),R=S+1,D=Math.floor(i/a),I=D+1,z=S-D,q=R-I;if(z!==q)throw new Ut("EC bytes mismatch");if(a!==w+g)throw new Ut("RS blocks mismatch");if(t!==(D+z)*w+(I+q)*g)throw new Ut("Total bytes mismatch");c<w?(u[0]=D,h[0]=z):(u[0]=I,h[0]=q)}static interleaveWithECBytes(t,i,a,c){if(t.getSizeInBytes()!==a)throw new Ut("Number of bits and data bytes does not match");let u=0,h=0,g=0;const w=new Array;for(let R=0;R<c;++R){const D=new Int32Array(1),I=new Int32Array(1);qt.getNumDataBytesAndNumECBytesForBlockID(i,a,c,R,D,I);const z=D[0],q=new Uint8Array(z);t.toBytes(8*u,q,0,z);const W=qt.generateECBytes(q,I[0]);w.push(new tf(q,W)),h=Math.max(h,z),g=Math.max(g,W.length),u+=D[0]}if(a!==u)throw new Ut("Data bytes does not match offset");const S=new oe;for(let R=0;R<h;++R)for(const D of w){const I=D.getDataBytes();R<I.length&&S.appendBits(I[R],8)}for(let R=0;R<g;++R)for(const D of w){const I=D.getErrorCorrectionBytes();R<I.length&&S.appendBits(I[R],8)}if(i!==S.getSizeInBytes())throw new Ut("Interleaving error: "+i+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(t,i){const a=t.length,c=new Int32Array(a+i);for(let h=0;h<a;h++)c[h]=t[h]&255;new Mo(Xe.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=c[a+h];return u}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,a,c){const u=a.getCharacterCountBits(i);if(t>=1<<u)throw new Ut(t+" is bigger than "+((1<<u)-1));c.appendBits(t,u)}static appendBytes(t,i,a,c){switch(i){case We.NUMERIC:qt.appendNumericBytes(t,a);break;case We.ALPHANUMERIC:qt.appendAlphanumericBytes(t,a);break;case We.BYTE:qt.append8BitBytes(t,a,c);break;case We.KANJI:qt.appendKanjiBytes(t,a);break;default:throw new Ut("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=qt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const a=t.length;let c=0;for(;c<a;){const u=qt.getDigit(t.charAt(c));if(c+2<a){const h=qt.getDigit(t.charAt(c+1)),g=qt.getDigit(t.charAt(c+2));i.appendBits(u*100+h*10+g,10),c+=3}else if(c+1<a){const h=qt.getDigit(t.charAt(c+1));i.appendBits(u*10+h,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(t,i){const a=t.length;let c=0;for(;c<a;){const u=qt.getAlphanumericCode(t.charCodeAt(c));if(u===-1)throw new Ut;if(c+1<a){const h=qt.getAlphanumericCode(t.charCodeAt(c+1));if(h===-1)throw new Ut;i.appendBits(u*45+h,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(t,i,a){let c;try{c=Ye.encode(t,a)}catch(u){throw new Ut(u)}for(let u=0,h=c.length;u!==h;u++){const g=c[u];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let a;try{a=Ye.encode(t,ue.SJIS)}catch(u){throw new Ut(u)}const c=a.length;for(let u=0;u<c;u+=2){const h=a[u]&255,g=a[u+1]&255,w=h<<8&4294967295|g;let S=-1;if(w>=33088&&w<=40956?S=w-33088:w>=57408&&w<=60351&&(S=w-49472),S===-1)throw new Ut("Invalid byte sequence");const R=(S>>8)*192+(S&255);i.appendBits(R,13)}}static appendECI(t,i){i.appendBits(We.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qt.DEFAULT_BYTE_MODE_ENCODING=ue.UTF8.getName();class Pi{write(t,i,a,c=null){if(t.length===0)throw new N("Found empty contents");if(i<0||a<0)throw new N("Requested dimensions are too small: "+i+"x"+a);let u=Lt.L,h=Pi.QUIET_ZONE_SIZE;c!==null&&(c.get(An.ERROR_CORRECTION)!==void 0&&(u=Lt.fromString(c.get(An.ERROR_CORRECTION).toString())),c.get(An.MARGIN)!==void 0&&(h=Number.parseInt(c.get(An.MARGIN).toString(),10)));const g=qt.encode(t,u,c);return this.renderResult(g,i,a,h)}writeToDom(t,i,a,c,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(i,a,c,u);t&&t.appendChild(h)}renderResult(t,i,a,c){const u=t.getMatrix();if(u===null)throw new xt;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,S=g+c*2,R=Math.max(i,w),D=Math.max(a,S),I=Math.min(Math.floor(R/w),Math.floor(D/S)),z=Math.floor((R-h*I)/2),q=Math.floor((D-g*I)/2),W=this.createSVGElement(R,D);for(let te=0,ce=q;te<g;te++,ce+=I)for(let Te=0,Ne=z;Te<h;Te++,Ne+=I)if(u.get(Te,te)===1){const Se=this.createSvgRectElement(Ne,ce,I,I);W.appendChild(Se)}return W}createSVGElement(t,i){const a=document.createElementNS(Pi.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(t,i,a,c){const u=document.createElementNS(Pi.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Pi.QUIET_ZONE_SIZE=4,Pi.SVG_NS="http://www.w3.org/2000/svg";class us{encode(t,i,a,c,u){if(t.length===0)throw new N("Found empty contents");if(i!==ge.QR_CODE)throw new N("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new N(`Requested dimensions are too small: ${a}x${c}`);let h=Lt.L,g=us.QUIET_ZONE_SIZE;u!==null&&(u.get(An.ERROR_CORRECTION)!==void 0&&(h=Lt.fromString(u.get(An.ERROR_CORRECTION).toString())),u.get(An.MARGIN)!==void 0&&(g=Number.parseInt(u.get(An.MARGIN).toString(),10)));const w=qt.encode(t,h,u);return us.renderResult(w,a,c,g)}static renderResult(t,i,a,c){const u=t.getMatrix();if(u===null)throw new xt;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,S=g+c*2,R=Math.max(i,w),D=Math.max(a,S),I=Math.min(Math.floor(R/w),Math.floor(D/S)),z=Math.floor((R-h*I)/2),q=Math.floor((D-g*I)/2),W=new Fe(R,D);for(let te=0,ce=q;te<g;te++,ce+=I)for(let Te=0,Ne=z;Te<h;Te++,Ne+=I)u.get(Te,te)===1&&W.setRegion(Ne,ce,I,I);return W}}us.QUIET_ZONE_SIZE=4;class nf{encode(t,i,a,c,u){let h;switch(i){case ge.QR_CODE:h=new us;break;default:throw new N("No encoder available for format "+i)}return h.encode(t,i,a,c,u)}}class jr extends Me{constructor(t,i,a,c,u,h,g,w){if(super(h,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+h>i||u+g>a)throw new N("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=t*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.yuvData,u,c,0,a),c;for(let h=0;h<i;h++){const g=h*t;H.arraycopy(this.yuvData,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,a,c){return new jr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,a,c,!1)}renderThumbnail(){const t=this.getWidth()/jr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/jr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const g=h*t;for(let w=0;w<t;w++){const S=c[u+w*jr.THUMBNAIL_SCALE_FACTOR]&255;a[g+w]=4278190080|S*65793}u+=this.dataWidth*jr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/jr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/jr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const h=u+t/2;for(let g=u,w=u+t-1;g<h;g++,w--){const S=a[g];a[g]=a[w],a[w]=S}}}invert(){return new je(this)}}jr.THUMBNAIL_SCALE_FACTOR=2;class Ks extends Me{constructor(t,i,a,c,u,h,g){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,t.BYTES_PER_ELEMENT===4){const w=i*a,S=new Uint8ClampedArray(w);for(let R=0;R<w;R++){const D=t[R],I=D>>16&255,z=D>>7&510,q=D&255;S[R]=(I+z+q)/4&255}this.luminances=S}else this.luminances=t;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=t*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.luminances,u,c,0,a),c;for(let h=0;h<i;h++){const g=h*t;H.arraycopy(this.luminances,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,a,c){return new Ks(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new je(this)}}class fs extends ue{static forName(t){return this.getCharacterSetECIByName(t)}}class Do{}Do.ISO_8859_1=ue.ISO8859_1;class _o{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Io{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class sc{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ki extends sc{constructor(t,i,a){super(t),this.value=i,this.bitCount=a}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new ki(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ki(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+G.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ba extends ki{constructor(t,i,a){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(t,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(t,i){return new Ba(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ds(M,t,i){return new Ba(M,t,i)}function Qs(M,t,i){return new ki(M,t,i)}const rf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bi=0,Js=1,fr=2,hs=3,nr=4,sf=new ki(null,0,0),ms=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ac(M){for(let t of M)Q.fill(t,-1);return M[bi][nr]=0,M[Js][nr]=0,M[Js][bi]=28,M[hs][nr]=0,M[fr][nr]=0,M[fr][bi]=15,M}const Bo=ac(Q.createInt32Array(6,6));class xr{constructor(t,i,a,c){this.token=t,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let a=this.bitCount,c=this.token;if(t!==this.mode){let h=ms[this.mode][t];c=Qs(c,h&65535,h>>16),a+=h>>16}let u=t===fr?4:5;return c=Qs(c,i,u),new xr(c,t,0,a+u)}shiftAndAppend(t,i){let a=this.token,c=this.mode===fr?4:5;return a=Qs(a,Bo[this.mode][t],c),a=Qs(a,i,5),new xr(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===nr||this.mode===fr){let g=ms[a][bi];i=Qs(i,g&65535,g>>16),c+=g>>16,a=bi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new xr(i,a,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=ds(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new xr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(ms[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=xr.calculateBinaryShiftCost(t)-xr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new oe;for(const c of i)c.appendTo(a,t);return a}toString(){return Be.format("%s bits=%d bytes=%d",rf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}xr.INITIAL_STATE=new xr(sf,bi,0,0);function Lo(M){const t=Be.getCharCode(" "),i=Be.getCharCode("."),a=Be.getCharCode(",");M[bi][t]=1;const c=Be.getCharCode("Z"),u=Be.getCharCode("A");for(let I=u;I<=c;I++)M[bi][I]=I-u+2;M[Js][t]=1;const h=Be.getCharCode("z"),g=Be.getCharCode("a");for(let I=g;I<=h;I++)M[Js][I]=I-g+2;M[fr][t]=1;const w=Be.getCharCode("9"),S=Be.getCharCode("0");for(let I=S;I<=w;I++)M[fr][I]=I-S+2;M[fr][a]=12,M[fr][i]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<R.length;I++)M[hs][Be.getCharCode(R[I])]=I;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<D.length;I++)Be.getCharCode(D[I])>0&&(M[nr][Be.getCharCode(D[I])]=I);return M}const La=Lo(Q.createInt32Array(5,256));class gs{constructor(t){this.text=t}encode(){const t=Be.getCharCode(" "),i=Be.getCharCode(`
`);let a=Io.singletonList(xr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Be.getCharCode("\r"):h=g===i?2:0;break;case Be.getCharCode("."):h=g===t?3:0;break;case Be.getCharCode(","):h=g===t?4:0;break;case Be.getCharCode(":"):h=g===t?5:0;break;default:h=0}h>0?(a=gs.updateStateListForPair(a,u,h),u++):a=this.updateStateListForChar(a,u)}return Io.min(a,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const a=[];for(let c of t)this.updateStateForChar(c,i,a);return gs.simplifyStates(a)}updateStateForChar(t,i,a){let c=this.text[i]&255,u=La[t.getMode()][c]>0,h=null;for(let g=0;g<=nr;g++){let w=La[g][c];if(w>0){if(h==null&&(h=t.endBinaryShift(i)),!u||g===t.getMode()||g===fr){const S=h.latchAndAppend(g,w);a.push(S)}if(!u&&Bo[t.getMode()][g]>=0){const S=h.shiftAndAppend(g,w);a.push(S)}}}if(t.getBinaryShiftByteCount()>0||La[t.getMode()][c]===0){let g=t.addBinaryShiftChar(i);a.push(g)}}static updateStateListForPair(t,i,a){const c=[];for(let u of t)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(t,i,a,c){let u=t.endBinaryShift(i);if(c.push(u.latchAndAppend(nr,a)),t.getMode()!==nr&&c.push(u.shiftAndAppend(nr,a)),a===3||a===4){let h=u.latchAndAppend(fr,16-a).latchAndAppend(fr,1);c.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(h)}}static simplifyStates(t){let i=[];for(const a of t){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(h=>h!==u))}c&&i.push(a)}return i}}class St{constructor(){}static encodeBytes(t){return St.encode(t,St.DEFAULT_EC_PERCENT,St.DEFAULT_AZTEC_LAYERS)}static encode(t,i,a){let c=new gs(t).encode(),u=G.truncDivision(c.getSize()*i,100)+11,h=c.getSize()+u,g,w,S,R,D;if(a!==St.DEFAULT_AZTEC_LAYERS){if(g=a<0,w=Math.abs(a),w>(g?St.MAX_NB_BITS_COMPACT:St.MAX_NB_BITS))throw new N(Be.format("Illegal value %s for layers",a));S=St.totalBitsInLayer(w,g),R=St.WORD_SIZE[w];let Se=S-S%R;if(D=St.stuffBits(c,R),D.getSize()+u>Se)throw new N("Data to large for user specified layer");if(g&&D.getSize()>R*64)throw new N("Data to large for user specified layer")}else{R=0,D=null;for(let Se=0;;Se++){if(Se>St.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(g=Se<=3,w=g?Se+1:Se,S=St.totalBitsInLayer(w,g),h>S)continue;(D==null||R!==St.WORD_SIZE[w])&&(R=St.WORD_SIZE[w],D=St.stuffBits(c,R));let ut=S-S%R;if(!(g&&D.getSize()>R*64)&&D.getSize()+u<=ut)break}}let I=St.generateCheckWords(D,S,R),z=D.getSize()/R,q=St.generateModeMessage(g,w,z),W=(g?11:14)+w*4,te=new Int32Array(W),ce;if(g){ce=W;for(let Se=0;Se<te.length;Se++)te[Se]=Se}else{ce=W+1+2*G.truncDivision(G.truncDivision(W,2)-1,15);let Se=G.truncDivision(W,2),ut=G.truncDivision(ce,2);for(let ot=0;ot<Se;ot++){let Zn=ot+G.truncDivision(ot,15);te[Se-ot-1]=ut-Zn-1,te[Se+ot]=ut+Zn+1}}let Te=new Fe(ce);for(let Se=0,ut=0;Se<w;Se++){let ot=(w-Se)*4+(g?9:12);for(let Zn=0;Zn<ot;Zn++){let pr=Zn*2;for(let rr=0;rr<2;rr++)I.get(ut+pr+rr)&&Te.set(te[Se*2+rr],te[Se*2+Zn]),I.get(ut+ot*2+pr+rr)&&Te.set(te[Se*2+Zn],te[W-1-Se*2-rr]),I.get(ut+ot*4+pr+rr)&&Te.set(te[W-1-Se*2-rr],te[W-1-Se*2-Zn]),I.get(ut+ot*6+pr+rr)&&Te.set(te[W-1-Se*2-Zn],te[Se*2+rr])}ut+=ot*8}if(St.drawModeMessage(Te,g,ce,q),g)St.drawBullsEye(Te,G.truncDivision(ce,2),5);else{St.drawBullsEye(Te,G.truncDivision(ce,2),7);for(let Se=0,ut=0;Se<G.truncDivision(W,2)-1;Se+=15,ut+=16)for(let ot=G.truncDivision(ce,2)&1;ot<ce;ot+=2)Te.set(G.truncDivision(ce,2)-ut,ot),Te.set(G.truncDivision(ce,2)+ut,ot),Te.set(ot,G.truncDivision(ce,2)-ut),Te.set(ot,G.truncDivision(ce,2)+ut)}let Ne=new _o;return Ne.setCompact(g),Ne.setSize(ce),Ne.setLayers(w),Ne.setCodeWords(z),Ne.setMatrix(Te),Ne}static drawBullsEye(t,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)t.set(u,i-c),t.set(u,i+c),t.set(i-c,u),t.set(i+c,u);t.set(i-a,i-a),t.set(i-a+1,i-a),t.set(i-a,i-a+1),t.set(i+a,i-a),t.set(i+a,i-a+1),t.set(i+a,i+a-1)}static generateModeMessage(t,i,a){let c=new oe;return t?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=St.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=St.generateCheckWords(c,40,4)),c}static drawModeMessage(t,i,a,c){let u=G.truncDivision(a,2);if(i)for(let h=0;h<7;h++){let g=u-3+h;c.get(h)&&t.set(g,u-5),c.get(h+7)&&t.set(u+5,g),c.get(20-h)&&t.set(g,u+5),c.get(27-h)&&t.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+G.truncDivision(h,5);c.get(h)&&t.set(g,u-7),c.get(h+10)&&t.set(u+7,g),c.get(29-h)&&t.set(g,u+7),c.get(39-h)&&t.set(u-7,g)}}static generateCheckWords(t,i,a){let c=t.getSize()/a,u=new Mo(St.getGF(a)),h=G.truncDivision(i,a),g=St.bitsToWords(t,a,h);u.encode(g,h-c);let w=i%a,S=new oe;S.appendBits(0,w);for(const R of Array.from(g))S.appendBits(R,a);return S}static bitsToWords(t,i,a){let c=new Int32Array(a),u,h;for(u=0,h=t.getSize()/i;u<h;u++){let g=0;for(let w=0;w<i;w++)g|=t.get(u*i+w)?1<<i-w-1:0;c[u]=g}return c}static getGF(t){switch(t){case 4:return Xe.AZTEC_PARAM;case 6:return Xe.AZTEC_DATA_6;case 8:return Xe.AZTEC_DATA_8;case 10:return Xe.AZTEC_DATA_10;case 12:return Xe.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,i){let a=new oe,c=t.getSize(),u=(1<<i)-2;for(let h=0;h<c;h+=i){let g=0;for(let w=0;w<i;w++)(h+w>=c||t.get(h+w))&&(g|=1<<i-1-w);(g&u)===u?(a.appendBits(g&u,i),h--):(g&u)===0?(a.appendBits(g|1,i),h--):a.appendBits(g,i)}return a}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}St.DEFAULT_EC_PERCENT=33,St.DEFAULT_AZTEC_LAYERS=0,St.MAX_NB_BITS=32,St.MAX_NB_BITS_COMPACT=4,St.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ja{encode(t,i,a,c){return this.encodeWithHints(t,i,a,c,null)}encodeWithHints(t,i,a,c,u){let h=Do.ISO_8859_1,g=St.DEFAULT_EC_PERCENT,w=St.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(An.CHARACTER_SET)&&(h=fs.forName(u.get(An.CHARACTER_SET).toString())),u.has(An.ERROR_CORRECTION)&&(g=G.parseInt(u.get(An.ERROR_CORRECTION).toString())),u.has(An.AZTEC_LAYERS)&&(w=G.parseInt(u.get(An.AZTEC_LAYERS).toString()))),ja.encodeLayers(t,i,a,c,h,g,w)}static encodeLayers(t,i,a,c,u,h,g){if(i!==ge.AZTEC)throw new N("Can only encode AZTEC, but got "+i);let w=St.encode(Be.getBytes(t,u),h,g);return ja.renderResult(w,a,c)}static renderResult(t,i,a){let c=t.getMatrix();if(c==null)throw new xt;let u=c.getWidth(),h=c.getHeight(),g=Math.max(i,u),w=Math.max(a,h),S=Math.min(g/u,w/h),R=(g-u*S)/2,D=(w-h*S)/2,I=new Fe(g,w);for(let z=0,q=D;z<h;z++,q+=S)for(let W=0,te=R;W<u;W++,te+=S)c.get(W,z)&&I.setRegion(te,q,S,S);return I}}l.AbstractExpandedDecoder=Hs,l.ArgumentException=C,l.ArithmeticException=Ct,l.AztecCode=_o,l.AztecCodeReader=Br,l.AztecCodeWriter=ja,l.AztecDecoder=Le,l.AztecDetector=_i,l.AztecDetectorResult=ai,l.AztecEncoder=St,l.AztecHighLevelEncoder=gs,l.AztecPoint=Tt,l.BarcodeFormat=ge,l.Binarizer=L,l.BinaryBitmap=_,l.BitArray=oe,l.BitMatrix=Fe,l.BitSource=er,l.BrowserAztecCodeReader=is,l.BrowserBarcodeReader=ec,l.BrowserCodeReader=me,l.BrowserDatamatrixCodeReader=Wu,l.BrowserMultiFormatReader=Ju,l.BrowserPDF417Reader=$u,l.BrowserQRCodeReader=ef,l.BrowserQRCodeSvgWriter=Pi,l.CharacterSetECI=ue,l.ChecksumException=P,l.Code128Reader=Oe,l.Code39Reader=kt,l.DataMatrixDecodedBitStreamParser=di,l.DataMatrixReader=Cr,l.DecodeHintType=pe,l.DecoderResult=at,l.DefaultGridSampler=Rn,l.DetectorResult=si,l.EAN13Reader=Zt,l.EncodeHintType=An,l.Exception=y,l.FormatException=ae,l.GenericGF=Xe,l.GenericGFPoly=Ke,l.GlobalHistogramBinarizer=ee,l.GridSampler=oi,l.GridSamplerInstance=wn,l.HTMLCanvasElementLuminanceSource=B,l.HybridBinarizer=ie,l.ITFReader=Rt,l.IllegalArgumentException=N,l.IllegalStateException=xt,l.InvertedLuminanceSource=je,l.LuminanceSource=Me,l.MathUtils=qe,l.MultiFormatOneDReader=fi,l.MultiFormatReader=ic,l.MultiFormatWriter=nf,l.NotFoundException=K,l.OneDReader=Pt,l.PDF417DecodedBitStreamParser=he,l.PDF417DecoderErrorCorrection=Ys,l.PDF417Reader=Fn,l.PDF417ResultMetadata=Da,l.PerspectiveTransform=an,l.PlanarYUVLuminanceSource=jr,l.QRCodeByteMatrix=Zs,l.QRCodeDataMask=kn,l.QRCodeDecodedBitStreamParser=$t,l.QRCodeDecoderErrorCorrectionLevel=Lt,l.QRCodeDecoderFormatInformation=Pn,l.QRCodeEncoder=qt,l.QRCodeEncoderQRCode=ji,l.QRCodeMaskUtil=nn,l.QRCodeMatrixUtil=et,l.QRCodeMode=We,l.QRCodeReader=Qr,l.QRCodeVersion=Ge,l.QRCodeWriter=us,l.RGBLuminanceSource=Ks,l.RSS14Reader=Dt,l.RSSExpandedReader=Ce,l.ReaderException=qs,l.ReedSolomonDecoder=ye,l.ReedSolomonEncoder=Mo,l.ReedSolomonException=rt,l.Result=Ee,l.ResultMetadataType=Ie,l.ResultPoint=ke,l.StringUtils=Be,l.UnsupportedOperationException=Je,l.VideoInputDevice=F,l.WhiteRectangleDetector=Nn,l.WriterException=Ut,l.ZXingArrays=Q,l.ZXingCharset=fs,l.ZXingInteger=G,l.ZXingStandardCharsets=Do,l.ZXingStringBuilder=_e,l.ZXingStringEncoding=Ye,l.ZXingSystem=H,l.createAbstractExpandedDecoder=No,Object.defineProperty(l,"__esModule",{value:!0})})}(Nl,Nl.exports)),Nl.exports}var en=h6();const m6=qd(en),g6=Rb({__proto__:null,default:m6},[en]);var R2=function(){function r(s,l,f){if(this.formatMap=new Map([[ze.QR_CODE,en.BarcodeFormat.QR_CODE],[ze.AZTEC,en.BarcodeFormat.AZTEC],[ze.CODABAR,en.BarcodeFormat.CODABAR],[ze.CODE_39,en.BarcodeFormat.CODE_39],[ze.CODE_93,en.BarcodeFormat.CODE_93],[ze.CODE_128,en.BarcodeFormat.CODE_128],[ze.DATA_MATRIX,en.BarcodeFormat.DATA_MATRIX],[ze.MAXICODE,en.BarcodeFormat.MAXICODE],[ze.ITF,en.BarcodeFormat.ITF],[ze.EAN_13,en.BarcodeFormat.EAN_13],[ze.EAN_8,en.BarcodeFormat.EAN_8],[ze.PDF_417,en.BarcodeFormat.PDF_417],[ze.RSS_14,en.BarcodeFormat.RSS_14],[ze.RSS_EXPANDED,en.BarcodeFormat.RSS_EXPANDED],[ze.UPC_A,en.BarcodeFormat.UPC_A],[ze.UPC_E,en.BarcodeFormat.UPC_E],[ze.UPC_EAN_EXTENSION,en.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!g6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var m=this.createZXingFormats(s),x=new Map;x.set(en.DecodeHintType.POSSIBLE_FORMATS,m),x.set(en.DecodeHintType.TRY_HARDER,!1),this.hints=x}return r.prototype.decodeAsync=function(s){var l=this;return new Promise(function(f,m){try{f(l.decode(s))}catch(x){m(x)}})},r.prototype.decode=function(s){var l=new en.MultiFormatReader(this.verbose,this.hints),f=new en.HTMLCanvasElementLuminanceSource(s),m=new en.BinaryBitmap(new en.HybridBinarizer(f)),x=l.decode(m);return{text:x.text,format:cw.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(l,f,m){s.set(l,f)}),s},r.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},r.prototype.createZXingFormats=function(s){for(var l=[],f=0,m=s;f<m.length;f++){var x=m[f];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return l},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),x6=function(r,s,l,f){function m(x){return x instanceof l?x:new l(function(b){b(x)})}return new(l||(l=Promise))(function(x,b){function T(C){try{y(f.next(C))}catch(N){b(N)}}function v(C){try{y(f.throw(C))}catch(N){b(N)}}function y(C){C.done?x(C.value):m(C.value).then(T,v)}y((f=f.apply(r,s||[])).next())})},p6=function(r,s){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,m,x,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(y){return function(C){return v([y,C])}}function v(y){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(l=0)),l;)try{if(f=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=s.call(r,l)}catch(C){y=[6,C],m=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},O2=function(){function r(s,l,f){if(this.formatMap=new Map([[ze.QR_CODE,"qr_code"],[ze.AZTEC,"aztec"],[ze.CODABAR,"codabar"],[ze.CODE_39,"code_39"],[ze.CODE_93,"code_93"],[ze.CODE_128,"code_128"],[ze.DATA_MATRIX,"data_matrix"],[ze.ITF,"itf"],[ze.EAN_13,"ean_13"],[ze.EAN_8,"ean_8"],[ze.PDF_417,"pdf417"],[ze.UPC_A,"upc_a"],[ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var m=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},r.prototype.decodeAsync=function(s){return x6(this,void 0,void 0,function(){var l,f;return p6(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(s)];case 1:if(l=m.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:cw.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(s){for(var l=null,f=0,m=0,x=s;m<x.length;m++){var b=x[m],T=b.boundingBox.width*b.boundingBox.height;T>f&&(f=T,l=b)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(s){for(var l=[],f=0,m=s;f<m.length;f++){var x=m[f];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},r.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(l,f,m){s.set(l,f)}),s},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),M2=function(r,s,l,f){function m(x){return x instanceof l?x:new l(function(b){b(x)})}return new(l||(l=Promise))(function(x,b){function T(C){try{y(f.next(C))}catch(N){b(N)}}function v(C){try{y(f.throw(C))}catch(N){b(N)}}function y(C){C.done?x(C.value):m(C.value).then(T,v)}y((f=f.apply(r,s||[])).next())})},D2=function(r,s){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,m,x,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(y){return function(C){return v([y,C])}}function v(y){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(l=0)),l;)try{if(f=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=s.call(r,l)}catch(C){y=[6,C],m=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},y6=function(){function r(s,l,f,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,l&&O2.isSupported()?(this.primaryDecoder=new O2(s,f,m),this.secondaryDecoder=new R2(s,f,m)):this.primaryDecoder=new R2(s,f,m)}return r.prototype.decodeAsync=function(s){return M2(this,void 0,void 0,function(){var l;return D2(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(s){return M2(this,void 0,void 0,function(){var l,f;return D2(this,function(m){switch(m.label){case 0:l=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,m.sent()];case 3:if(f=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw f;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(s){if(this.verbose){var l=performance.now()-s;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,l=0,f=this.executionResults;l<f.length;l++){var m=f[l];s+=m}var x=s/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),kh=function(){var r=function(s,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(f[x]=m[x])},r(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),Iu=function(r,s,l,f){function m(x){return x instanceof l?x:new l(function(b){b(x)})}return new(l||(l=Promise))(function(x,b){function T(C){try{y(f.next(C))}catch(N){b(N)}}function v(C){try{y(f.throw(C))}catch(N){b(N)}}function y(C){C.done?x(C.value):m(C.value).then(T,v)}y((f=f.apply(r,s||[])).next())})},Bu=function(r,s){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,m,x,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(y){return function(C){return v([y,C])}}function v(y){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(l=0)),l;)try{if(f=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=s.call(r,l)}catch(C){y=[6,C],m=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},fw=function(){function r(s,l){this.name=s,this.track=l}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(s){var l={};l[this.name]=s;var f={advanced:[l]};return this.track.applyConstraints(f)},r.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var l=s[this.name];return l}return null},r}(),w6=function(r){kh(s,r);function s(l,f){return r.call(this,l,f)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(l){var f={};f[this.name]=l;var m={advanced:[f]};return this.track.applyConstraints(m)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),f=l[this.name];return{min:f.min,max:f.max,step:f.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s}(fw),b6=function(r){kh(s,r);function s(l){return r.call(this,"zoom",l)||this}return s}(w6),v6=function(r){kh(s,r);function s(l){return r.call(this,"torch",l)||this}return s}(fw),E6=function(){function r(s){this.track=s}return r.prototype.zoomFeature=function(){return new b6(this.track)},r.prototype.torchFeature=function(){return new v6(this.track)},r}(),A6=function(){function r(s,l,f){this.isClosed=!1,this.parentElement=s,this.mediaStream=l,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return r.prototype.createVideoElement=function(s){var l=document.createElement("video");return l.style.width="".concat(s,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var f=s.surface.clientWidth,m=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(f,m),s.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(s,l,f,m){return Iu(this,void 0,void 0,function(){var x,b;return Bu(this,function(T){switch(T.label){case 0:return x=new r(s,l,m),f.aspectRatio?(b={aspectRatio:f.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:T.sent(),T.label=2;case 2:return x.setupSurface(),[2,x]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(s){this.failIfClosed();var l=this,f=function(){setTimeout(s,200),l.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(s){return Iu(this,void 0,void 0,function(){return Bu(this,function(l){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(l,f){var m=s.mediaStream.getVideoTracks(),x=m.length,b=0;s.mediaStream.getVideoTracks().forEach(function(T){s.mediaStream.removeTrack(T),T.stop(),++b,b>=x&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),l())})})},r.prototype.getCapabilities=function(){return new E6(this.getFirstTrackOrFail())},r}(),C6=function(){function r(s){this.mediaStream=s}return r.prototype.render=function(s,l,f){return Iu(this,void 0,void 0,function(){return Bu(this,function(m){return[2,A6.create(s,this.mediaStream,l,f)]})})},r.create=function(s){return Iu(this,void 0,void 0,function(){var l,f;return Bu(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return f=m.sent(),[2,new r(f)]}})})},r}(),_2=function(r,s,l,f){function m(x){return x instanceof l?x:new l(function(b){b(x)})}return new(l||(l=Promise))(function(x,b){function T(C){try{y(f.next(C))}catch(N){b(N)}}function v(C){try{y(f.throw(C))}catch(N){b(N)}}function y(C){C.done?x(C.value):m(C.value).then(T,v)}y((f=f.apply(r,s||[])).next())})},I2=function(r,s){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,m,x,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(y){return function(C){return v([y,C])}}function v(y){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(l=0)),l;)try{if(f=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=s.call(r,l)}catch(C){y=[6,C],m=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},S6=function(){function r(){}return r.failIfNotSupported=function(){return _2(this,void 0,void 0,function(){return I2(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(s){return _2(this,void 0,void 0,function(){return I2(this,function(l){return[2,C6.create(s)]})})},r}(),T6=function(r,s,l,f){function m(x){return x instanceof l?x:new l(function(b){b(x)})}return new(l||(l=Promise))(function(x,b){function T(C){try{y(f.next(C))}catch(N){b(N)}}function v(C){try{y(f.throw(C))}catch(N){b(N)}}function y(C){C.done?x(C.value):m(C.value).then(T,v)}y((f=f.apply(r,s||[])).next())})},N6=function(r,s){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,m,x,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(y){return function(C){return v([y,C])}}function v(y){if(f)throw new TypeError("Generator is already executing.");for(;b&&(b=0,y[0]&&(l=0)),l;)try{if(f=1,m&&(x=y[0]&2?m.return:y[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,y[1])).done)return x;switch(m=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=s.call(r,l)}catch(C){y=[6,C],m=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},R6=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var s=xo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(s=xo.insecureContextCameraQueryError()),Promise.reject(s)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},r.getCamerasFromMediaDevices=function(){return T6(this,void 0,void 0,function(){var s,l,f,m,x,b,T;return N6(this,function(v){switch(v.label){case 0:return s=function(y){for(var C=y.getVideoTracks(),N=0,_=C;N<_.length;N++){var P=_[N];P.enabled=!1,P.stop(),y.removeTrack(P)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=v.sent(),m=[],x=0,b=f;x<b.length;x++)T=b[x],T.kind==="videoinput"&&m.push({id:T.deviceId,label:T.label});return s(l),[2,m]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,l){var f=function(x){for(var b=[],T=0,v=x;T<v.length;T++){var y=v[T];y.kind==="video"&&b.push({id:y.id,label:y.label})}s(b)},m=MediaStreamTrack;m.getSources(f)})},r}(),pn;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(pn||(pn={}));var O6=function(){function r(){this.state=pn.NOT_STARTED,this.onGoingTransactionNewState=pn.UNKNOWN}return r.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},r.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===pn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=pn.UNKNOWN,this.directTransition(s)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===pn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=pn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==pn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(s){switch(this.state){case pn.UNKNOWN:throw"Transition from unknown is not allowed";case pn.NOT_STARTED:this.failIfNewStateIs(s,[pn.PAUSED]);break;case pn.SCANNING:break;case pn.PAUSED:break}},r.prototype.failIfNewStateIs=function(s,l){for(var f=0,m=l;f<m.length;f++){var x=m[f];if(s===x)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},r}(),M6=function(){function r(s){this.stateManager=s}return r.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},r.prototype.directTransition=function(s){this.stateManager.directTransition(s)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===pn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==pn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===pn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===pn.PAUSED},r}(),D6=function(){function r(){}return r.create=function(){return new M6(new O6)},r}(),_6=function(){var r=function(s,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(f[x]=m[x])},r(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(s,l);function f(){this.constructor=s}s.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),_r=function(r){_6(s,r);function s(){return r!==null&&r.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s}(c6),I6=function(){function r(s,l){this.logger=l,this.fps=_r.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=_r.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?uw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!$i(this.qrbox)},r.create=function(s,l){return new r(s,l)},r}(),B6=function(){function r(s,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(f=l,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new f6(this.verbose),this.qrcode=new y6(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=D6.create()}return r.prototype.start=function(s,l,f,m){var x=this;if(!s)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var b;m?b=m:b=this.verbose?this.logger.log:function(){};var T=I6.create(l,this.logger);this.clearElement();var v=!1;T.videoConstraints&&(T.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=v,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:_r.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var N=this,_=this.stateManagerProxy.startTransition(pn.SCANNING);return new Promise(function(P,L){var H=y?T.videoConstraints:N.createVideoConstraints(s);if(!H){_.cancel(),L("videoConstraints should be defined");return}var V={};(!y||T.aspectRatio)&&(V.aspectRatio=T.aspectRatio);var Y={onRenderSurfaceReady:function(Q,G){N.setupUi(Q,G,T),N.isScanning=!0,N.foreverScan(T,f,b)}};S6.failIfNotSupported().then(function(Q){Q.create(H).then(function(G){return G.render(x.element,V,Y).then(function(oe){N.renderedCamera=oe,_.execute(),P(null)}).catch(function(oe){_.cancel(),L(oe)})}).catch(function(G){_.cancel(),L(xo.errorGettingUserMedia(G))})}).catch(function(Q){_.cancel(),L(xo.cameraStreamingNotSupported())})})},r.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(pn.PAUSED),this.showPausedState(),($i(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,l=function(){s.stateManagerProxy.directTransition(pn.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(pn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(s.element){var x=document.getElementById(_r.SHADED_REGION_ELEMENT_ID);x&&s.element.removeChild(x)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),f(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),l.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(s,l){return this.scanFileV2(s,l).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(s,l){var f=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($i(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,x){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(s);var b=new Image;b.onload=function(){var T=b.width,v=b.height,y=document.getElementById(f.elementId),C=y.clientWidth?y.clientWidth:_r.DEFAULT_WIDTH,N=Math.max(y.clientHeight?y.clientHeight:v,_r.FILE_SCAN_MIN_HEIGHT),_=f.computeCanvasDrawConfig(T,v,C,N);if(l){var P=f.createCanvasElement(C,N,"qr-canvas-visible");P.style.display="inline-block",y.appendChild(P);var L=P.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=C,L.canvas.height=N,L.drawImage(b,0,0,T,v,_.x,_.y,_.width,_.height)}var H=_r.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(b.width,_.width),Y=Math.max(b.height,_.height),Q=V+2*H,G=Y+2*H,oe=f.createCanvasElement(Q,G);y.appendChild(oe);var $=oe.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=Q,$.canvas.height=G,$.drawImage(b,0,0,T,v,H,H,V,Y);try{f.qrcode.decodeRobustlyAsync(oe).then(function(pe){m(T2.createFromQrcodeResult(pe))}).catch(x)}catch(pe){x("QR code parse error, error = ".concat(pe))}},b.onerror=x,b.onabort=x,b.onstalled=x,b.onsuspend=x,b.src=URL.createObjectURL(s)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return R6.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(s){if(s){if(!uw.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(s){var l=[ze.QR_CODE,ze.AZTEC,ze.CODABAR,ze.CODE_39,ze.CODE_93,ze.CODE_128,ze.DATA_MATRIX,ze.MAXICODE,ze.ITF,ze.EAN_13,ze.EAN_8,ze.PDF_417,ze.RSS_14,ze.RSS_EXPANDED,ze.UPC_A,ze.UPC_E,ze.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return l;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],m=0,x=s.formatsToSupport;m<x.length;m++){var b=x[m];l6(b)?f.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(s){if($i(s))return!0;if(!$i(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if($i(s.experimentalFeatures))return!0;var l=s.experimentalFeatures;return $i(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(s,l,f){var m=this,x=f.qrbox;this.validateQrboxConfig(x);var b=this.toQrdimensions(s,l,x),T=function(y){if(y<_r.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_r.MIN_QR_BOX_SIZE,"px.")},v=function(y){return y>s&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=s),y};T(b.width),T(b.height),b.width=v(b.width)},r.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(s,l,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(s,l)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return f},r.prototype.setupUi=function(s,l,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(s,l,f);var m=$i(f.qrbox)?{width:s,height:l}:f.qrbox;this.validateQrboxConfig(m);var x=this.toQrdimensions(s,l,m);x.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=f.isShadedBoxEnabled()&&x.height<=l,T={x:0,y:0,width:s,height:l},v=b?this.getShadedRegionBounds(s,l,x):T,y=this.createCanvasElement(v.width,v.height),C={willReadFrequently:!0},N=y.getContext("2d",C);N.canvas.width=v.width,N.canvas.height=v.height,this.element.append(y),b&&this.possiblyInsertShadingElement(this.element,s,l,x),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=N,this.canvasElement=y},r.prototype.createScannerPausedUiElement=function(s){var l=document.createElement("div");l.innerText=xo.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",s.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(s,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return s(m.text,T2.createFromQrcodeResult(m)),f.possiblyUpdateShaders(!0),!0}).catch(function(m){f.possiblyUpdateShaders(!1);var x=xo.codeParseError(m);return l(x,u6.createFrom(x)),!1})},r.prototype.foreverScan=function(s,l,f){var m=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),b=x.videoWidth/x.clientWidth,T=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*b,y=this.qrRegion.height*T,C=this.qrRegion.x*b,N=this.qrRegion.y*T;this.context.drawImage(x,C,N,v,y,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(s,l,f)},m.getTimeoutFps(s.fps))};this.scanContext(l,f).then(function(P){!P&&s.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(l,f).finally(function(){_()})):_()}).catch(function(P){m.logger.logError("Error happend while scanning context",P),_()})}},r.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var l="facingMode",f="deviceId",m={user:!0,environment:!0},x="exact",b=function(L){if(L in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},T=Object.keys(s);if(T.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(T.length," keys");var v=Object.keys(s)[0];if(v!==l&&v!==f)throw"Only '".concat(l,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(v===l){var y=s.facingMode;if(typeof y=="string"){if(b(y))return{facingMode:y}}else if(typeof y=="object")if(x in y){if(b(y["".concat(x)]))return{facingMode:{exact:y["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var C=typeof y;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var N=s.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(x in N)return{deviceId:{exact:N["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var _=typeof N;throw"Invalid type of 'deviceId' = ".concat(_)}}}var P=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(P)},r.prototype.computeCanvasDrawConfig=function(s,l,f,m){if(s<=f&&l<=m){var x=(f-s)/2,b=(m-l)/2;return{x,y:b,width:s,height:l}}else{var T=s,v=l;return s>f&&(l=f/s*l,s=f),l>m&&(s=m/l*s,l=m),this.logger.log("Image downsampled from "+"".concat(T,"X").concat(v)+" to ".concat(s,"X").concat(l,".")),this.computeCanvasDrawConfig(s,l,f,m)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},r.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=s?_r.BORDER_SHADER_MATCH_COLOR:_r.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(s,l,f){var m=s,x=l,b=document.createElement("canvas");return b.style.width="".concat(m,"px"),b.style.height="".concat(x,"px"),b.style.display="none",b.id=$i(f)?"qr-canvas":f,b},r.prototype.getShadedRegionBounds=function(s,l,f){if(f.width>s||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(s,l,f,m){if(!(l-m.width<1||f-m.height<1)){var x=document.createElement("div");x.style.position="absolute";var b=(l-m.width)/2,T=(f-m.height)/2;if(x.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(_r.SHADED_REGION_ELEMENT_ID),l-m.width<11||f-m.height<11)this.hasBorderShaders=!1;else{var v=5,y=40;this.insertShaderBorders(x,y,v,-v,null,0,!0),this.insertShaderBorders(x,y,v,-v,null,0,!1),this.insertShaderBorders(x,y,v,null,-v,0,!0),this.insertShaderBorders(x,y,v,null,-v,0,!1),this.insertShaderBorders(x,v,y+v,-v,null,-v,!0),this.insertShaderBorders(x,v,y+v,null,-v,-v,!0),this.insertShaderBorders(x,v,y+v,-v,null,-v,!1),this.insertShaderBorders(x,v,y+v,null,-v,-v,!1),this.hasBorderShaders=!0}s.append(x)}},r.prototype.insertShaderBorders=function(s,l,f,m,x,b,T){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=_r.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(l,"px"),v.style.height="".concat(f,"px"),m!==null&&(v.style.top="".concat(m,"px")),x!==null&&(v.style.bottom="".concat(x,"px")),T?v.style.left="".concat(b,"px"):v.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),s.appendChild(v)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(s){return 1e3/s},r}(),B2;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(B2||(B2={}));function L6(){var li;const{user:r,logout:s}=vo(),l=Aa(),[f,m]=U.useState("scanner"),[x,b]=U.useState(""),[T,v]=U.useState([]),[y,C]=U.useState(!1),[N,_]=U.useState([]),[P,L]=U.useState(""),[H,V]=U.useState(""),[Y,Q]=U.useState(null),[G,oe]=U.useState(""),[$,pe]=U.useState(!1),[ae,ve]=U.useState(()=>{const Re=localStorage.getItem("scannedCodes");return Re?new Set(JSON.parse(Re)):new Set}),[ue,Je]=U.useState([]),[Ye,Be]=U.useState(""),[_e,Fe]=U.useState(""),[K,ee]=U.useState(1),[ie,Me]=U.useState(1),[je,B]=U.useState(1),[F,de]=U.useState(""),me=5,[Ee,De]=U.useState(!1),[ge,Ue]=U.useState(!1),[Ie,at]=U.useState(!1),dt="https://varda-loyalty-reward-system.onrender.com",Ke=r.token,Ct=async()=>{try{const lt=(await gt.get(`${dt}/api/cashier/borrowed-items`,{headers:{Authorization:`Bearer ${Ke}`}})).data.data,Qe=lt.filter(On=>On.status==="borrowed").sort((On,Wr)=>new Date(Wr.borrowTime)-new Date(On.borrowTime)),Zt=lt.filter(On=>On.status==="returned").sort((On,Wr)=>new Date(Wr.returnTime)-new Date(On.returnTime));_(Qe),Je(Zt)}catch(Re){console.error("Error fetching borrowed items:",Re),L("Failed to fetch borrowed items")}},Xe=N.filter(Re=>{var lt;return(lt=Re==null?void 0:Re.studentIdNumber)==null?void 0:lt.toLowerCase().includes(Ye.toLowerCase())}),rt=ue.filter(Re=>{var lt;return(lt=Re==null?void 0:Re.studentIdNumber)==null?void 0:lt.toLowerCase().includes(_e.toLowerCase())}),xt=Math.ceil(Xe.length/me),ye=Math.ceil(rt.length/me),Pe=Xe.slice((K-1)*me,K*me),Le=rt.slice((ie-1)*me,ie*me),qe=Re=>{ee(Re)},Jt=Re=>{Me(Re)},ke=Re=>{Be(Re.target.value),ee(1)},si=Re=>{Fe(Re.target.value),Me(1)},ai=T.filter(Re=>{var lt,Qe;return((lt=Re==null?void 0:Re.name)==null?void 0:lt.toLowerCase().includes(F.toLowerCase()))||((Qe=Re==null?void 0:Re.reward)==null?void 0:Qe.toLowerCase().includes(F.toLowerCase()))}),Nn=Math.ceil(ai.length/me),oi=ai.slice((je-1)*me,je*me),an=Re=>{B(Re)},Rn=Re=>{de(Re.target.value),B(1)};U.useEffect(()=>{let Re;return(()=>{switch(Re&&clearInterval(Re),f){case"borrowed":case"returned":Re=setInterval(Ct,3e3);break;case"rewards":Re=setInterval(is,3e3);break}})(),()=>{Re&&clearInterval(Re)}},[f,Ke]),U.useEffect(()=>{Ct(),is()},[Ke]);const wn=async()=>{try{const Re=new B6("reader");Q(Re),await Re.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1,delayBetweenScanAttempts:1e3},lt=>{Pt(lt),Tt()},lt=>{})}catch(Re){console.error("Error starting scanner:",Re),L("Failed to start camera"),C(!1)}},Tt=async()=>{if(Y)try{await Y.stop(),Q(null)}catch(Re){console.error("Error stopping scanner:",Re)}};U.useEffect(()=>{y?wn():Tt()},[y]);const _i=async()=>{try{Ue(!0);const Re=new Promise(Zt=>setTimeout(Zt,1500)),lt=gt.post(`${dt}/api/cashier/generate-code`,{},{headers:{Authorization:`Bearer ${Ke}`}}),[Qe]=await Promise.all([lt,Re]);b(Qe.data.code.code)}catch(Re){console.error("Error generating code:",Re),L("Error generating code")}finally{Ue(!1)}},Br=async()=>{try{await navigator.clipboard.writeText(x),at(!0),setTimeout(()=>at(!1),2e3)}catch(Re){console.error("Failed to copy code:",Re),L("Failed to copy code")}},is=async()=>{try{const lt=(await gt.get(`${dt}/api/cashier/claimed-rewards`,{headers:{Authorization:`Bearer ${Ke}`}})).data.sort((Qe,Zt)=>new Date(Zt.dateClaimed)-new Date(Qe.dateClaimed));v(lt)}catch(Re){console.error("Error fetching claimed rewards:",Re)}};U.useEffect(()=>{localStorage.setItem("scannedCodes",JSON.stringify([...ae]))},[ae]);const Pt=async Re=>{try{if(C(!1),$)return;const lt=JSON.parse(Re),Qe=`${lt.studentId}-${lt.timestamp}`;if(ae.has(Qe)){L("This QR code has already been scanned."),setTimeout(()=>L(""),5e3);return}pe(!0),ve(On=>new Set([...On,Qe]));const Zt=await gt.post(`${dt}/api/cashier/scan-item`,{items:lt.items,studentName:lt.studentName,studentId:lt.studentId},{headers:{Authorization:`Bearer ${Ke}`}});_(On=>[Zt.data.data,...On]),V("QR Code scanned successfully! Items have been borrowed."),setTimeout(()=>L(""),5e3),setTimeout(()=>{pe(!1)},5e3)}catch(lt){console.error("Error scanning QR code:",lt),L("Invalid QR Code or failed to save"),setTimeout(()=>L(""),5e3)}},Oe=async Re=>{var lt,Qe;try{const Zt=await gt.put(`${dt}/api/cashier/return-item/${Re}`,{},{headers:{Authorization:`Bearer ${Ke}`}});_(On=>On.filter(Wr=>Wr._id!==Re)),Je(On=>[Zt.data.data,...On]),V("Item returned successfully! Student earned 1 loyalty point."),setTimeout(()=>V(""),5e3)}catch(Zt){console.error("Error returning item:",Zt),L(((Qe=(lt=Zt.response)==null?void 0:lt.data)==null?void 0:Qe.message)||"Failed to return item"),setTimeout(()=>L(""),5e3)}},kt=()=>{De(!0)},Rt=()=>{s(),De(!1),l("/login")},It=()=>{De(!1)};return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:[A.jsx("div",{className:"bg-white shadow-lg fixed top-0 left-0 right-0 z-[100]",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between items-center py-4",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center",children:A.jsx("span",{className:"text-white font-bold text-lg",children:((li=r==null?void 0:r.name)==null?void 0:li[0])||"U"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Employee Dashboard"}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",(r==null?void 0:r.name)||"User"]})]})]}),A.jsxs("button",{onClick:kt,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm",children:[A.jsx(vp,{className:"w-5 h-5"}),A.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})}),A.jsx(fE,{children:Ee&&A.jsx("div",{className:"fixed inset-0 z-[100] overflow-y-auto",children:A.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[A.jsx(Mt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-blur-sm bg-white/30 transition-opacity","aria-hidden":"true",onClick:It}),A.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),A.jsxs(Mt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[A.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:A.jsxs("div",{className:"sm:flex sm:items-start",children:[A.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:A.jsx(Qv,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),A.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[A.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:"Confirm Logout"}),A.jsx("div",{className:"mt-2",children:A.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to logout? You will need to login again to access the dashboard."})})]})]})}),A.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[A.jsx("button",{type:"button",onClick:Rt,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Logout"}),A.jsx("button",{type:"button",onClick:It,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})}),A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 bg-white fixed top-[72px] left-0 right-0 z-[90] shadow-sm",children:A.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:[{id:"scanner",icon:ox,label:"Scanner"},{id:"generator",icon:ed,label:"Generate Code"},{id:"borrowed",icon:cu,label:"Borrowed"},{id:"returned",icon:uu,label:"Returned"},{id:"rewards",icon:Cd,label:"Rewards"}].map(({id:Re,icon:lt,label:Qe})=>A.jsxs("button",{onClick:()=>m(Re),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl whitespace-nowrap transition-all ${f===Re?"bg-purple-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[A.jsx(lt,{className:"w-5 h-5"}),A.jsx("span",{children:Qe})]},Re))})}),A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 mt-[144px]",children:[f==="scanner"&&A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"QR Scanner"}),A.jsx("p",{className:"text-gray-600 mt-1",children:"Scan student QR codes to process requests"})]}),A.jsxs("button",{onClick:()=>C(!y),className:`w-full sm:w-auto px-6 py-3 rounded-xl transition-all flex items-center justify-center space-x-2 ${y?"bg-red-500 hover:bg-red-600 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:[A.jsx(ox,{className:"w-5 h-5"}),A.jsx("span",{children:y?"Stop Scanning":"Start Scanning"})]})]}),y&&A.jsxs("div",{className:"relative",children:[A.jsx("div",{id:"reader",className:"max-w-md mx-auto rounded-xl overflow-hidden shadow-lg"}),A.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-purple-500 rounded-xl"})]}),P&&A.jsx(Mt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:P}),H&&A.jsx(Mt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-green-50 text-green-700 rounded-xl border border-green-200",children:H})]}),f==="generator"&&A.jsx(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:A.jsxs("div",{className:"max-w-2xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-100 mb-4",children:A.jsx(ed,{className:"w-8 h-8 text-purple-600"})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Redeem Code"}),A.jsx("p",{className:"text-gray-600 mt-2",children:"Create a unique code for students to redeem their rewards"})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsx("button",{onClick:_i,disabled:ge,className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl transition-all flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl disabled:opacity-70 disabled:cursor-not-allowed",children:ge?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{className:"text-lg font-medium",children:"Generating Code..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(ed,{className:"w-6 h-6"}),A.jsx("span",{className:"text-lg font-medium",children:"Generate New Code"})]})}),x&&A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Generated Code"}),A.jsx("button",{onClick:Br,className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-100 rounded-lg transition-colors",title:"Copy to clipboard",children:Ie?A.jsx(qv,{className:"w-5 h-5"}):A.jsx(Zv,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"font-mono text-3xl text-green-700 bg-white p-6 rounded-xl border border-green-300 text-center tracking-wider shadow-inner",children:x}),A.jsx("div",{className:"mt-4 text-center",children:A.jsxs("div",{className:"inline-flex items-center space-x-2 text-sm text-green-600 bg-white px-3 py-1 rounded-full shadow-sm border border-green-200",children:[A.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),A.jsx("span",{children:"Expires in 24 hours"})]})})]})]}),P&&A.jsx(Mt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:P})]})]})}),f==="borrowed"&&A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Borrowed Items"}),A.jsx("p",{className:"text-gray-600 mt-1",children:"Track all currently borrowed items"})]}),A.jsx("div",{className:"w-full sm:w-64",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",placeholder:"Search by student ID...",value:Ye,onChange:ke,className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),A.jsxs("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:[A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Borrow Time"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Pe.map(Re=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Re.studentIdNumber}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Re.items.map((lt,Qe)=>A.jsxs("div",{children:[lt.name," (x",lt.quantity,")"]},Qe))}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Re.borrowTime).toLocaleString()}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Re.status==="borrowed"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:Re.status})}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Re.status==="borrowed"&&A.jsx("button",{onClick:()=>Oe(Re._id),className:"text-blue-600 hover:text-blue-900",children:"Return"})})]},Re._id))})]}),Pe.length===0&&A.jsx("div",{className:"text-center py-12",children:A.jsx("p",{className:"text-gray-500",children:"No borrowed items found."})})]}),xt>1&&A.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-4",children:[A.jsx("button",{onClick:()=>qe(Math.max(1,K-1)),disabled:K===1,className:`p-2 rounded-lg transition-colors ${K===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(cu,{className:"w-5 h-5"})}),A.jsxs("span",{className:"text-gray-700 font-medium",children:["Page ",K," of ",xt]}),A.jsx("button",{onClick:()=>qe(Math.min(xt,K+1)),disabled:K===xt,className:`p-2 rounded-lg transition-colors ${K===xt?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(uu,{className:"w-5 h-5"})})]})]}),f==="returned"&&A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Returned Items History"}),A.jsx("p",{className:"text-gray-600 mt-1",children:"View history of all returned items"})]}),A.jsx("div",{className:"w-full sm:w-64",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",placeholder:"Search by student ID...",value:_e,onChange:si,className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),A.jsxs("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:[A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Borrow Time"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Time"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Le.map(Re=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Re.studentIdNumber}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Re.items.map((lt,Qe)=>A.jsxs("div",{children:[lt.name," (x",lt.quantity,")"]},Qe))}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Re.borrowTime).toLocaleString()}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Re.returnTime).toLocaleString()}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:Re.status})})]},Re._id))})]}),Le.length===0&&A.jsx("div",{className:"text-center py-12",children:A.jsx("p",{className:"text-gray-500",children:"No returned items found."})})]}),ye>1&&A.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-4",children:[A.jsx("button",{onClick:()=>Jt(Math.max(1,ie-1)),disabled:ie===1,className:`p-2 rounded-lg transition-colors ${ie===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(cu,{className:"w-5 h-5"})}),A.jsxs("span",{className:"text-gray-700 font-medium",children:["Page ",ie," of ",ye]}),A.jsx("button",{onClick:()=>Jt(Math.min(ye,ie+1)),disabled:ie===ye,className:`p-2 rounded-lg transition-colors ${ie===ye?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(uu,{className:"w-5 h-5"})})]})]}),f==="rewards"&&A.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:A.jsx(Cd,{className:"w-6 h-6 text-pink-600"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Claimed Rewards"}),A.jsx("p",{className:"text-gray-600 mt-1",children:"View all claimed rewards by students"})]})]}),A.jsx("div",{className:"w-full sm:w-64",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",placeholder:"Search rewards...",value:F,onChange:Rn,className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),A.jsxs("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:[A.jsxs("table",{className:"min-w-full table-auto",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-50",children:[A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reward"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Used"}),A.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Claimed"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200",children:oi.map(Re=>A.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:Re.idNumber})}),A.jsx("td",{className:"px-4 sm:px-6 py-4",children:A.jsx("div",{className:"text-sm text-gray-900",children:Re.reward})}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:A.jsxs("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800",children:[Re.pointsUsed," points"]})}),A.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm text-gray-900",children:new Date(Re.dateClaimed).toLocaleString()})})]},Re._id))})]}),oi.length===0&&A.jsx("div",{className:"text-center py-12",children:A.jsx("p",{className:"text-gray-500",children:"No claimed rewards found."})})]}),Nn>1&&A.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-4",children:[A.jsx("button",{onClick:()=>an(Math.max(1,je-1)),disabled:je===1,className:`p-2 rounded-lg transition-colors ${je===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(cu,{className:"w-5 h-5"})}),A.jsxs("span",{className:"text-gray-700 font-medium",children:["Page ",je," of ",Nn]}),A.jsx("button",{onClick:()=>an(Math.min(Nn,je+1)),disabled:je===Nn,className:`p-2 rounded-lg transition-colors ${je===Nn?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:A.jsx(uu,{className:"w-5 h-5"})})]})]})]})]})}function j6(){const{user:r,logout:s}=vo(),l=Aa(),[f,m]=U.useState({}),[x,b]=U.useState({name:"",cost:""}),[T,v]=U.useState([]),[y,C]=U.useState([]),[N,_]=U.useState("overview"),[P,L]=U.useState(!0),[H,V]=U.useState(!1),[Y,Q]=U.useState(""),[G,oe]=U.useState(""),$=r.token,pe="https://varda-loyalty-reward-system.onrender.com";U.useEffect(()=>{(async()=>{try{L(!0);const[Fe,K,ee]=await Promise.all([gt.get(`${pe}/api/admin/stats`,{headers:{Authorization:`Bearer ${$}`}}),gt.get(`${pe}/api/admin/users`,{headers:{Authorization:`Bearer ${$}`}}),gt.get(`${pe}/api/admin/claimed-rewards`,{headers:{Authorization:`Bearer ${$}`}})]);m(Fe.data),v(K.data),C(ee.data)}catch(Fe){console.error("Error fetching data:",Fe)}finally{L(!1)}})()},[$,pe]);const ae=async()=>{if(!x.name.trim()||!x.cost){alert("Please fill all fields");return}try{await gt.post(`${pe}/api/admin/reward`,x,{headers:{Authorization:`Bearer ${$}`}}),alert("Reward created successfully!"),b({name:"",cost:""})}catch(_e){alert("Error creating reward"),console.error(_e)}},ve=()=>{s(),l("/login")},ue=()=>{V(!1)},Je=_e=>{_(_e),ue()},Ye=(_e,Fe)=>{const K=T.find(ee=>ee._id===_e);K&&K.role==="admin"||v(T.map(ee=>ee._id===_e?{...ee,role:Fe}:ee))},Be=async _e=>{var K,ee;const Fe=T.find(ie=>ie._id===_e);if(!(Fe&&Fe.role==="admin"))try{Q(""),oe("");const ie=T.find(je=>je._id===_e);if(!ie)return;const Me=await gt.put(`${pe}/api/admin/users/${_e}/role`,{role:ie.role},{headers:{Authorization:`Bearer ${$}`}});oe("Role updated successfully"),setTimeout(()=>{window.location.reload()},1e3)}catch(ie){console.error("Error updating role:",ie),Q(((ee=(K=ie.response)==null?void 0:K.data)==null?void 0:ee.message)||"Error updating role");const Me=T.find(je=>je._id===_e);Me&&v(T.map(je=>je._id===_e?{...je,role:Me.role}:je))}};return P?A.jsx("div",{className:"flex justify-center items-center h-screen",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):A.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[A.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("button",{type:"button",className:"md:hidden p-2 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>V(!H),"aria-expanded":H,"aria-label":"Toggle navigation",children:A.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 ml-2",children:"Points Reward System Admin"})]}),A.jsx("button",{onClick:ve,className:"hidden md:block px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Logout"})]})}),Y&&A.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:A.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),A.jsx("div",{className:"ml-3",children:A.jsx("p",{className:"text-sm text-red-700",children:Y})})]})})}),G&&A.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:A.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),A.jsx("div",{className:"ml-3",children:A.jsx("p",{className:"text-sm text-green-700",children:G})})]})})}),H&&A.jsxs("div",{className:"md:hidden fixed inset-0 z-20",children:[A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:ue}),A.jsx("div",{className:"fixed left-0 top-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out",children:A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"px-4 py-4 border-b border-gray-200 flex justify-between items-center",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Menu"}),A.jsx("button",{onClick:ue,className:"p-1 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-label":"Close menu",children:A.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("nav",{className:"flex-1 overflow-y-auto",children:A.jsxs("ul",{className:"divide-y divide-gray-200",children:[A.jsx("li",{children:A.jsx("button",{onClick:()=>Je("overview"),className:`w-full text-left px-4 py-3 ${N==="overview"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:"Overview"})}),A.jsx("li",{children:A.jsx("button",{onClick:()=>Je("users"),className:`w-full text-left px-4 py-3 ${N==="users"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:"Users"})}),A.jsx("li",{children:A.jsx("button",{onClick:()=>Je("rewards"),className:`w-full text-left px-4 py-3 ${N==="rewards"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:"Rewards"})}),A.jsx("li",{children:A.jsx("button",{onClick:()=>Je("claims"),className:`w-full text-left px-4 py-3 ${N==="claims"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:"Claims"})})]})}),A.jsx("div",{className:"p-4 border-t border-gray-200",children:A.jsx("button",{onClick:()=>{ue(),ve()},className:"w-full px-4 py-2 bg-red-600 text-white font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Logout"})})]})})]}),A.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[A.jsx("nav",{className:"mb-8 hidden md:block",children:A.jsx("div",{className:"border-b border-gray-200",children:A.jsxs("ul",{className:"flex flex-wrap -mb-px",children:[A.jsx("li",{className:"mr-2",children:A.jsx("button",{onClick:()=>_("overview"),className:`inline-block p-4 ${N==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-600 hover:border-gray-300"}`,children:"Overview"})}),A.jsx("li",{className:"mr-2",children:A.jsx("button",{onClick:()=>_("users"),className:`inline-block p-4 ${N==="users"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-600 hover:border-gray-300"}`,children:"Users"})}),A.jsx("li",{className:"mr-2",children:A.jsx("button",{onClick:()=>_("rewards"),className:`inline-block p-4 ${N==="rewards"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-600 hover:border-gray-300"}`,children:"Rewards"})}),A.jsx("li",{className:"mr-2",children:A.jsx("button",{onClick:()=>_("claims"),className:`inline-block p-4 ${N==="claims"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-600 hover:border-gray-300"}`,children:"Claims"})})]})})}),N==="overview"&&A.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"System Overview"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[A.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[A.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Total Users"}),A.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f.totalUsers||0})]}),A.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[A.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Unused Points"}),A.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.totalPointsUnused||0})]}),A.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[A.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Used Points"}),A.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f.totalPointsUsed||0})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[A.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-800",children:"Create New Reward"}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.jsxs("div",{className:"flex-grow",children:[A.jsx("label",{htmlFor:"reward-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reward Name"}),A.jsx("input",{id:"reward-name",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Free Coffee",value:x.name,onChange:_e=>b({...x,name:_e.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"reward-cost",className:"block text-sm font-medium text-gray-700 mb-1",children:"Point Cost"}),A.jsx("input",{id:"reward-cost",type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 100",value:x.cost,onChange:_e=>b({...x,cost:_e.target.value})})]}),A.jsx("div",{className:"self-end",children:A.jsx("button",{onClick:ae,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Reward"})})]})]})]}),N==="users"&&A.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[A.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:A.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"User Management"})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(_e=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_e.idNumber}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:_e.points})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsxs("select",{value:_e.role,onChange:Fe=>Ye(_e._id,Fe.target.value),className:"px-2 py-1 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:_e.role==="admin",children:[A.jsx("option",{value:"student",children:"Student"}),A.jsx("option",{value:"teacher",children:"Teacher"}),A.jsx("option",{value:"ateneoStaff",children:"Ateneo Staff"}),A.jsx("option",{value:"cashier",children:"Cashier"}),A.jsx("option",{value:"admin",children:"Admin"})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_e.role!=="admin"&&A.jsx("button",{onClick:()=>Be(_e._id),className:"text-blue-600 hover:text-blue-900",children:"Save"})})]},_e._id))})]})})]}),N==="claims"&&A.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[A.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:A.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Claimed Rewards"})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Number"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reward"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Claimed"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(_e=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_e.idNumber}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_e.reward}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_e.pointsUsed}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_e.dateClaimed).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]},_e._id))})]})})]})]})]})}function md({children:r,role:s}){const{user:l}=vo();return l?s==="student"&&["student","teacher","ateneoStaff"].includes(l.role)?r:s&&l.role!==s?A.jsx(Ed,{to:"/"}):r:A.jsx(Ed,{to:"/login"})}function P6(){return A.jsx(Ov,{children:A.jsxs(sv,{children:[A.jsx(ha,{path:"/",element:A.jsx(Ed,{to:"/login"})}),A.jsx(ha,{path:"/login",element:A.jsx(Uv,{})}),A.jsx(ha,{path:"/register",element:A.jsx(zv,{})}),A.jsx(ha,{path:"/student",element:A.jsx(md,{role:"student",children:A.jsx(a6,{})})}),A.jsx(ha,{path:"/cashier",element:A.jsx(md,{role:"cashier",children:A.jsx(L6,{})})}),A.jsx(ha,{path:"/admin",element:A.jsx(md,{role:"admin",children:A.jsx(j6,{})})})]})})}Fb.createRoot(document.getElementById("root")).render(A.jsxs(g4,{children:["  ",A.jsx(P6,{})]}))});export default k6();
